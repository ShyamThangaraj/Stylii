2025-09-06 16:04:10,227 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:04:10,227 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:04:10,228 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:04:10,228 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 16:04:11,415 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:04:11,416 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:04:11.416094', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:04:14,836 - __main__ - INFO - [req_1757199854] Starting streaming design endpoint request
2025-09-06 16:04:14,836 - __main__ - INFO - [req_1757199854] Reading image data before streaming
2025-09-06 16:04:14,837 - __main__ - INFO - [req_1757199854] Successfully read 2822905 bytes of image data
2025-09-06 16:04:14,939 - __main__ - INFO - [req_1757199854] Starting designer service streaming
2025-09-06 16:04:14,939 - __main__ - INFO - [req_1757199854] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 16:04:15,041 - __main__ - INFO - [req_1757199854] Creating BytesIO for designer service
2025-09-06 16:04:15,041 - __main__ - INFO - [req_1757199854] Created files dict for designer service
2025-09-06 16:04:15,041 - __main__ - INFO - [req_1757199854] Initiating HTTP streaming request to designer service
2025-09-06 16:04:15,069 - __main__ - INFO - [req_1757199854] Created httpx.AsyncClient with 120s timeout
2025-09-06 16:04:15,081 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 16:04:15,082 - __main__ - INFO - [req_1757199854] Designer service response status: 200
2025-09-06 16:04:15,082 - __main__ - INFO - [req_1757199854] Starting to process designer service streaming response
2025-09-06 16:04:53,890 - __main__ - INFO - [req_1757199854] Designer service completed successfully
2025-09-06 16:04:53,993 - __main__ - INFO - [req_1757199854] Extracting product thumbnails from designer data
2025-09-06 16:04:53,994 - __main__ - INFO - [req_1757199854] Found 7 product recommendations
2025-09-06 16:04:53,994 - __main__ - INFO - [req_1757199854] Extracted 7 product thumbnails
2025-09-06 16:04:53,994 - __main__ - INFO - [req_1757199854] Starting image generation streaming
2025-09-06 16:04:53,994 - __main__ - INFO - [req_1757199854] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 16:04:54,095 - __main__ - INFO - [req_1757199854] Preparing image data for img-gen service
2025-09-06 16:04:54,095 - __main__ - INFO - [req_1757199854] Prepared form data for img-gen service with 7 products
2025-09-06 16:04:54,095 - __main__ - INFO - [req_1757199854] Initiating HTTP streaming request to img-gen service
2025-09-06 16:04:54,103 - __main__ - INFO - [req_1757199854] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 16:04:54,120 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 16:04:54,120 - __main__ - INFO - [req_1757199854] Image generation service response status: 200
2025-09-06 16:04:54,120 - __main__ - INFO - [req_1757199854] Starting to process img-gen service streaming response
2025-09-06 16:05:08,271 - __main__ - WARNING - [req_1757199854] Failed to parse img-gen chunk JSON: Unterminated string starting at: line 1 column 70 (char 69)
2025-09-06 16:05:08,277 - __main__ - ERROR - [req_1757199854] No image generated by img-gen service
2025-09-06 16:05:11,413 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:05:11,413 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:05:11.413923', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:06:11,408 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:06:11,409 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:06:11.409040', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:07:11,405 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:07:11,405 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:07:11.405737', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:08:11,402 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:08:11,403 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:08:11.403080', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:08:43,028 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:08:43,028 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:08:43,029 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:08:43,029 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 16:08:59,388 - __main__ - INFO - [req_1757200139] Starting streaming design endpoint request
2025-09-06 16:08:59,388 - __main__ - INFO - [req_1757200139] Reading image data before streaming
2025-09-06 16:08:59,390 - __main__ - INFO - [req_1757200139] Successfully read 2822905 bytes of image data
2025-09-06 16:08:59,493 - __main__ - INFO - [req_1757200139] Starting designer service streaming
2025-09-06 16:08:59,494 - __main__ - INFO - [req_1757200139] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 16:08:59,596 - __main__ - INFO - [req_1757200139] Creating BytesIO for designer service
2025-09-06 16:08:59,596 - __main__ - INFO - [req_1757200139] Created files dict for designer service
2025-09-06 16:08:59,596 - __main__ - INFO - [req_1757200139] Initiating HTTP streaming request to designer service
2025-09-06 16:08:59,645 - __main__ - INFO - [req_1757200139] Created httpx.AsyncClient with 120s timeout
2025-09-06 16:08:59,657 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 16:08:59,657 - __main__ - INFO - [req_1757200139] Designer service response status: 200
2025-09-06 16:08:59,657 - __main__ - INFO - [req_1757200139] Starting to process designer service streaming response
2025-09-06 16:08:59,657 - __main__ - INFO - [req_1757200139] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 16:08:59,657 - __main__ - INFO - [req_1757200139] Parsed designer chunk data: analyzing_image
2025-09-06 16:09:04,250 - __main__ - INFO - [req_1757200139] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Office/Event Space", "...
2025-09-06 16:09:04,252 - __main__ - INFO - [req_1757200139] Parsed designer chunk data: image_analyzed
2025-09-06 16:09:04,354 - __main__ - INFO - [req_1757200139] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 16:09:04,354 - __main__ - INFO - [req_1757200139] Parsed designer chunk data: critiquing_design
2025-09-06 16:09:08,639 - __main__ - INFO - [req_1757200139] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Bright and well-l...
2025-09-06 16:09:08,639 - __main__ - INFO - [req_1757200139] Parsed designer chunk data: design_critiqued
2025-09-06 16:09:08,742 - __main__ - INFO - [req_1757200139] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 16:09:08,742 - __main__ - INFO - [req_1757200139] Parsed designer chunk data: parsing_preferences
2025-09-06 16:09:09,512 - __main__ - INFO - [req_1757200139] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 500, "budget...
2025-09-06 16:09:09,512 - __main__ - INFO - [req_1757200139] Parsed designer chunk data: preferences_parsed
2025-09-06 16:09:09,614 - __main__ - INFO - [req_1757200139] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 16:09:09,615 - __main__ - INFO - [req_1757200139] Parsed designer chunk data: finding_products
2025-09-06 16:09:11,398 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:09:11,399 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:09:11.398985', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:09:35,184 - __main__ - INFO - [req_1757200139] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Office/Event Space", ...
2025-09-06 16:09:35,185 - __main__ - INFO - [req_1757200139] Parsed designer chunk data: completed
2025-09-06 16:09:35,185 - __main__ - INFO - [req_1757200139] Designer service completed successfully
2025-09-06 16:09:35,288 - __main__ - INFO - [req_1757200139] Extracting product thumbnails from designer data
2025-09-06 16:09:35,288 - __main__ - INFO - [req_1757200139] Found 7 product recommendations
2025-09-06 16:09:35,288 - __main__ - INFO - [req_1757200139] Product 1: 4Pack 80FT 240LED Fairy Lights Battery Operated with Remote & Timer | 8 Modes Twinkle String Lights Battery Powered Indoor Outdoor Waterproof for Bedroom Wedding Classroom Christmas Décor -> https://m.media-amazon.com/images/I/81SnZLTL6FL._AC_UL320_.jpg
2025-09-06 16:09:35,288 - __main__ - INFO - [req_1757200139] Product 2: Zenply Novelty Small Table Lamp for Bedroom,Vintage Style Striped Small Night Light Lamp, Mini Bedside Lamp for Living Room Nightstand Small Space Kids Room Living Room Office Dorm (SM), Warm-SM -> https://m.media-amazon.com/images/I/61q3yToTnOL._AC_UL320_.jpg
2025-09-06 16:09:35,289 - __main__ - INFO - [req_1757200139] Product 3: Fixwal 15.8in Floating Shelves, Rustic Wood Finish Wall Shelves Set of 4, Shelves for Wall Decor, with Invisible Brackets for Bathroom, Living Room,Bedroom and Kitchen(Rustic Brown) -> https://m.media-amazon.com/images/I/81idrrAKHPL._AC_UL320_.jpg
2025-09-06 16:09:35,289 - __main__ - INFO - [req_1757200139] Product 4: DreamsEden Small Wooden Decorative Storage Box with Handle - Wood Leather Treasure Chest Trunk Keepsake Vintage Suitcase, 11.8" x 7.8" x 5.9" (Tower) -> https://m.media-amazon.com/images/I/71j7OBToyJL._AC_UL320_.jpg
2025-09-06 16:09:35,289 - __main__ - INFO - [req_1757200139] Product 5: Accnicc Yellow Sun and Moon Tapestry Vintage Indie Boho Tapestry Wall Hanging with Sunflowers Butterfly Moth Constellation Aesthetic Wall Tapestries for Bedroom Dorm Living Room (Orange, 48'' × 36'') -> https://m.media-amazon.com/images/I/911yi8KfCrL._AC_UL320_.jpg
2025-09-06 16:09:35,289 - __main__ - INFO - [req_1757200139] Product 6: Cottagecore Mushroom Decorative Throw Pillow Covers 18x18 Inch Set of 2 Daisy Flower Butterfly Outdoor Rustic Farmhouse Spring Fall Decor Cushion Case Decoration for Home Couch Living Room -> https://m.media-amazon.com/images/I/71kIWGTFKPL._AC_UL320_.jpg
2025-09-06 16:09:35,289 - __main__ - INFO - [req_1757200139] Product 7: CROSOFMI Artificial Fiddle Leaf Fig Tree 50 Inch Fake Ficus Lyrata Plant with 56 Leaves Faux Plants in Pot for Indoor Outdoor House Home Office Garden Modern Decoration Perfect Housewarming Gift -> https://m.media-amazon.com/images/I/61TmvKSOFVL._AC_UL320_.jpg
2025-09-06 16:09:35,289 - __main__ - INFO - [req_1757200139] Extracted 7 product thumbnails
2025-09-06 16:09:35,290 - __main__ - INFO - [req_1757200139] Starting image generation streaming
2025-09-06 16:09:35,290 - __main__ - INFO - [req_1757200139] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 16:09:35,391 - __main__ - INFO - [req_1757200139] Preparing image data for img-gen service
2025-09-06 16:09:35,392 - __main__ - INFO - [req_1757200139] Prepared form data for img-gen service with 7 products
2025-09-06 16:09:35,392 - __main__ - INFO - [req_1757200139] Initiating HTTP streaming request to img-gen service
2025-09-06 16:09:35,402 - __main__ - INFO - [req_1757200139] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 16:09:35,417 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 16:09:35,417 - __main__ - INFO - [req_1757200139] Image generation service response status: 200
2025-09-06 16:09:35,417 - __main__ - INFO - [req_1757200139] Starting to process img-gen service streaming response
2025-09-06 16:09:35,417 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757200175", "message": "Starting image processing......
2025-09-06 16:09:35,417 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: started
2025-09-06 16:09:35,518 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 16:09:35,518 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: parsing
2025-09-06 16:09:35,620 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 16:09:35,621 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: loading_room
2025-09-06 16:09:35,881 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 7 product images..."}

...
2025-09-06 16:09:35,881 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: downloading
2025-09-06 16:09:35,983 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/7..."}

...
2025-09-06 16:09:35,983 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: downloading
2025-09-06 16:09:36,225 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/7..."}

...
2025-09-06 16:09:36,225 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: downloading
2025-09-06 16:09:36,616 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/7..."}

...
2025-09-06 16:09:36,616 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: downloading
2025-09-06 16:09:36,857 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/7..."}

...
2025-09-06 16:09:36,857 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: downloading
2025-09-06 16:09:37,106 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/7..."}

...
2025-09-06 16:09:37,106 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: downloading
2025-09-06 16:09:37,321 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/7..."}

...
2025-09-06 16:09:37,322 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: downloading
2025-09-06 16:09:37,581 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/7..."}

...
2025-09-06 16:09:37,581 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: downloading
2025-09-06 16:09:37,784 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 16:09:37,784 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: creating_montage
2025-09-06 16:09:37,905 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 16:09:37,905 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: generating
2025-09-06 16:09:48,861 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 16:09:48,861 - __main__ - INFO - [req_1757200139] Parsed img-gen chunk data: processing_result
2025-09-06 16:09:48,975 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: data: {"status": "completed", "success": true, "generated_image": {"data": "iVBORw0KGgoAAAANSUhEUgAA...
2025-09-06 16:09:48,975 - __main__ - WARNING - [req_1757200139] Failed to parse img-gen chunk JSON: Unterminated string starting at: line 1 column 70 (char 69)
2025-09-06 16:09:48,976 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: NO+i37fhbdfh98/q/8CwH+ljAR9LbkKDlp/bcGEHNOgA+k+GENnDZ7MPIG5wAKYNIePf2TB6OomP2bhz0AGFmCDDCx29YzbqmY2i...
2025-09-06 16:09:48,976 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 3N3E6BsG/5lE/paInCvBQ6J8VtseA19K9LVRhbyAgNHIASur0rpi3pJKagFq1dltBReraFvTyfOa/KbiB7WQ14sB1NfriAC36x92...
2025-09-06 16:09:48,976 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: gRzg4jYBunj7kLm6S1/eJc6v4xfSHXFxkzq/TowvAfpjw7PIEBTuTBmch4enChX/YxCAyHgcGY2j/WEYPLPXD45wpcelQnAtXFpg...
2025-09-06 16:09:48,976 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 0xfnqbOTBHD/9VXu/Cwh8H2UHczsbKap9/SUKxzpn8gnJ6AQcY7xT8EYo0L9Lx8ditLf4+hUUILpoXx0EJ2OI7gdlOYvqaTW71kj...
2025-09-06 16:09:48,976 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: Q1ynXvXKZJjCj1bTlFr13GR4p9O91Glf6nWvlPJnOvVrnfK5RvkMfIANxJz3APR/x+JeEA/nnMc+HfKvJGLb6YQqHt4OeJZwKwDN...
2025-09-06 16:09:48,976 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: Fm7z1SXhpgXoDwZlLLNGKhHGpUQ2ojIPoSiCswEp4Wy6vFhCTY8bS2kIrweCUi+HKnJn6imxiDg9FlQZWGTwMwhOZ3RZeGT19bqj...
2025-09-06 16:09:48,977 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: QXtXVl4rqMpZWSVHBEDVKGsbNe1VTV8vqoktIPEzK29Vtd2WmbhBMSO9qhtrJU27YRh0HL2mpduyELhvNDT9jnXUcbRbpgEm+ujr...
2025-09-06 16:09:48,977 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: K/QWiK7QfYdrx+HajyY1RA/szj2C9f7Q2XXFHomrPcHzzLUpXTCEY1cEJcNxpYuz3qNMYBJJtdO17/EdJVNawvSh8JUHixh0SZfB...
2025-09-06 16:09:48,977 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: n/U5wOgGwxuzZc6CX7B5q3nJbJ4nFOv1bjphZF8y6t9bOP0G6hf7qtEwT1gcmaGmd3bbol73k+H8DR3WxnYC1vEvn53+qDv7CW0A...
2025-09-06 16:09:48,977 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: JmzEj9aFO1n3OyIDHEUqgLWV+CkYEa9+PJoZBOi3/ACjDuDRsgCA6YhdDCUBeLwXHx2URXpPinmkSN3C9NZ0fzCKx9FEEBBP9OWo...
2025-09-06 16:09:48,977 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: jMcmiV+ls/Qs05mcMZ5AwFEqbaDdCJens3jzORjHmEpPEeuj04DmJzmegTxmJo4Vg4kwR++nsJ4wAXNtYlIk7kMOFB1PYAFhRBRy...
2025-09-06 16:09:48,977 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: GgreLlQszQVPs+VeWJwhMrm+kzzsVstNF/3OJzJ6wpetxWmg+bJlLnAjEB9PEN2lX6qKnf70imLMZaEOvLlFB99bGNPbRfGfE50P...
2025-09-06 16:09:48,977 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 9Iwzkbcmcvb0tIN+CAnN22z1aNdOmyMpI/06sM1dxzs6TgHSs9FFuYRDCWOIjQGIBI3oogjzMUUg8UdjF5L709Zq7I85FDNxaI/W...
2025-09-06 16:09:48,977 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 8qxTDdonENd5/5lW515rHRJzeziSpxlAIT4ohIX+KdxnxKfO6RG3TxzPa0aNvp/lWckRvgnt0cR91k5ZQfIRq3A3pmJ3qOpvOTy+...
2025-09-06 16:09:48,978 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: VSrA8+ADr5P+3VQAWn9I/JH4KSgf3l85yA002VPT/YUS7IMkuME/X+WWAKH905BcBsIgKP8sTIWPcAC9E+bIH3Igonm4fqECOg8I...
2025-09-06 16:09:48,978 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: evXIdzZuefyJJ9Y/8tgD659Yt+GJx7du3/Tk07ufem73wWf2PPeVp7/ylUNPHdq7b/+uPbu379m7fd/+Hdt3ovf30HN7M/LCuvpu...
2025-09-06 16:09:48,978 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: Gyc/fOfoicMbt65fuWbpwsVzlq9ctGTZotVrV2zavn777s279m09cHTP/iN7Dj6//7mXjhw6vu/wCwd3H9m1dc+WletWLl25eObs...
2025-09-06 16:09:48,978 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: VRntxzzWfnZbKcHDIPqxbuwTPbRi3LVhENhjzTfe+q+9dKMfqsc91ox/ovXaU/utp+brxxoJD9QTHmq+8dCLd9eNeqQTdl878I5m...
2025-09-06 16:09:48,978 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: vQdXn7988P2WFVOnTZ7lYP/FF1/OnD5lyrSvd+/dunvX1q+//I8HzvcGfxup7aivaqspqCuOz0jgRHIcPR+dPHt089Z1i5fPnWE/...
2025-09-06 16:09:48,978 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: Upm5Gtg2FMHCwcwhTIBwIY1VjJqlIoWJDYTBxMVMoXyC/oWqbIL+FQaWysCmh5aQCtBKceX6IjBGG0DFpIAW5zwpYQjqXJmG0AOW...
2025-09-06 16:09:48,978 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: A2av2Imt2VHP8+PeiXb0lMb385N6hfufFyd3Cw/VXgkoPeDamBreURBfnGyXEW2RFm5VesJrquF0p2hPrzB5uvLQ47SAihPurbf8...
2025-09-06 16:09:48,979 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 28lZ19lFz8VJz9FRn2x29ro2NhoOdjoOttpODjpODrrOTvrOzoauTob25CpHPWcnQycnA1cXI1c3UxdXEzd3EzdPc3cPMxdXU0dX...
2025-09-06 16:09:48,979 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: LSxqS2oMrnojhoECDajQOatNpbUmcv3qympNpdVGZ4XWXW2orDO8eFn+f/+r/X/9w/s/PzY31qtl+mJ7ud5WYbJXGXUOld4FCMSg...
2025-09-06 16:09:48,979 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: YDaAa+gA3odQo9sD+FeAWX6/ugKwsKDbqz0s/nUPCwYFYgDFcNAUtneHKXyw8i+A+5i+f/trVCgo+7Ek0Kvts9MNBPevrjcvzzeu...
2025-09-06 16:09:48,979 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: dRZ1jJRxiVRUtRI2dJHwjdNiqQiLiJ+UJJ2RUxVTUBag0I5wZAUsnYyzastaZ6YQ9K+f6Gmc7G6Z6auf6qke6W6aGmhFBGB2EDGB...
2025-09-06 16:09:48,979 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: bMXaRV6BS6K2r/GNXBG+acPGoOVL1jwRFLkmImbDuo3PrvR5es/HUft/eHn726Hrg5cEb/bYs3/XO9++HbvT38P7WZ+Q5dvfCot/...
2025-09-06 16:09:48,979 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: RlRmnbjsj7rGMhY7tY1MlMn/mmzdZSQht0FeRURLX85gi5KusYKesZLpNu1T5/edOmt74OiuQyf22rucv3zj9HXPS/ZuF5w8Lju5...
2025-09-06 16:09:48,979 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 5rygprzg+lz/ilRVVZpPRapPVVZQQZwqM0KSGS7Li1bWpPtXpPkVp/iWp/kXJfnkRnlnhUsKEkF8nxEhTg3xSAsVZoSLC+JVJUk+...
2025-09-06 16:09:48,980 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: MjvlFo8GyAOGC5lkBrMcQL/eptJZFAYrXFSqjV1asxydxyaF1ihT6aUKvVRjkWmtcjiqzHKFWaowyRD9mxRd2o4OXYfcrJQZFYD7...
2025-09-06 16:09:48,980 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: INUqcDCvIiunIgvO5NdklzQW1nRVVrSWldYXFlfn5ZZmZpfszyk9kF2470DurqyCfdlF+7MK9+YUodY/kL8ns2DvwcL9B3JA7u8+...
2025-09-06 16:09:48,980 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: t1+XXr0Q8bHpb88uXMAPcv/vCcH/Q/wI/b93B+NmenTqhk2CO3Tt3rb9752A3+DaAHOdgDtxAtAJBQA0oD1XFbQTnLRv077tvHlT...
2025-09-06 16:09:48,980 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: QS/P72U6sbCHKgFyMLE5GGuB2h1OutMJDMAOeOHddrudHfRxO4O8YIDhcWMDgM/L7wgIznbwz3awkQ382AHs8TBB36MTqIcT9FO6...
2025-09-06 16:09:48,980 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: D3z+/hfwv/MHf1353l9XvPfXD1a8s+rDFZ+vXrnhu9VpsWtKsjdjCrZgi7agpOTyLcRS5PsJSABH+JRolTFwWzomgUNIY+HSWAgA...
2025-09-06 16:09:48,981 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: bhhfs46v2keWzBCjKxbAhiHbYq9hpt+4gAoD7KY+83yfaaHHONc5P43aCCzOts9PNU4Ng+KHaJkea50Zb52daNGjjKCmiZEb40Og...
2025-09-06 16:09:48,981 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: LaB4oH8rIw6gv06SaWPEW+iA6YlObjKQOvC6T5BhpMZriXdN9DgLI05HumthJFjp8SrcGxrCbQ3xTQP5no54F6zAQIl1ROkZHmtl...
2025-09-06 16:09:48,981 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: LC6KSIpDgqLA69hgYZG7+4Qf7hIXR2QAWsXw9iMYcItht6bukg7eOzoV/cLl2JOfr//w8Px3P537/sHZ73+YffBo8cmzCzB+fDD3...
2025-09-06 16:09:48,981 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 6enpTedyoVw+mMv5M1l3KmWPRy3xsMnrkLkdCi8Mq8Jlllj0Qqe122kVm7QdZm2HUdVqNXRYYGjbNNJmeReXS6+v2P/Ld1u/2rJx...
2025-09-06 16:09:48,981 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: g5QkGFCEwTzCAbx4uo8BPPp4Q34R/MaiD/g+hhsJ4SlA/6hfAq+C62OvNJ9oAO7HJcCwH7cw5REnnfykk93n5gDfD7iE2I3YAwIj...
2025-09-06 16:09:48,981 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: F56h6H8+0Tw/3Lg02fvbn9///Ov3bzivP/UrSPzXM1/fzn5/v/D9/fyP94ufXk59fDXx+e3stw8L3z8tAADA+PXT0q8fl3/7/Pzr...
2025-09-06 16:09:48,981 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: tuzJpVPDI32PRu41XDt1qb6yu+/u8tvJ1u7blwF6vhqfeT0xsjYyOHe/b6jp3sCttt4rN24dr6hKudZcf/c+cIwrrf3X7g01B/k5...
2025-09-06 16:09:48,982 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: FzABeGlxun12rIlogTrmJ9vggMX5npWl3qWFHoT4KPfvXpjumpvumJ/unJvEYoHZmdaF2fZl4AwzwA3agVcszfcuzAB/wEoBbBWY...
2025-09-06 16:09:48,982 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: BEGocYIXsIPrh7VT00EywaeryfSqz8ZVpbrVZnqgbDXg+1xPIHJspt+jGTX7Eupz8dWZniAA6jGyx5LLSLUI7nGoSbqQWJeDg4eV...
2025-09-06 16:09:48,982 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: vr4nQAL9/U293Q97uu4P9j/u730E267Oe01N19rbb3e032lvvdkJO603mp9cbnp8qbXl2pNHlx7erbpem16c6pXsbxTnTkvwYCR4...
2025-09-06 16:09:48,982 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 0lF2MlEOcpkMXZrCQ77zv1zlP2cLBMDwapjh5RS7myyLqwnWt7JcHkaaXgrWF2Jo8QRo8/rThNy1bnrqP4LF3eCxpzGafa3U71lQ...
2025-09-06 16:09:48,982 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 2tKJbOnvaFeUGpYa5lmeGxnhaZsS7Vdfm/Ms3Qfo93y53XKl02qF00iG6Vpr3MZS+/edxS+vh2ZHW5bn2gf7a/qB9nQVFeSHtzVl...
2025-09-06 16:09:48,982 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: bp2JZb1WeWJKvoSqCLfLQ+SNYfwo2QcsDpA9gg6IHJM6I3GkH/A94H7U9kQwSoEARDAKkAwwi4AAxLBhV0EEvTCSAa8lUaySSFZh...
2025-09-06 16:09:48,982 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: 1IRkUaI4LRWgf7IY4/8zc+X5xXkFxXmkAaCwvLq4pqG8pLKwqq6ssa1amfHzn4qfv9I/laIgMgVw6iTykzQGf0mqfUnx15dnEN+f...
2025-09-06 16:09:48,983 - __main__ - INFO - [req_1757200139] Received chunk from img-gen service: C09trSwsAdfb2Fja37N7aG8PoNxHLs7JTOhordKixqlPO9LVXF9aWpSjUkgcHB5aW1pZwR/iyAAMDe4YmpjAH91mVhbmlhbmDx7c...
2025-09-06 16:09:48,983 - __main__ - ERROR - [req_1757200139] No image generated by img-gen service
2025-09-06 16:10:11,398 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:10:11,399 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:10:11.399093', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:11:11,394 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:11:11,395 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:11:11.395406', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:12:11,396 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:12:11,397 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:12:11.397197', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:13:11,391 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:13:11,392 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:13:11.392330', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:14:11,381 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:14:11,381 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:14:11.381200', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:15:11,376 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:15:11,376 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:15:11.376709', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:16:11,385 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:16:11,385 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:16:11.385801', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:17:11,377 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:17:11,378 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:17:11.378652', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:18:11,386 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:18:11,386 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:18:11.386846', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:19:11,382 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:19:11,383 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:19:11.383780', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:20:11,373 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:20:11,374 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:20:11.374368', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:21:11,374 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:21:11,376 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:21:11.376179', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:22:11,370 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:22:11,370 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:22:11.370470', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:23:13,264 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:23:13,264 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:23:13,265 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:23:13,265 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 16:23:17,702 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:23:17,702 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:23:17.702836', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:23:39,397 - __main__ - INFO - [req_1757201019] Starting streaming design endpoint request
2025-09-06 16:23:39,397 - __main__ - INFO - [req_1757201019] Reading image data before streaming
2025-09-06 16:23:39,398 - __main__ - INFO - [req_1757201019] Successfully read 2822905 bytes of image data
2025-09-06 16:23:39,501 - __main__ - INFO - [req_1757201019] Starting designer service streaming
2025-09-06 16:23:39,502 - __main__ - INFO - [req_1757201019] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 16:23:39,603 - __main__ - INFO - [req_1757201019] Creating BytesIO for designer service
2025-09-06 16:23:39,604 - __main__ - INFO - [req_1757201019] Created files dict for designer service
2025-09-06 16:23:39,604 - __main__ - INFO - [req_1757201019] Initiating HTTP streaming request to designer service
2025-09-06 16:23:39,652 - __main__ - INFO - [req_1757201019] Created httpx.AsyncClient with 120s timeout
2025-09-06 16:23:39,663 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 16:23:39,663 - __main__ - INFO - [req_1757201019] Designer service response status: 200
2025-09-06 16:23:39,663 - __main__ - INFO - [req_1757201019] Starting to process designer service streaming response
2025-09-06 16:23:39,663 - __main__ - INFO - [req_1757201019] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 16:23:39,663 - __main__ - INFO - [req_1757201019] Parsed designer chunk data: analyzing_image
2025-09-06 16:23:43,594 - __main__ - INFO - [req_1757201019] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Office/Meeting space",...
2025-09-06 16:23:43,594 - __main__ - INFO - [req_1757201019] Parsed designer chunk data: image_analyzed
2025-09-06 16:23:43,697 - __main__ - INFO - [req_1757201019] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 16:23:43,697 - __main__ - INFO - [req_1757201019] Parsed designer chunk data: critiquing_design
2025-09-06 16:23:48,302 - __main__ - INFO - [req_1757201019] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Bright, natural l...
2025-09-06 16:23:48,302 - __main__ - INFO - [req_1757201019] Parsed designer chunk data: design_critiqued
2025-09-06 16:23:48,405 - __main__ - INFO - [req_1757201019] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 16:23:48,405 - __main__ - INFO - [req_1757201019] Parsed designer chunk data: parsing_preferences
2025-09-06 16:23:49,071 - __main__ - INFO - [req_1757201019] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 500, "budget...
2025-09-06 16:23:49,071 - __main__ - INFO - [req_1757201019] Parsed designer chunk data: preferences_parsed
2025-09-06 16:23:49,173 - __main__ - INFO - [req_1757201019] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 16:23:49,174 - __main__ - INFO - [req_1757201019] Parsed designer chunk data: finding_products
2025-09-06 16:24:16,253 - __main__ - INFO - [req_1757201019] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Office/Meeting space"...
2025-09-06 16:24:16,253 - __main__ - INFO - [req_1757201019] Parsed designer chunk data: completed
2025-09-06 16:24:16,254 - __main__ - INFO - [req_1757201019] Designer service completed successfully
2025-09-06 16:24:16,357 - __main__ - INFO - [req_1757201019] Extracting product thumbnails from designer data
2025-09-06 16:24:16,357 - __main__ - INFO - [req_1757201019] Found 7 product recommendations
2025-09-06 16:24:16,357 - __main__ - INFO - [req_1757201019] Product 1: LED Desk Lamp for Home Office, Desk Light for Video Call, 3 Color Temperature 10 Brightness Computer Light, Dimmable Led Desk Light with Memory & Timer Func, Metal Swing Arm Table Lamp -> https://m.media-amazon.com/images/I/71bsih1Q6jL._AC_UL320_.jpg
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Product 2: Wicker Storage Baskets with Lids - Set of 2 Rectangular Water Hyacinth Boxes, Natural Decor Organizer, Basket with Top, Multi-Use for Home and Shelf, Hyacinth Decorative Boxes for Effective Storage -> https://m.media-amazon.com/images/I/71gVm01ebIL._AC_UL320_.jpg
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Product 3: Wooden Box Set of 2 - Rustic Farmhouse Decorative Boxes with Hinged Lid and Carved Design -> https://m.media-amazon.com/images/I/71VLJYQyLrL._AC_UL320_.jpg
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Product 4: Homeforia 12 inch Oak Floating Shelf, High End Solid Real Wood 12inch Small Floating Shelves for Wall Mounted, Honey Oak Wooden 12in Floating Shelves, Heavy Duty Bracket, 12 X 6.5 X 1.75 in, Set of 2 -> https://m.media-amazon.com/images/I/61J+UzPQCzL._AC_UL320_.jpg
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Product 5: Roslynity Vintage Botanical Wall Art Prints Set of 6 Plant Floral Sketches Prints Art Posters Retro Nature Flower Aesthetic Pictures for Living Room Bedroom Cottagecore Decor (8"x10" UNFRAMED) -> https://m.media-amazon.com/images/I/71jm3e8G01L._AC_UL320_.jpg
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Product 6: Der Rose 4 Pack Fake Plants Mini Artificial Greenery Potted Plants for Home Decor Indoor Office Table Room Farmhouse -> https://m.media-amazon.com/images/I/81e8tgVARwL._AC_UL320_.jpg
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Product 7: CPC Agate Green 100% Cotton Block Print Ruffle Sham Cover 14x36 inch, Handmade Boho Floral Pillowcase, Farmhouse Cottagecore Bedding, Soft Decorative Cushion Cover for Bedroom Décor -> https://m.media-amazon.com/images/I/61K+CKInOBL._AC_UL320_.jpg
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Extracted 7 product thumbnails
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Starting image generation streaming
2025-09-06 16:24:16,358 - __main__ - INFO - [req_1757201019] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 16:24:16,459 - __main__ - INFO - [req_1757201019] Preparing image data for img-gen service
2025-09-06 16:24:16,460 - __main__ - INFO - [req_1757201019] Prepared form data for img-gen service with 7 products
2025-09-06 16:24:16,460 - __main__ - INFO - [req_1757201019] Initiating HTTP streaming request to img-gen service
2025-09-06 16:24:16,474 - __main__ - INFO - [req_1757201019] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 16:24:16,493 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 16:24:16,493 - __main__ - INFO - [req_1757201019] Image generation service response status: 200
2025-09-06 16:24:16,493 - __main__ - INFO - [req_1757201019] Starting to process img-gen service streaming response
2025-09-06 16:24:16,493 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757201056", "message": "Starting image processing......
2025-09-06 16:24:16,493 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: started
2025-09-06 16:24:16,595 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 16:24:16,595 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: parsing
2025-09-06 16:24:16,697 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 16:24:16,697 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: loading_room
2025-09-06 16:24:16,953 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 7 product images..."}

...
2025-09-06 16:24:16,953 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: downloading
2025-09-06 16:24:17,055 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/7..."}

...
2025-09-06 16:24:17,055 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: downloading
2025-09-06 16:24:17,252 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/7..."}

...
2025-09-06 16:24:17,252 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: downloading
2025-09-06 16:24:17,439 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/7..."}

...
2025-09-06 16:24:17,439 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: downloading
2025-09-06 16:24:17,680 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/7..."}

...
2025-09-06 16:24:17,680 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: downloading
2025-09-06 16:24:17,695 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:24:17,695 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:24:17.695571', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:24:17,994 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/7..."}

...
2025-09-06 16:24:17,995 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: downloading
2025-09-06 16:24:18,169 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/7..."}

...
2025-09-06 16:24:18,169 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: downloading
2025-09-06 16:24:18,453 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/7..."}

...
2025-09-06 16:24:18,454 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: downloading
2025-09-06 16:24:18,622 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 16:24:18,623 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: creating_montage
2025-09-06 16:24:18,744 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 16:24:18,744 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: generating
2025-09-06 16:24:29,315 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 16:24:29,315 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: processing_result
2025-09-06 16:24:29,426 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757201056", "processing_time": 12...
2025-09-06 16:24:29,426 - __main__ - INFO - [req_1757201019] Parsed img-gen chunk data: completed
2025-09-06 16:24:29,426 - __main__ - INFO - [req_1757201019] Image generation completed successfully
2025-09-06 16:24:29,528 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42jz9...
2025-09-06 16:24:29,529 - __main__ - WARNING - [req_1757201019] Failed to parse img-gen chunk JSON: Unterminated string starting at: line 1 column 34 (char 33)
2025-09-06 16:24:29,529 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: VBp8UnSEo7u8eOQ8ux+J7+TLIVFxerwrsfi28/SHdk96/2X47DWhfEyvPnSIoj9/0372qvnkNayN3sL7f/DxK/1sx52eFI1tRyLb...
2025-09-06 16:24:29,529 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: Xl6S/S+A12XvbMD2VHa/YDuYhxW/wO4hDupzvFPxzooontmg/YnkfB4NLpA2AOW7n3kO/yfkfo4VFN88QL8CRuF/IXtnQq7nPttP...
2025-09-06 16:24:29,530 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: MuSVZGQ3pK6E1OUYy//bkeBGSFsJ6Wu4i6cS+xna/+3h7YUitTqZtDmbtcXju/H4XiZjzqYs+BCrdX+uYKM0q8JksVSKYKLA6F8X...
2025-09-06 16:24:29,530 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: ycasgAyrpH568qyl0rpy1VZl2pdMI86yJV8wdPvudletNZXBnv/0Mrl/HBkehrt97/FxAsi+XLPWGzjnSqFkLRLfb6vOqXRaW287...
2025-09-06 16:24:29,530 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 9LiHXWXUUds1R7cpMcYLfxA82auWoyHjfo8Y4expN12tur3dsA+6yrDr6dYl8Iezk8Djff7+Ln80wP5tV+dhYH1mDD/l378rUdMv...
2025-09-06 16:24:29,530 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: FoEj8/ZcnieqwBRB9FxGSHf8Z4gZDV95vWcE94OK1hvAbICAijENpguQKXQueI9F3zHBbkUxhYN6STz1iG/cMAacCeKJ23MoCEdO...
2025-09-06 16:24:29,531 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: ogeZpKZVd/Q6gSGD171ecAjvL5v0Y9iPSf+AiemRy8kuASVQB/yq03egunLDeHmfs/wZPp4EfQ5U9f/gGbJPMvtZKa8a36myiBGr...
2025-09-06 16:24:29,531 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: cZjW53WpCX6SJ7r6P4kOYNbzxZKCsCxwdCEfYN6PnZd32VuCDk+V++fa9G1t+lwZP5bHT9XRY2X8ULmblG6nBWIIZ9dJ+mf1yx+H...
2025-09-06 16:24:29,531 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: iMXsKSwUzCSSjrRM4NiZTs/li8FqPWoUVjV9uVAOmMU1Iw+Vv6qtGCZWAHIaAQt/qRxKZ+ZUfVUz0fYVE6bo2uhWyNg1c5kIAHtT...
2025-09-06 16:24:29,531 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: EcvDnl3O6RfSf8zjeTwfE6n/hOx59h8VOp/xhD7Ow35299Lll/yU9yX+IHYA9BNixt8fv51YJbgSywXXki7oUqwMXPKaA5/DmiIi...
2025-09-06 16:24:29,532 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 7jFu5zxNNtRKNEBQAqHnYVl/sfhM5yMF9ZRoA5oXpwmVDvA6XMIM8UticYCjgSAHqnLhbtEikQGsALCzlhB5SZhxpWR9zs/hWf5f...
2025-09-06 16:24:29,532 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: IpE43YVq6PIod0WUI5Y8jRK1iKa3QANOdw7y0AJhXEAucJgNRtPbh7ngUS60n/buJbewEpt7ia3A4Xr42BXYX/Hs2DbC9uVt/boP...
2025-09-06 16:24:29,532 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 3r7/0Z2s798AB/iAmABvCT64/eD7d7N/ROj/ftaP7mf/6M79T67f/ujKjfc/v/yPP/vs77//yV//w3f/5G/+9g/+4i//z//7D//X...
2025-09-06 16:24:29,532 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: g3fKRserOnry+oZu9Q0WPphuoCv3Z+sndC3TuvbZxbZpfevELH1F89R8y5S+eVLXQGta3zyz0EqUgC5OL2BDACXE3FQwu4Tg/3lD...
2025-09-06 16:24:29,533 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: pWRFp2J2cmRyFnGVMFT9EQkqBD+hMP6eOXIqLSQxIzQxPfTE6UPHEg+Gxu06GPX3g5F/w/QxTigiGnCI+EDUm7SORLx+OBKu5SP0...
2025-09-06 16:24:29,533 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: spTF6ACWF2fBUabPkOozgAaIEPorgQxI9Ko0DXIAYZGU9D8yQX4aaoHUAP3FKbmi5CwBP1sgyENDMC+Ll4zon5+MKzkpg8fLwDDQ...
2025-09-06 16:24:29,534 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: x4b3Pzz4zV+/OH3mXx4eFx48vBMXE5AQGxoXG/rz6X8tWfzmhnXrvO/f2rNnx/p16z/55N2DR/Zs2rJuy+Z1mzat3bxx3dZN6z96...
2025-09-06 16:24:29,534 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 0MFKAy6RTOgSRww04FKL+HJz14WmTgzEBEDcJkH1C/qPZRhLypde58tv8sTXmzsuXW3+9KMLR99+f/+OQ2+8sRvJwMYdL2za/cqm...
2025-09-06 16:24:29,534 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: rPlBx7BSZ0frsIpFQVc45vRo/50zogoANcA4cYMDGGbmdFHr2axXwcN+AnalAx78H+wVj3qlw24JaY9A/wX6AbHfLe13i7nUut9p...
2025-09-06 16:24:29,535 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: IV93ItLX31F/wW0bG2wNTvTSB8MseyHEyJ+LxqRDUAIuJOZK41RA+ioTgNnpaKjN2Ji3zVVx3FGrt7g1pmo1XXHWmmqa7Y1Vp7p0...
2025-09-06 16:24:29,535 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: fBjVkvV+VDM6qh4ja4QsFVmjw8pRPB6xKIctimGrwmpVWCwKs0lmNsrApaQnHzTk8w5IKnRqqLoMqk6d7I126KVm8IWm/7mip5nw...
2025-09-06 16:24:29,535 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: kJoPUiKZmIkeblXOZy5NLC0Mr8k5EsEi+l0f7Wsf7G7hcce57ImBjlb0q4xYAfoz4HOmGPMjCK2+eyfC5Vac1RWBgDvTkemMCUBu...
2025-09-06 16:24:29,536 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: rYDI/AHhO3R+4dZbAz6ixmRAS3AAIvkHwu91uDwLv97fygGMuPNYh2mPWoCwr0GP6I1sbUXJqW445xn91T9vWu4/YmvtZGsL3V82...
2025-09-06 16:24:29,536 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: oUOAyO7FeOf4iriU7ghBuRL19EQURCHvN24BpW4ZXo59BYB3uTJAjSpKQE8W3Umb75tyaC5V6EvNHJTklZK0fnzmeKnCJCLi6xWR...
2025-09-06 16:24:29,536 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: vaDpdwlBj4KrQg8E1T6+SGwVgImBG7yQAxb9451+eBJHwtvgCp0ALvgJwU+MM0BdYAQR4uAYYC9kI6EOFt4vbzy7fuv57RvPbt21...
2025-09-06 16:24:29,536 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: IsLcOaXJuRVpmcVJ6QXx2WXJ6aVHUgoTCmoyK9tKqjvLy1sLi5tzS8D4W1jeAqMASP/Esh9o6m3FKB8U/9gSAF1gJcRQW47TP9EF...
2025-09-06 16:24:29,537 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 93eLCvaMDfeMCXeLCHGCoN8boH+nMIpLZKBjKMUxnOIZH+WXmuSTluAF0H9agl96YmB2akh+BthHFufFVBQB6B9XCTlAUm1lYlVZ...
2025-09-06 16:24:29,537 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: rgRPF8QTAtwdvNyc/Twcvd3sPV2cfHCOeDdHLzf00hbnbO+Js3ZztHV3snK2t3JzsHJxsHS0sfN0dvbGufvh/UL8I2JJ9DQqV8Qt...
2025-09-06 16:24:29,537 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: PRQwlfiNYZ8OcGBtUFvrV1TZBGV6rluCtwvQTkGxhZ1nZheAZmQA3Z+to+YoCRlSdIoEnSLGpEqwaXAtH5cmI6QryNkKaq6SmqVm...
2025-09-06 16:24:29,537 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: ZgiQDXqSQUdz2CgWE9UGyN5AseKGwLjDRrPbRs3mIa2uX63GvmGLiQQcwGQCAuDaBwA+MGTU96McyEC2WIAJ9KnV2DOg1fWqEPr3...
2025-09-06 16:24:29,538 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: jIsA65HeLM9LlxelRjWRXqrHmjBix0CxokLPwKoKtw6M6i0aIDUAwdCitG9mhMgSVYvx72Qea5LxXZaGV1Ry3aJCvyjTzcoNMObl...
2025-09-06 16:24:29,538 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: lJ8AAAAbR3YShJ8XRDjGkV0Sye6xkS5xZDdBpCs/0p0X7sQMPpMQ7SaIcOaGno/xOR2IOe7puN/pzD4P95OBQXgqLYLDp9O5MZGU...
2025-09-06 16:24:29,538 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 4dmJuKRkQloaSSCg8AQ0AAPpAho4h52IAYOViGWy0YlJOG4KnsPFsrk4WBTEwhBpWCIdG4MO5ZsMqqygKtNnLgoa8rKUWT5DYdBW...
2025-09-06 16:24:29,538 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: hzYv+WLFotULPl61aN7qxXAfYPXCeWuWzF+3DAAA0P0fr/oEYsDKJfNWL1mwAmDAkoVLFs5bvmgeQIKl8+Ytnffx4o8/WvHJx5AE...
2025-09-06 16:24:29,539 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: m+Ba+AWtpZvtqGMAzl4JtoBzi5IscB8sr6XO2l2llTDXN6iyz/cYv9oVuDrsfnm66dXpph+u9725vvX59W1/e3r6jyen/vbo5N+f...
2025-09-06 16:24:29,539 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: CKGWcGUADxg6YKBZkJQDGADqH+1ECU8hYACFhGNQFaolLIwYyLnAGFoZH92HJDygBZipU8ItsDJXLeaqxFwd1hJgiYJGThiVTpUT...
2025-09-06 16:24:29,539 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: VRIkIVWERqiSOHNVOaNKTC8X0cTAQP6Y+2fF3MPVBAGoRELCqiLk/lVidkUZTvyXlzHEpXRRKa0MPrKQIRExJUKWSMgqE7IK88n5...
2025-09-06 16:24:29,540 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: /KajFAhAxlJPmAHQnOoVoRwIgDV6AzCwsjIsAzJG8QoBmtdEFBTM8TSwAbhnTLxhM3fYxMugxJ+dANiqogABGDZxM5Y6APoZM9H4...
2025-09-06 16:24:29,540 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: X728cfvi87d3/vhvX37544sX7+5/+8u773//5syp2WPHEy/eXnr7+bVjJ0cnxt3hgH5qbnDx+PjtxxdOnx/vDQuTQ5Jb1xNHF0Lj...
2025-09-06 16:24:29,540 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: tXOORgD0nXJsmUADTXjD0ny/IMfGSHFx0n1YxE/x8LPt7DQvP7sVa3twih14Okj4k7YS5jxE5y4G5XYCu6uxqSAoxjgwnGUnOqS9...
2025-09-06 16:24:29,540 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: Kcovwel5QkwfayhFJqDO36DYs1a1dz1gegNQgpI4CyuxCuA4j4QgnujkAqyvKdygL9pgKI0DVqApiFHt24B6nn0bNAWxVpykh9fC...
2025-09-06 16:24:29,541 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: Oz06era/f/Tk6YHjp/qO9A0eG5noHxrvPXSkub4uv7Het78ncOhQ3eFDjceONmM/QE/VkYO1B/dXHj4INKCis9Xb1uTqas3v6cg/...
2025-09-06 16:24:29,541 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: vV29DS0dusERy+xi99C4rVZT1tGr1plkbf0qk73W0KR5/ffHe3dXOnr1u9cmnr69v7wx0tlTd3mwrlHLkQoiqkTRWkWqripDJU9T...
2025-09-06 16:24:29,541 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 3/zC/Ztfun/zK89vPqGc/dz33Jc+Z7/wc/ja59xXZGACKAT6Lenbrzwd/kmt5W5vz2xsjN++Nbe5NTE72zMz3TG/0Ds90TI+apuf...
2025-09-06 16:24:29,541 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: Ae5T04TUNEltmrThrLA6RVidLKs/87OZtZWFzfWFzbXxxfmJ5fmR+bnxpcWJpTkgA7Orq9OrK0AA+mfHhufnhufn+2aADEy7JiZt...
2025-09-06 16:24:29,542 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: R1vsp8jzFKQeq0k7oy3GrBXSoBSqzPeSYKLoOcD3MrwIriQAiwCID8fFmSelmWdITZiXLAc5hijjTFXqMWH68SNxvxRelXlGknFG...
2025-09-06 16:24:29,542 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 9qsP+28/br96v/b41e7rD9tP3+y+eHfn47fD91/233zcfvZ648mLlYePsR74+av1J0/XHz1avXdv+8nTjUeP956/WL93f/XuXVIP...
2025-09-06 16:24:29,542 - __main__ - INFO - [req_1757201019] Received chunk from img-gen service: 4fyxMkE0xoBmREj5KAES8MJkwshsGZYDSDJRL6QQRudmp0T5Mpwt/ulo9k9LnT8Ynfid0fHfmZ79A9Pseyfb0w7WpxxtdewpOmwb...
2025-09-06 16:24:29,543 - __main__ - ERROR - [req_1757201019] Incomplete image data received from img-gen service
2025-09-06 16:25:17,688 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:25:17,689 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:25:17.689219', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:26:10,082 - __main__ - INFO - Health check endpoint accessed
2025-09-06 16:26:17,685 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:26:17,685 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:26:17.685721', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:27:10,886 - __main__ - INFO - [req_1757201230] Starting streaming design endpoint request
2025-09-06 16:27:10,886 - __main__ - INFO - [req_1757201230] Reading image data before streaming
2025-09-06 16:27:10,888 - __main__ - INFO - [req_1757201230] Successfully read 2822905 bytes of image data
2025-09-06 16:27:10,992 - __main__ - INFO - [req_1757201230] Starting designer service streaming
2025-09-06 16:27:10,992 - __main__ - INFO - [req_1757201230] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 16:27:11,094 - __main__ - INFO - [req_1757201230] Creating BytesIO for designer service
2025-09-06 16:27:11,094 - __main__ - INFO - [req_1757201230] Created files dict for designer service
2025-09-06 16:27:11,094 - __main__ - INFO - [req_1757201230] Initiating HTTP streaming request to designer service
2025-09-06 16:27:11,106 - __main__ - INFO - [req_1757201230] Created httpx.AsyncClient with 120s timeout
2025-09-06 16:27:11,123 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 16:27:11,123 - __main__ - INFO - [req_1757201230] Designer service response status: 200
2025-09-06 16:27:11,123 - __main__ - INFO - [req_1757201230] Starting to process designer service streaming response
2025-09-06 16:27:11,124 - __main__ - INFO - [req_1757201230] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 16:27:11,124 - __main__ - INFO - [req_1757201230] Parsed designer chunk data: analyzing_image
2025-09-06 16:27:15,322 - __main__ - INFO - [req_1757201230] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Office/Conference Room...
2025-09-06 16:27:15,323 - __main__ - INFO - [req_1757201230] Parsed designer chunk data: image_analyzed
2025-09-06 16:27:15,425 - __main__ - INFO - [req_1757201230] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 16:27:15,425 - __main__ - INFO - [req_1757201230] Parsed designer chunk data: critiquing_design
2025-09-06 16:27:17,683 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:27:17,683 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:27:17.683785', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:27:19,581 - __main__ - INFO - [req_1757201230] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Ample natural lig...
2025-09-06 16:27:19,581 - __main__ - INFO - [req_1757201230] Parsed designer chunk data: design_critiqued
2025-09-06 16:27:19,684 - __main__ - INFO - [req_1757201230] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 16:27:19,684 - __main__ - INFO - [req_1757201230] Parsed designer chunk data: parsing_preferences
2025-09-06 16:27:21,488 - __main__ - INFO - [req_1757201230] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 5000, "budge...
2025-09-06 16:27:21,488 - __main__ - INFO - [req_1757201230] Parsed designer chunk data: preferences_parsed
2025-09-06 16:27:21,590 - __main__ - INFO - [req_1757201230] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 16:27:21,590 - __main__ - INFO - [req_1757201230] Parsed designer chunk data: finding_products
2025-09-06 16:27:51,690 - __main__ - INFO - [req_1757201230] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Office/Conference Roo...
2025-09-06 16:27:51,691 - __main__ - INFO - [req_1757201230] Parsed designer chunk data: completed
2025-09-06 16:27:51,691 - __main__ - INFO - [req_1757201230] Designer service completed successfully
2025-09-06 16:27:51,793 - __main__ - INFO - [req_1757201230] Extracting product thumbnails from designer data
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Found 8 product recommendations
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Product 1: Brightech Modern LED Floor Lamp with Adjustable Brightness - Sky Torchiere Super Bright, Dimmable, Indoor Pole Uplight for Living Rooms and Offices - White -> https://m.media-amazon.com/images/I/51UcdAApynL._AC_UL320_.jpg
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Product 2: LiTY Pen Holder for Desk, Acacia Wooden Pencil Stand, Solid Wood Business Card Holder, Fountain Pen Organizer, Minimalist Aesthetic Office Stationery Desk Decor -> https://m.media-amazon.com/images/I/71ridBss-LL._AC_UL320_.jpg
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Product 3: Heimlove 36 Inch White Floating Bookshelves Set of 3,Heavy Duty Wall Mounted Bookshelves,Wall Bookshelf for Living Room,Bedroom,Kitchen,Laundry Room Storage & Decor -> https://m.media-amazon.com/images/I/81MVgT0n8pL._AC_UL320_.jpg
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Product 4: IBUYKE Narrow Side Table with Storage Shelf, 3 Tier Slim End Table,Modern Sofa Table, Small Nightstand, Telephone Table for Small Spaces,for Living Room, Bedroom, Black UTMZ002B -> https://m.media-amazon.com/images/I/61zRJOfs9QL._AC_UL320_.jpg
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Product 5: MIULEE Pack of 2 Vintage Decorative Burlap Linen Throw Pillow Covers Modern Farmhouse Pillowcase Rustic Woven Textured Cushion Cover for Sofa Couch Bed 20x20 Inch Olive Green -> https://m.media-amazon.com/images/I/717Cq8wBcPL._AC_UL320_.jpg
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Product 6: Briful Fake Snake Plant 16" Faux Potted Plant Artificial Snake Plant with White Ceramic Pot Sansevieria Plant Perfect for House Modern Living Room Office Housewarming Gift Indoor Decor -> https://m.media-amazon.com/images/I/61aSHgDrw5L._AC_UL320_.jpg
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Product 7: Paco Home Area Rug Modern Geometric Pattern in Brown Beige, Size: 5'3" x 7'7" -> https://m.media-amazon.com/images/I/81MLTXIUyXL._AC_UL320_.jpg
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Product 8: KLAKLA Extra Large Wall Art - Abstract Huge Canvas Picture Wall Decor Living Room Oversized Artwork for Walls Bedroom Office Decoration Modern Frame Wall Art -> https://m.media-amazon.com/images/I/81ZO0rTk9IL._AC_UL320_.jpg
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Extracted 8 product thumbnails
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Starting image generation streaming
2025-09-06 16:27:51,794 - __main__ - INFO - [req_1757201230] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 16:27:51,895 - __main__ - INFO - [req_1757201230] Preparing image data for img-gen service
2025-09-06 16:27:51,896 - __main__ - INFO - [req_1757201230] Prepared form data for img-gen service with 8 products
2025-09-06 16:27:51,896 - __main__ - INFO - [req_1757201230] Initiating HTTP streaming request to img-gen service
2025-09-06 16:27:51,905 - __main__ - INFO - [req_1757201230] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 16:27:51,923 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 16:27:51,923 - __main__ - INFO - [req_1757201230] Image generation service response status: 200
2025-09-06 16:27:51,923 - __main__ - INFO - [req_1757201230] Starting to process img-gen service streaming response
2025-09-06 16:27:51,923 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757201271", "message": "Starting image processing......
2025-09-06 16:27:51,923 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: started
2025-09-06 16:27:52,025 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 16:27:52,025 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: parsing
2025-09-06 16:27:52,126 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 16:27:52,126 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: loading_room
2025-09-06 16:27:52,367 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 8 product images..."}

...
2025-09-06 16:27:52,367 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:27:52,468 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/8..."}

...
2025-09-06 16:27:52,468 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:28:01,795 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/8..."}

...
2025-09-06 16:28:01,795 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:28:02,037 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/8..."}

...
2025-09-06 16:28:02,037 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:28:02,233 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/8..."}

...
2025-09-06 16:28:02,234 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:28:02,410 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/8..."}

...
2025-09-06 16:28:02,410 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:28:02,601 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/8..."}

...
2025-09-06 16:28:02,601 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:28:02,829 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/8..."}

...
2025-09-06 16:28:02,829 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:28:03,083 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 8/8..."}

...
2025-09-06 16:28:03,083 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: downloading
2025-09-06 16:28:03,287 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 16:28:03,287 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: creating_montage
2025-09-06 16:28:03,407 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 16:28:03,407 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: generating
2025-09-06 16:28:15,952 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 16:28:15,953 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: processing_result
2025-09-06 16:28:16,061 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757201271", "processing_time": 24...
2025-09-06 16:28:16,062 - __main__ - INFO - [req_1757201230] Parsed img-gen chunk data: completed
2025-09-06 16:28:16,062 - __main__ - INFO - [req_1757201230] Image generation completed successfully
2025-09-06 16:28:16,164 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42kz9...
2025-09-06 16:28:16,164 - __main__ - WARNING - [req_1757201230] Failed to parse img-gen chunk JSON: Unterminated string starting at: line 1 column 34 (char 33)
2025-09-06 16:28:16,164 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: Eqv4tVGVDXx2cg+38TEF8B1i+ozfE5wqbiPzQFNrtE1Hadvg0ZkfutOsGJtVS7tqrRY459Cp2DplSxs7BwFoOQYtZ0davXpi9t2X...
2025-09-06 16:28:16,165 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: rX/q/BhnDwsKz/5ftb5naXpzlQx+mgckw+fRDZxRknaUNXcivFF8AiL1SUuuDsH0g0wRKCW+jzUCZAjs06UJ+Ew5MggAdsw9JofS...
2025-09-06 16:28:16,165 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: 1gVYTz5E+0uxLmG96PtvFVHQbfbdTe7uKvPuJvvhLnt/lXp/l31/m3t3jd1oDOCQP0NFwRAS4lqOKcW9YDgcOz+JnhyGx7QoJPDt...
2025-09-06 16:28:16,166 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: xGPiRFSUTspoJ0l6jEliUXG1aiTcX2+Yczkl0YD+yNMbONhs5+sPPK2WrdtzgANAAqTv9BwjhhqzZYhwQK1uKORVna6tXjdGQhex...
2025-09-06 16:28:16,166 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: 5xBsKHs2x34ooQpGb52+Y5f/NBzTQCDuO/OFbqMJXTSu8QavAuEbX/AqGLxxexHzEoqqPLjxzhO6iqVRCED43uO/IXwZS+sjCbXD...
2025-09-06 16:28:16,167 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: Kv8wlIYD6ZE7fZ9hFfU+DFD1RZie0PzzMyGzwMtz+OmRHvIsZt6nReD5KYQVAHh8I8+L0AIkIfj0GH57jRFbeCd6APU/0QkCYQFx...
2025-09-06 16:28:16,167 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: Py/cvqrcvtob3Jd798UutwQ8e3Nw++qgygk8J3VUetWR74mWX9b8hE7qQUD5dpRhvcKa/kSjnaw342d15biGRKAzsUQA4VDkFHIg...
2025-09-06 16:28:16,167 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: S41DGJqDbSBtuGgnQWr6cwJ1EEKBRoLhwWRqkuhBArlAo4nUyDKhtPgI7QzFUKkbig0SDg7HBoPs5Q1GhnFkcjyVmdTMsVozc3Bc...
2025-09-06 16:28:16,168 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: EIb9GXkJZS+mt31FV8vSE69eEA1IlavujY2pInzAgubdpYKrUvaUWQjEVQDA9yUO7iQQX6l4OBoIe4ACGALH/zMlKEN2KJE+7iI3...
2025-09-06 16:28:16,168 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: NCCZ1OhPCISMDFD6dzf0ONA8zAAo7dqw0OBrTWkA6IZcAgV/Jusg+sfsHzaAjCOVawNY37CShMgRe1rhPh9TOWkQ4v+zrsymG94A...
2025-09-06 16:28:16,169 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: 33dL0P/4Omfq61uIRTJwH+ZXeKZjuGi3Ejw5MrfALnq4tk2vlrp+49vvRfLv2E3uvuJ4K+fHqgSeSNMGI+zZfk/Tbx0qH4pvT7wf...
2025-09-06 16:28:16,169 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: qta+an+3BxZhWheEliDUqB03NHVpLxi7C9ARBnUQVwFFTYg8etLUwa6AVliEIQfCdqVIvgjbCQpqmwtq/Xk1vhwG/uTVt+TBJQwP...
2025-09-06 16:28:16,170 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: /oYq0Ps7Y3kANNzz4tLZP673q9qHUp9+lf6fUb0Qw/6N5mfd9PjO/qvfd12PBugz/XNo9qJYnyIfRnzCp8ttAczy1wf15Rx5AvX9...
2025-09-06 16:28:16,170 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: 44v+L1SAwRiQWUwEwD+DRf+Y/RfzQYEf6/gDM4kt5PsQsi9VJBTXxhZUR+XRVhWVWx6WVxmeXxGaUxbClcAhWUWQ+GcKwU9RCDa0...
2025-09-06 16:28:16,170 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: bT50eNuBAxtBBt7d/u6R7UeP7jxxdOdHJ/ZC3P/Jgd9/dvDzzw5++sn+Tz/e/9GHUPh88vHeD05g8P/+8V3vn9hFiP/Y0Z3Hju4m...
2025-09-06 16:28:16,171 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: lwNCFySB/kE2LgsyQAQAVzjyf0nSY+e8I7ENgKpKMAc8877aB9sAW/+Io39EiH86WRHk6OFoTmED6AsxMWPRf4/obhtphwEAs/92...
2025-09-06 16:28:16,171 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: F3ohVwvi/NE2oM4VuPfHgP6hJoravWGLuqKAPkP9jdghtMJV3BwwecKKMyCWNBBzqie4fPD+iufBC1aAd8dyAJmhjTAEB9VnMDdH...
2025-09-06 16:28:16,171 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: zz/7m08/fu8PH777m1/db7ppcSvEunqRpp6AfqmaK9fxJKomkbKR8AGyxJomqZYj1XHFWo5cz1foOFqT5G+f/n7mqy/98Y8ffviH...
2025-09-06 16:28:16,172 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: BPH58XjFgMuMIezBAWwMwwbJBAy4T0+OfM+FDxq1Y6x64nWA+XED8DoguFHHkZ0GlgOhIZhTifQS6DciC2iMoD/y8gk06xCjyXFA...
2025-09-06 16:28:16,172 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: NOayl/+JE+f3eRzb5Xpg8y7Xddu2r9yxfSWMC7b+vGXbsu27Vm3bvsx17xoC33fBFv7KHbtW7tq9apcr4QPUfv+KXbspA/HqrTtW...
2025-09-06 16:28:16,172 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: bRMTA8nUUCE75W1nWV+LaLi7ordZWMJLbalk9XdWTI82DffVdbRIM1PD/b3tkhIj09MTCll5tBxafHJ8RDQ5MMTPHefq6OTsG+hP...
2025-09-06 16:28:16,173 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: oeVqf9jD4ZjHxSMejkc8HGC5XTzmbH/U2e6I84XDzucPOV740dnukLPdYbSc7I44XjjiYHfkou2hizYH7K0PONkecbQ94nD+iON5...
2025-09-06 16:28:16,173 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: E4EARCUURMbkhkVmhoSmBAQn+SECAPqfMKZ7OJMTwnALRTiY5gJaIDaC/u6A/tluYWwiBILYHMjNpDB8nGjejlRPe4a3E83Tgepu...
2025-09-06 16:28:16,173 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: DrZ3CwYbAGwDsOwHaraw2xWU/RBD5AQEQKyfcYCYf0IChL/khVN3YPkQgdcLOOkfToNwfXtv8Pv+TPyMIvL+seU3wpHQ8XtF4T0A...
2025-09-06 16:28:16,174 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: WbAKyCpLyt8LJcHFkClE8T3f+EuYAMHxOejizeeL+2lAEFiHkWxQvy9hCBmFIApC3zBUjNFQTiAA6WXJibnRUakEoAdGpwbvTg+J...
2025-09-06 16:28:16,174 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: yisfP7szacsjz6yfv2jegqULoh6Oeu79jU+++8SKF2PmrlnwwMIH/hPxn+j1S1Y/ERX98OL1G5e/te3tFE4GX1XMLBTQcmkf7nw9...
2025-09-06 16:28:16,174 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: maAPCEA+4i+EwsOJUCEaHYwnx9KFnUPFncPZifzIntGJveO735zc9/6ujz955dsj7wJlhXH16tnv/3Pu8qXvbvxw8saV/V98UHjt...
2025-09-06 16:28:16,174 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: acOkTreDyOt0MFwARfAtu1loBHJimQR8FAADbgcKd58HYInrnS/z9YlAgntdcAYAgO11gRCHkwgAAZ845Of7gQpcXJ8H9D036OEG...
2025-09-06 16:28:16,175 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: 4q351Ks+8+lPvEa7VaZVc6wG8a9+dnp8uHXjLoj+C9cDblxHbTe3Ll2/+veffPT3Fz5G6v/ypY8++eTTz86N/z/79LPPQPh/9OnF...
2025-09-06 16:28:16,175 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: JPWD4iaZpF0hbZFJ24Y7lBNpJQ0PcKxrYbTb91yPHb38Hxfu/+ITddku4ERmmVuxwOeJ69Erd/7OywtrH6xullblVzP8cFcCCDfu...
2025-09-06 16:28:16,175 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: noaZhRGegAb/Ye/vKXf3lbvbMr1WIBWSOYwFLmOJy5wHqUzbmqBsTGxtTG2BfqYtANZyAHHXp9ZXxkDlL8z0T091TYy1LS4MjI22...
2025-09-06 16:28:16,176 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: OQId9xiA/gY1D7J+GzXsmjVwf69Nhapx3LsBDzw2KhnyHQt6pOlBi5vDPh3mWYRV8Lt2UKE/0v2W/SC8fSfkNO/7DSE4D+ji1XjR...
2025-09-06 16:28:16,176 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: Qt4Lj/0wMvnjYxffqqpJ5tIbmAj90wisvioasYLWV8UgVdP7qii9lXQQ/9QxyPUMch0DrdCbEBNg0puolMbfnT97IDM1ZJRbJ1wm...
2025-09-06 16:28:16,177 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: YXAG4Prqws0l4ACL80vEJMDy0q2lhVvAAZaXb68u/7zy/MbCs5/+/vvj6upiWmyEu83REHdnx8MH3axOuNpZnTi4d9/endbWx8OC...
2025-09-06 16:28:16,177 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: A+Cp/LigQsD3yRRM7s+kl6VhuW9ebADsX52BGT7AHMpTqHV5nJaSiNpsem0WQPmIhnwOrNRmMasz6UUJeATYrSQ5tCAGzcFAJIAV...
2025-09-06 16:28:16,178 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: PB3c3Z1y08K7eWWtrMddvMci7qM25r0mauHoaPfbL7758Vd/+uFXf/7pN3/9+R/+dvnjj3saH/dySnrZRd2swl4OUJEHQ433h5se...
2025-09-06 16:28:16,179 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: cyszi8LFRcHCqnR1dmVuTjA/x59dRc3PEkaCSlYXREtL4hWsCJAui3QYALqiEGD+j3RFoBQBpl+W83G5QI1z/Cukxkuowdn9Jfnq...
2025-09-06 16:28:16,179 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: J+oFYzXYOTBUDd8x5lYFc6iWr7iUrb1dvTndsjnVrB+uXL5RMNV5cqH3gnZADJj+3nLXvrJzY6J+eaBYc7tUO1hqGJEaxmpX7lSv...
2025-09-06 16:28:16,179 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: BQ4SAKouYOVkb50k/Mzh7AJRPpy5iFFC2Im7grXEmJqP8f/3jzcfn82TaP8NVMgcwzOsULqa+0cA9OHCheO9VVzpP11AkT16oHFQ...
2025-09-06 16:28:16,180 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: f778/OXa6293X7zZl4gmywtuJl1xyr3rWZwUVJIYVJUeWpcdXpkWUpESVJUaUpsZXpsZ1pAX0VYc1158qTU/DhBtYxburMM1ARQL...
2025-09-06 16:28:16,180 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: 4tfzhI/nCRDEXp5ufHJASzpzu1a8Uc2/XiaYKeFcyaMvlcTdaRV/1q94Mqj5bEDz2aDmTqd0v5G7XMGYLaZOXiAN5IR3ZYbgxL/Z...
2025-09-06 16:28:16,180 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: vqt9PoL9vsuAENGW5Yn2NXQFHVid6V2dQgbYmB7cXfJuzw2vzfZtzA/tLo9uzg1Nhdom/W1Twba5WPfK5NBcrGc22p0IdkxHe5am...
2025-09-06 16:28:16,180 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: 2trwQINuLWKZ0NYiuvtvLjB3fRxiVpuF0bYB0WFYchqV7SwJkFscfbmJ/o1ZNnw6UO3VWdq+n49ZsyHx9gJ3DcDAC+/OP8NEKs27...
2025-09-06 16:28:16,181 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: 5pcJK8y3lU28TZe4Zq3DPhmB2qd2Xo980yM9CKoJxO/41GV4AAjsymCrhThEuY9eLTXAMdI/lRtsO3e8skOm9iHU+6SesBnrpL9H...
2025-09-06 16:28:16,181 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: jNmHlI/DmochNeH1x0FYR57E1OiTJuiPGC7Vk1jn05jqcUT9DLr/Lnrho7CKaMCz1W568iH9GaGb+mms60EQa0PzNMRCxCWUZz7p...
2025-09-06 16:28:16,181 - __main__ - INFO - [req_1757201230] Received chunk from img-gen service: uXj7xdH2S6HWymDLeZe2bFBe0CU63S0q6JaW9CnLXaYr4S9vx57fGet6OD/Im+9vmh+oWXXW7/h5ewHehqtmw1W76+NvOxu2nHXr...
2025-09-06 16:28:16,182 - __main__ - ERROR - [req_1757201230] Incomplete image data received from img-gen service
2025-09-06 16:28:17,685 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:28:17,686 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:28:17.685974', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:29:17,682 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:29:17,683 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:29:17.683121', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:30:17,679 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:30:17,680 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:30:17.680824', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:31:17,674 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:31:17,675 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:31:17.675289', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:32:16,746 - __main__ - INFO - Health check endpoint accessed
2025-09-06 16:32:17,675 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:32:17,675 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:32:17.675908', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:33:17,673 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:33:17,674 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:33:17.674330', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:34:17,670 - __main__ - INFO - Status check endpoint accessed
2025-09-06 16:34:17,670 - __main__ - INFO - Returning status data: {'status': 'running', 'service': 'FastAPI Backend', 'version': '1.0.0', 'timestamp': '2025-09-06T16:34:17.670611', 'uptime': 'active', 'endpoints': {'health': '/health', 'status': '/status', 'docs': '/docs', 'test': '/test', 'design': '/design'}}
2025-09-06 16:34:30,492 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:34:30,492 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:34:30,494 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:34:30,494 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 16:34:42,969 - __main__ - INFO - [req_1757201682] Starting streaming design endpoint request
2025-09-06 16:34:42,969 - __main__ - INFO - [req_1757201682] Reading image data before streaming
2025-09-06 16:34:42,970 - __main__ - INFO - [req_1757201682] Successfully read 2822905 bytes of image data
2025-09-06 16:34:43,072 - __main__ - INFO - [req_1757201682] Starting designer service streaming
2025-09-06 16:34:43,072 - __main__ - INFO - [req_1757201682] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 16:34:43,173 - __main__ - INFO - [req_1757201682] Creating BytesIO for designer service
2025-09-06 16:34:43,173 - __main__ - INFO - [req_1757201682] Created files dict for designer service
2025-09-06 16:34:43,173 - __main__ - INFO - [req_1757201682] Initiating HTTP streaming request to designer service
2025-09-06 16:34:43,185 - __main__ - INFO - [req_1757201682] Created httpx.AsyncClient with 120s timeout
2025-09-06 16:34:43,197 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 16:34:43,197 - __main__ - INFO - [req_1757201682] Designer service response status: 200
2025-09-06 16:34:43,197 - __main__ - INFO - [req_1757201682] Starting to process designer service streaming response
2025-09-06 16:34:43,197 - __main__ - INFO - [req_1757201682] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 16:34:43,198 - __main__ - INFO - [req_1757201682] Parsed designer chunk data: analyzing_image
2025-09-06 16:34:46,672 - __main__ - INFO - [req_1757201682] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Office/Event Space", "...
2025-09-06 16:34:46,673 - __main__ - INFO - [req_1757201682] Parsed designer chunk data: image_analyzed
2025-09-06 16:34:46,774 - __main__ - INFO - [req_1757201682] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 16:34:46,774 - __main__ - INFO - [req_1757201682] Parsed designer chunk data: critiquing_design
2025-09-06 16:34:47,022 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:34:47,022 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:34:47,023 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:34:47,023 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 16:34:51,637 - __main__ - INFO - [req_1757201682] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Ample natural lig...
2025-09-06 16:34:51,638 - __main__ - INFO - [req_1757201682] Parsed designer chunk data: design_critiqued
2025-09-06 16:34:51,739 - __main__ - INFO - [req_1757201682] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 16:34:51,739 - __main__ - INFO - [req_1757201682] Parsed designer chunk data: parsing_preferences
2025-09-06 16:34:52,359 - __main__ - INFO - [req_1757201682] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 500, "budget...
2025-09-06 16:34:52,359 - __main__ - INFO - [req_1757201682] Parsed designer chunk data: preferences_parsed
2025-09-06 16:34:52,460 - __main__ - INFO - [req_1757201682] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 16:34:52,460 - __main__ - INFO - [req_1757201682] Parsed designer chunk data: finding_products
2025-09-06 16:35:01,548 - __main__ - INFO - [req_1757201701] Starting non-streaming design endpoint request
2025-09-06 16:35:01,548 - __main__ - INFO - [req_1757201701] Reading image data
2025-09-06 16:35:01,548 - __main__ - INFO - [req_1757201701] Successfully read 2343245 bytes of image data
2025-09-06 16:35:01,548 - __main__ - INFO - [req_1757201701] Calling designer service
2025-09-06 16:35:19,716 - __main__ - INFO - [req_1757201682] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Office/Event Space", ...
2025-09-06 16:35:19,716 - __main__ - INFO - [req_1757201682] Parsed designer chunk data: completed
2025-09-06 16:35:19,717 - __main__ - INFO - [req_1757201682] Designer service completed successfully
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Extracting product thumbnails from designer data
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Found 8 product recommendations
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Product 1: suddus Dimmable Warm White String Lights, 33FT 100 LED Indoor/Outdoor Fairy Lights with Remote, Timer, 4-Level Dimming, 8 Light Modes for Bedroom, Tree, Patio, Garden, Party Decoration -> https://m.media-amazon.com/images/I/71lTEnvLxGL._AC_UL320_.jpg
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Product 2: Livememory Decorative Storage Boxes with Lid and Handles, Memory Box Fabric Storage Bins for Storage Decorative. L15.7 x W11.8 x H7.9 In (Not Made of Wood, 2 Pack) -> https://m.media-amazon.com/images/I/71bCN8fDpRL._AC_UL320_.jpg
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Product 3: FairyHaus Wicker Baskets for Organizing 3Pack, Large and Small Wicker Storage Baskets Set, Hand Woven Baskets for Storage, Natural Water Hyacinth Storage Baskets for Pantry Shelf -> https://m.media-amazon.com/images/I/71W7LQV7yYL._AC_UL320_.jpg
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Product 4: D-Line Cable Management Box, Power Strip Holder, Floor Outlet Hiders, Desk Cord Organizer, Cover TV Wires, Wire Storage, Extension Hider, Office Concealer for Cords, Baby Proof Cables - Large, Black -> https://m.media-amazon.com/images/I/51g4f7Pp+GL._AC_UY218_.jpg
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Product 5: EOBTAIN Sage Green Leaves Tapestry Eucalyptus Leaf Botanical Plant Vintage Daisy Flowers Butterfly Floral Tapestries Simple Cottagecore Aesthetic Tapestry Wall Hanging Living Room Bedroom Dorm 60Wx40H -> https://m.media-amazon.com/images/I/71tlNEbO9AL._AC_UL320_.jpg
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Product 6: Floral Embroidery Sheer Curtains White 63 Inch Length, Rod Pocket Voile Drapes for Living room, Bedroom, Window Treatments Semi Crinkle Curtain Panels for Yard, Patio, Villa, Set of 2, 52"x 63". -> https://m.media-amazon.com/images/I/61HhZgAkxtL._AC_UL320_.jpg
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Product 7: DearHouse 4Pack Artificial Eucalyptus Garland Faux Silk Eucalyptus Leaves Vines Handmade Garland Greenery Wedding Backdrop Arch Wall Decor … -> https://m.media-amazon.com/images/I/81uHwKbmnuL._AC_UL320_.jpg
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Product 8: Ceramic Vase Set of 3, Neutral Rustic Vases Home Decor Farmhouse Decorative Vase Whitewashed Pottery Decor Boho Modern for Table Mantel Entryway Bookshelf Living Room Kitchen Bathroom Bedroom - White -> https://m.media-amazon.com/images/I/91rXI-kqDyL._AC_UL320_.jpg
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Extracted 8 product thumbnails
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Starting image generation streaming
2025-09-06 16:35:19,818 - __main__ - INFO - [req_1757201682] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 16:35:19,920 - __main__ - INFO - [req_1757201682] Preparing image data for img-gen service
2025-09-06 16:35:19,920 - __main__ - INFO - [req_1757201682] Prepared form data for img-gen service with 8 products
2025-09-06 16:35:19,920 - __main__ - INFO - [req_1757201682] Initiating HTTP streaming request to img-gen service
2025-09-06 16:35:19,928 - __main__ - INFO - [req_1757201682] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 16:35:19,939 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 16:35:19,939 - __main__ - INFO - [req_1757201682] Image generation service response status: 200
2025-09-06 16:35:19,939 - __main__ - INFO - [req_1757201682] Starting to process img-gen service streaming response
2025-09-06 16:35:19,939 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757201719", "message": "Starting image processing......
2025-09-06 16:35:19,939 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: started
2025-09-06 16:35:20,040 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 16:35:20,041 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: parsing
2025-09-06 16:35:20,142 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 16:35:20,142 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: loading_room
2025-09-06 16:35:20,384 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 8 product images..."}

...
2025-09-06 16:35:20,384 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:20,486 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/8..."}

...
2025-09-06 16:35:20,486 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:20,756 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/8..."}

...
2025-09-06 16:35:20,757 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:20,998 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/8..."}

...
2025-09-06 16:35:20,998 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:21,162 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/8..."}

...
2025-09-06 16:35:21,162 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:21,379 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/8..."}

...
2025-09-06 16:35:21,379 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:21,605 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/8..."}

...
2025-09-06 16:35:21,605 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:21,830 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/8..."}

...
2025-09-06 16:35:21,830 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:22,063 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 8/8..."}

...
2025-09-06 16:35:22,063 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: downloading
2025-09-06 16:35:22,316 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 16:35:22,316 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: creating_montage
2025-09-06 16:35:22,437 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 16:35:22,437 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: generating
2025-09-06 16:35:23,303 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze "HTTP/1.1 404 NOT FOUND"
2025-09-06 16:35:23,303 - __main__ - ERROR - [req_1757201701] Designer service error: 404
2025-09-06 16:35:23,303 - __main__ - ERROR - [req_1757201701] HTTP exception occurred
2025-09-06 16:35:33,099 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 16:35:33,099 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: processing_result
2025-09-06 16:35:33,205 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757201719", "processing_time": 13...
2025-09-06 16:35:33,205 - __main__ - INFO - [req_1757201682] Parsed img-gen chunk data: completed
2025-09-06 16:35:33,205 - __main__ - INFO - [req_1757201682] Image generation completed successfully
2025-09-06 16:35:33,307 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABEAAAAPACAIAAAC6iptOAAAgAElEQVR42kz9...
2025-09-06 16:35:33,308 - __main__ - WARNING - [req_1757201682] Failed to parse img-gen chunk JSON: Unterminated string starting at: line 1 column 34 (char 33)
2025-09-06 16:35:33,308 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: x1gYPGQsSuiL9HlwPXspOiIssUUT5/RavaDHu4nACt6i5qSoB8DgUDSlSOJv5VJKVDHSKVrHuYA0hdRWOknpPwAGiKLgXOkdMImk...
2025-09-06 16:35:33,308 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: yEcpDjgKsBQl9szRTzmymqRIZk5ayNZky4qSJomPLEOlDXUyYposPmNU59O1jAQlNKUYjqUllwZHFbNbpYxKxPq0RQaZ0ONYPJqz...
2025-09-06 16:35:33,308 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: gaixPqFI1906t5zXME52dYHuFy6U9LKnxXGJQGRrt03Q4uhdY+u3iUMcvSuHSDEedrxENTcd14TW0DdeTJRduXpX9puOs49nOTkE...
2025-09-06 16:35:33,309 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: xZgWpr+QITZTb+49MxMxIRaZ2WYEyUxRH3kfLHYf2YzLf00nE8WUs85KjvD635wnsQnPVomBrsnssJiw709EzDG3PYrOR4YZzK0J...
2025-09-06 16:35:33,309 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: Bqap5BS0s14x5LOyRln/VNaXs8o0fbJ5TbtheW5YihlFOauqlbWVkqZc1OQy8jK6XPTFrDoRvskn5fWivte0jbqu1pO513aMhiiX...
2025-09-06 16:35:33,309 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: dujjLOI/K2VERPKU/Spcmil0LUSiTaMThTBjohxmJLLIRNnoSAlxxtyXGCpjzQcmFlaB+ICocLmILlHOFlN2JjwgJ2pkhqOICAaY...
2025-09-06 16:35:33,309 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: zgTDE8HQJMcBzwqZ8OgXnCEsZSwl08tENdI1meD0rVB4ml34c5Eorel1IqrA9R7hWa/IbDK+mIjNJWBlWVbjYUkQi1ycZ8bmiWrE...
2025-09-06 16:35:33,310 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: x+YjcUs0aaW1e0K3xZIWoou4ZtUMd768lC8t7Z1ES421ZaKduKW2G8hWlvWsO5V2bu2Hjy/1g7P4yZV2dqWfXqaOzhOELtuHke3j...
2025-09-06 16:35:33,310 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: I/UCLb5wvSdkHjE/xqJJggpLXWAhq1EzjOlyCdUTXeroy2fvJGwtjWx0UXqB3hICw6hlH+NhgXhjIIbtsrzFmhlrgRytBS904dO+...
2025-09-06 16:35:33,310 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: 97s8mKNicfS4fMNmW/estlFraOdgTI/R0qnRtRitXVBIrF1mKwY7YIw3MjCdBkylhO2EiMji6Ha4+syET94+M9GIpVMH2zo9+tOD...
2025-09-06 16:35:33,310 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: rgUZ2MPmdi2OMkdBhsfRHJ1jboCQwMwxOYQHkMbYg4yRUV004p95euxST5qCSsYqZieUPpR8qLTgMxHZ10BLhmqcbrHXFEn46NKD...
2025-09-06 16:35:33,310 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: Mg6qYeb+PfvEVIUsHUZSDMdbEFNhOn/ivSfvqcagGYyhFOgq4pZxcghTMQYwOKdy4iEWlh0filuUUZli/THgxO7/eDzNRP70J+Ze...
2025-09-06 16:35:33,311 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: AktMAKZ/LqIA02/EFmy29M2H8BLKMoIxAwuRfogtEZyotOID1QyRWwZ9lFb8OMfHcetQgYWPBloEQiBuBCCSDJthwUVIMYIiwUWj...
2025-09-06 16:35:33,311 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: RtRhn4dS+Igu7ClSTRkxDB74CDxehuMtiDSaCpyqLJWrKxBCuPxCKy5Yc8zbjVsg/YLfhdtKDMNUItVQ+qVShifAOeQ3w31JOaMX...
2025-09-06 16:35:33,311 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: Z+HMCVOfGTNh9Ohxw0c8NWzo8MGPDXvk0UcfGfLokKFDhz4+7PHBgwYPfmTIQ7/57e9+++tf//o/Bg367YhRw2bNmfLSy6u+/OYv...
2025-09-06 16:35:33,311 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: 4qstEE4Wz8+Mmc3SYSh6a1Kkl8lZukpBxsHRrPwk2WlEq8wE4QpN5V3GaT3MSv6MAOby7L6X/HQi88zsWSFkOTe7H6agnOQnZ1Ve...
2025-09-06 16:35:33,311 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: mHzMQh3uD+BgjPy5SKEZfs+zYuKKKDuZirkHIe+IPqPzddhyRj+WMXAzLriISD2LPMq+hZawiJrVw/xTBMGyssQ6jFzcNLjKHMAD...
2025-09-06 16:35:33,312 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: yDy9Cj0RchBuFxirFnttIBPwCVFKv2uAtt7FPtocGDnrs804emZtlhmbcdJsmrB0ndJ3nuzUDWgbLbVz7vFcXoJ+wt6SOGsvkGIE...
2025-09-06 16:35:33,312 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: MeKTehvDTK+BUMSwn4GBMmMzooW5z9jQ1wgOIW6B38xIVINCM2tDVWd1PcIttQAbO52nsQYnoadwfG0fbYjE1EF+IUox1KCjrK66...
2025-09-06 16:35:33,312 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: h1/99rc//wV6YH7+y1/8/OZfzF648KW33njy+WcfeeKxtp6Ofl1fjxYBRjIiFioEIoVAIIfFhqCrt43NZ7L5LJvP4Yt5/AmvM2RP...
2025-09-06 16:35:33,313 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: bBSLv3TJ7kehRAPbQQnTb3A6zMODJtdrAWNcBsqg+HfVYaAQBBuHLFijmm0EWtGw/BlALMuYwzyFZYwGfUiBCkxWvncuopcCnxxQ...
2025-09-06 16:35:33,313 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: YQCCxzVonz3/aW25tLl9j33wIb8U5aD04+cuqh9XUjuuoq1xQv3YETWVw8eUD6U63/9/g6W/DpTKG2LE6bbDmda9KaaSAqu20PvX...
2025-09-06 16:35:33,313 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: C/7718HZwWJOabJM1PT2Vx5P1NPP6xAs8OaWZsaFw7PSMdny3KJSIlsWzi5Mt460zchmpsS8rhHuuGAqtzLnseu9oLTAmu5K/2Tv...
2025-09-06 16:35:33,314 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: qpIulg6gjzaDZ7f+Y+jHY2CTRBwcNrRMzH4jQrfwDBgkUON+RmyYQZ+OKIcBSsE6BogAs1iuwZgxTeAQHruCOAGc7oWnywgjELwo...
2025-09-06 16:35:33,314 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: QktUH1pAMjF+ADDhUT5hkT5h4d7hUQ6entj+8nX3ruTj7969R3BMzOjZs8L6xo6ePunuu6dPct48yX195+3Tu++f3nj1MPv5w8vP...
2025-09-06 16:35:33,314 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: jIyMzUyMLUxDwj0OReyNSw4YZWs2crSZibWF1dgxADBRSUGpJ2MSU0MSUoIdXCydXG39IwMCIvyHWAw2sx45bBSQ0LBhtODS2tjE...
2025-09-06 16:35:33,314 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: hcUpAIl5IUaEoacf6GIBA8pwJm1+YnF+Yh6N/mOLJKlsBX6CkqlFMgYmmQeAQZ0Htmj9F3Epsw1qLyQGDS7CF45JMMqMBJShojKK...
2025-09-06 16:35:33,315 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: Nhyyq4IbGKcUCpk+QpZfeBgrlBUgC2VJQpgUb7sAD3sve1N7szsu1g+dbC3cbR/6upjzuTQW2Z1D8+EHkyR8Rk5KXE5aXEVxRkVJ...
2025-09-06 16:35:33,315 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: MJ8VxWOj+MywgvQQMQcjLaXIS5NZVD8XX5MwtGNsggcuNTAu0SsSZc1hBDYIcAoRvkmYUMuPkfBjJfzEei6mkhNdAZApB8VhBGXT...
2025-09-06 16:35:33,315 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: KCtITY2/WZSbnJEUUZyXXpyTWpyf0VhdjG1vJSIawy6dDrt4prQgLSb8wrlT3/54+vuzh/8BZMuzyiV2pbxTq/CYVN12da9L5+02...
2025-09-06 16:35:33,315 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: 4ZXveRjm3QP/MlZ+/z/+cuCdgx98d+2nR0F+PgE+172vf/fL9199/+XFK5e+/O7zn279+Ovt69fv37r54KZfiN/DZw8fBD287Xev...
2025-09-06 16:35:33,315 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: O1R7/J6DZ72CvD0DPAHPuHveDwu8nwoLeB4kR95Pivo+Juhue1WMbnVSzOlZY3WJyPXcicKKfLeG3uzy9oyU4oji5tQOTEVVf35B...
2025-09-06 16:35:33,316 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: kZLZoby5ofyFkeL5QdzKMH5mEIcviYpP9UhEB4YlvUlABZIaM/OKQjDZ3rR+3Ex3wdxQ2dxgycpo6epw0dIgdrY3d64PszKIpQ/g...
2025-09-06 16:35:33,316 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: DAASAJhjZAVzeIQakR0eHh+gZAtqpnzw8Pjw8AAp+I9OkzBI77EP4HFwdPDoyaMnz548e/H82Ytnj58/e/z0KTAMwMqTp0+fPHv2...
2025-09-06 16:35:33,316 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: HncdanOm15uTGrCqON6zUsEul3NKZUyvhFGGW5qtgOwsQrpYCxLs8C+GGBjP9yrY9hKKsSDBWkyH4ZRxyjXCMhVoRAh0qTEm1RoT...
2025-09-06 16:35:33,316 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: QkmLyUkhCTEKj66SkdYw43JqXA7fDAPZoGmZGV1FFPEAKSKjwCSmoKLMGwCwhBwUk3wCZLqNkhvwAAOccEsDfKwfHnJ2qYdbnvPK...
2025-09-06 16:35:33,316 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: agZcvGhiwXWC0i6vkOzmd4SkSCNBKQX+PfEJ4e8O1S/u9GP2gxaUdhMZmO6IotsnInsEbWhBpmYk1IyokhZXoigfzk3rWDlTX1rP...
2025-09-06 16:35:33,317 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: 4uGeR/f1ntw/8PghYBjSH5qpz7TSnzsy8IfWI4ceePB3//XgAw90P3UkeHkgOE2JzjKs5waGWS+cfuZYR9v+psMPHzzwUGvTI0fb...
2025-09-06 16:35:33,317 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: PPLIgYeIYR7a/9ijhx95aN+Tjx966rEjjc8/YW1tzFnEZTccxspePv1veMqBWJj0UHVmqCZvrs8MV1MdTKySpZWBEwh0H62hGjo3...
2025-09-06 16:35:33,317 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: VMdrmJGxouYVHWeGvrU2+6AwdpjU0X0+obIViKI6SOmZFkK6FVTuUCHuk2365IReR+kBuktbbNSKuUVLmaEWfISpJIXlFOpy+S7+...
2025-09-06 16:35:33,317 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: hvmbI5k4MCm1D3DgbzaCVk9wQmIf5M0M8BbLoZ998cM//tMv/+1f/v7f//Uf/+s///m//uMPf/7jl1/85L21xdkxY7t9RGTr5xLt...
2025-09-06 16:35:33,317 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: 6TI0xUDbYri9GGyb9+oLPgNhVTGkLwQhhpn36+d8hmKoLe/TZ13alE0Zn5Qw6pBMWWUzbnRIsizrhg5bcSdLWZXTNkXcBHpJTEim...
2025-09-06 16:35:33,318 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: JfAQ5ugvIf1JxGAYgl+WPRq6ySLaa9Ill2zeIVt0KRcxc6gsWaQlOts2adkuL5qlVOsTI80TNNqIWKT0W/hZW+i+GKs4lQtOJcp0...
2025-09-06 16:35:33,318 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: Cedt4sxEU97QTO8IWC6F+JTdmP4UBPSdZ9g995LtSIpMtGLWK0vU14UZvLpjWKqDngKKlxQBTM85+is9kIn4t6NE10RTOmwSy9jZ...
2025-09-06 16:35:33,318 - __main__ - INFO - [req_1757201682] Received chunk from img-gen service: PuCrGAPD7xQEJwgXwgBYobuigY4/fmozcXotXrsar12JIqpyDUhTx1q4aNViro8+NNzEn/qlYD29MekNO4YRL9kgsaVVgriePowy...
2025-09-06 16:35:33,319 - __main__ - ERROR - [req_1757201682] Incomplete image data received from img-gen service
2025-09-06 16:35:46,570 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:35:46,570 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:35:46,572 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:35:46,572 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 16:35:56,631 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:35:56,631 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:35:56,633 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:35:56,633 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 16:35:58,488 - __main__ - INFO - [req_1757201758] Starting streaming design endpoint request
2025-09-06 16:35:58,488 - __main__ - INFO - [req_1757201758] Reading image data before streaming
2025-09-06 16:35:58,488 - __main__ - INFO - [req_1757201758] Successfully read 2822905 bytes of image data
2025-09-06 16:35:58,591 - __main__ - INFO - [req_1757201758] Starting designer service streaming
2025-09-06 16:35:58,591 - __main__ - INFO - [req_1757201758] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 16:35:58,693 - __main__ - INFO - [req_1757201758] Creating BytesIO for designer service
2025-09-06 16:35:58,693 - __main__ - INFO - [req_1757201758] Created files dict for designer service
2025-09-06 16:35:58,693 - __main__ - INFO - [req_1757201758] Initiating HTTP streaming request to designer service
2025-09-06 16:35:58,730 - __main__ - INFO - [req_1757201758] Created httpx.AsyncClient with 120s timeout
2025-09-06 16:35:58,742 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 16:35:58,742 - __main__ - INFO - [req_1757201758] Designer service response status: 200
2025-09-06 16:35:58,742 - __main__ - INFO - [req_1757201758] Starting to process designer service streaming response
2025-09-06 16:35:58,743 - __main__ - INFO - [req_1757201758] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 16:35:58,743 - __main__ - INFO - [req_1757201758] Parsed designer chunk data: analyzing_image
2025-09-06 16:36:02,575 - __main__ - INFO - [req_1757201758] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Office/Presentation Ro...
2025-09-06 16:36:02,575 - __main__ - INFO - [req_1757201758] Parsed designer chunk data: image_analyzed
2025-09-06 16:36:02,676 - __main__ - INFO - [req_1757201758] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 16:36:02,676 - __main__ - INFO - [req_1757201758] Parsed designer chunk data: critiquing_design
2025-09-06 16:36:07,156 - __main__ - INFO - [req_1757201758] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Abundant natural ...
2025-09-06 16:36:07,156 - __main__ - INFO - [req_1757201758] Parsed designer chunk data: design_critiqued
2025-09-06 16:36:07,257 - __main__ - INFO - [req_1757201758] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 16:36:07,258 - __main__ - INFO - [req_1757201758] Parsed designer chunk data: parsing_preferences
2025-09-06 16:36:07,969 - __main__ - INFO - [req_1757201758] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 500, "budget...
2025-09-06 16:36:07,969 - __main__ - INFO - [req_1757201758] Parsed designer chunk data: preferences_parsed
2025-09-06 16:36:08,070 - __main__ - INFO - [req_1757201758] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 16:36:08,070 - __main__ - INFO - [req_1757201758] Parsed designer chunk data: finding_products
2025-09-06 16:36:22,916 - __main__ - INFO - [req_1757201758] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Office/Presentation R...
2025-09-06 16:36:22,917 - __main__ - INFO - [req_1757201758] Parsed designer chunk data: completed
2025-09-06 16:36:22,917 - __main__ - INFO - [req_1757201758] Designer service completed successfully
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Extracting product thumbnails from designer data
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Found 4 product recommendations
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Product 1: Stackable Apothecary Cabinet 4 Drawer Desk Organizer - Vintage Library Card Catalog Wood Storage Box - Office Desktop Dresser for Stationery, Thread Embroidery, Sewing, Crafts, Junk Drawer & Supplies -> https://m.media-amazon.com/images/I/816MFWeOfxL._AC_UL320_.jpg
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Product 2: Ergonomic Kneeling Chair, Adjustable Stool for Home and Office - Improve Your Posture with an Angled Seat - Thick Comfortable Moulded Foam Cushions - Brake Casters -> https://m.media-amazon.com/images/I/81eGwiI6sAL._AC_UL320_.jpg
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Product 3: CQURE 14 Pack 98Ft Artificial Ivy Garland,Ivy Garland Fake Vines UV Resistant Green Leaves Fake Plants Hanging Vines for Home Kitchen Wedding Party Garden Wall Room Decor -> https://m.media-amazon.com/images/I/91UQlToUwDL._AC_UL320_.jpg
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Product 4: Window Privacy Film Stain Glass Window Film Rainbow Window Film Window clings Non-Adhesive Reusable Decorative for Room (Daisy Rainbow, 17.5 x 78.7 in) -> https://m.media-amazon.com/images/I/91D-4zMULnL._AC_UL320_.jpg
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Extracted 4 product thumbnails
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Starting image generation streaming
2025-09-06 16:36:23,018 - __main__ - INFO - [req_1757201758] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 16:36:23,120 - __main__ - INFO - [req_1757201758] Preparing image data for img-gen service
2025-09-06 16:36:23,120 - __main__ - INFO - [req_1757201758] Prepared form data for img-gen service with 4 products
2025-09-06 16:36:23,120 - __main__ - INFO - [req_1757201758] Initiating HTTP streaming request to img-gen service
2025-09-06 16:36:23,126 - __main__ - INFO - [req_1757201758] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 16:36:23,139 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 16:36:23,139 - __main__ - INFO - [req_1757201758] Image generation service response status: 200
2025-09-06 16:36:23,139 - __main__ - INFO - [req_1757201758] Starting to process img-gen service streaming response
2025-09-06 16:36:23,139 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757201783", "message": "Starting image processing......
2025-09-06 16:36:23,139 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: started
2025-09-06 16:36:23,240 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 16:36:23,240 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: parsing
2025-09-06 16:36:23,342 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 16:36:23,342 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: loading_room
2025-09-06 16:36:23,583 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 4 product images..."}

...
2025-09-06 16:36:23,583 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: downloading
2025-09-06 16:36:23,684 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/4..."}

...
2025-09-06 16:36:23,684 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: downloading
2025-09-06 16:36:23,934 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/4..."}

...
2025-09-06 16:36:23,934 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: downloading
2025-09-06 16:36:24,161 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/4..."}

...
2025-09-06 16:36:24,161 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: downloading
2025-09-06 16:36:24,330 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/4..."}

...
2025-09-06 16:36:24,330 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: downloading
2025-09-06 16:36:24,559 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 16:36:24,559 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: creating_montage
2025-09-06 16:36:24,667 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 16:36:24,667 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: generating
2025-09-06 16:36:33,465 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 16:36:33,466 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: processing_result
2025-09-06 16:36:33,572 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757201783", "processing_time": 10...
2025-09-06 16:36:33,572 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: completed
2025-09-06 16:36:33,572 - __main__ - INFO - [req_1757201758] Image generation completed successfully
2025-09-06 16:36:33,674 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42jz9...
2025-09-06 16:36:33,674 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: qerBThjYH+Ucl1GbwPQgBpKsLxGfb6O+MWBBHAbTPx3vRAEyleDA+63fTmtBmAmh+EnlD6iR5MdTEi1RQniIySTlOnNcOmDRL7Yh...
2025-09-06 16:36:33,675 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: CYjv7gPPtHgMWLPXdvUb9nbVxMyftlPCPV07HPvnwP9+z7vbcR103aLzCZzsMaaTun+SAR/Rv6D5I4H4x2L8Pdzza2mex3v+s8Mw...
2025-09-06 16:36:33,675 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: 2exthn6wAPKxZN/QNr1uEUnwMZ19Ym87tss6AX5YoBTa2Wa2/VsxTCBsBPe2Ed/L2mFZIhhUSSG08zJ5z9Feiq5hY92/tRGAUH6r...
2025-09-06 16:36:33,676 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: IPEnUF4esMfgPWp6gdqjjx7GkQW0AdQO2rARfrgVJ7j/ZCuJPNCVwKPN2BMiCXROBArFECq6jlQfKHw2IsQxQELWww/Xo5gTQBtx...
2025-09-06 16:36:33,677 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: hYqu1G9OA54msUr5krHcb81kdfGEClA14HuNusNEisY02g6jkQbQ3+lgWqx0YBpuNwtWfAFBGAU5shzO7IjDmFPEBeCeLxpRYhSC...
2025-09-06 16:36:33,678 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: YZ1c8Eo6/hwugTyocPajRaOCN6hNo2hUy7BGgFZ12LGUd9jtHnPCzxcO4aPOxwv/x16+3z+BI/eo+cG0ftjBZOwDqmC38WzWYaeV...
2025-09-06 16:36:33,679 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: OvbbwOCPsA0N/zw5/XBs4reRiZ95on5nQBLPauM5TSCmrK/5WpuRWNYgoUYdXlGmZEyXjNmyOV3QwwHRjDqYUBKbLw2I3x+RBWNy...
2025-09-06 16:36:33,680 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: JTyvZnhH3Nx8VwEJ0JCIJYULWXaVyAm8vJADDcnlVzGnx0IEUYsrOv2IllgHagqGlazMYX0/LL8w8urG+D0BwuYx/KhRj6QaIgBq...
2025-09-06 16:36:33,681 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: vtWb/Y2bmB3RDCBbij9kt23IsL4pC/3b11mcwuYrtRc32nKBQEsS4kvBptcEoClZhz9sF65JapmQ9G6wHEWsY8hZPaKtTNAbGWHL...
2025-09-06 16:36:33,683 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: y+keBJ4BHvmL9B5BJ85Yag89D3GAB9gfe0Kg37wiA13h/jgd//LtCaYBzcuH48w6mpr+h8f259qWJouX+CDiyoUY6o8Lq8A58P2E...
2025-09-06 16:36:33,684 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: xNMIRmOtJk+0rY1+MhO6PT/YXh7ppKtiWNRyZkutgUhtt+dhKFHPCpzWmG4h0Fwc6AnHG53tn0eJmJU6NOJ7hk3nbB/O8bRhxo9I...
2025-09-06 16:36:33,685 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: qRr/Q8lzKZ0AdBDHRYFzrqJ4uEkXFbnI1eGIT6XUZ2+AsuSeqRm/3JNpAF1F8P3lzPlLaPp5iSAvEF9QO+D4S1kfmJPBP8P9WRn2...
2025-09-06 16:36:33,687 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: KNdmnH9+O8KHJ1g5AHT/IBKcvn+Pr4EI0bdxZQ5usxy6vPJ95MpS7BCUI5STcF91MmzDhYwncvW9JewxmpzFqzdRE7PzvQHizPVf...
2025-09-06 16:36:33,688 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: LQrabyBPBfE3MddIcH9DhxMF8ajrKJCjpjWvqvlRLQrIHlU3PWL5V15dc15tc161X2N/HtUgFCi7yp9dSyYgfxe8vzD+/jKT6D8L...
2025-09-06 16:36:33,690 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: /I9ykQM40T/WJqX/FAjd3x69t80z1PzoVoAV/Sr6Z3TPA6T3jD+IjN4PjzxQMwDPP9x2xCBygP6J7An9bd5PGwCYwARWZGKFkT6Y...
2025-09-06 16:36:33,692 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: hInv/u3dd//2t/ffe3f2zOkrllvtP7Dz+5/OePk6puckiFuqtKaOkZfqsdeaJ280wy+Vxqcd+pE2BhR07J/bQUpdlPSyfziH5Fq9...
2025-09-06 16:36:33,694 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: AJT+WZtYUZPEoH95LTym0A5AUiU3+E9DLVB9WlUDon8eN+lH+U1VPXl24RiBPk33AbgjdqdHbsafIaBruJNy1sDFDnBqBRCfzwT9...
2025-09-06 16:36:33,695 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: om+y2/CLjunl3rLGvKa+gpz60JSyUPDPzMq7KWjkWu3dOJoae96+ujXx/ENPc3/J0oeZ8aWBxuFir0QDKQNm93iT4s5MaBlP8J5+...
2025-09-06 16:36:33,697 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: eSqySMcS6ZjoJsv74TaiN0hq5KEbCP5dM0feD4s8xlGFEr25Zp7EhG4vIgnotovQnQd3tYWvxO+7fECAiB/iDBKwr3BlBr7MwJHo...
2025-09-06 16:36:33,700 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: ESIA0+MmjpdbRZ5bZjB9OmCmrsUVvHpcs4UDQOVYmi8BewAIhERyE09uEijMAplJKDEjdMiTGblSHYcvY0Kqo5xCE+aJ9CyOnEaX...
2025-09-06 16:36:33,701 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: AKlReyuu07/BhNCPxINsu8hPKGyHKZRIfUQSHVzmr2JTCIr9wV+G2Z3JKIz78CdGVQ+zL1PKJ0qViHQhb2lh4wtgCITdKYSnjXkA...
2025-09-06 16:36:33,703 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: TG0r1+BjAJ6qAN/bAsANFJZyhbVMbSlTW3FTWAMKOxWNAQcAhgBsgQoHpPSS0kIRQ8xJTLIilPvjoMAvxpIB0vSTxF9Mr0rJiiAD...
2025-09-06 16:36:33,705 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: 1ESvxTqMxfoQ7T8J4L4bFwnjbJ+JbovcH0F5bBXohzn+0dcQCmSyOAH6MAcYgKNZgonACQMrAJMI94++noTaYOAVk+hQE90zkz2/...
2025-09-06 16:36:33,708 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: QTg0MjszDE+ZA58AsAj7GILs2NE7/Lbc93+lPibs7rUN4+oGMAo7gj5BzIMFQmAXdlQFo98LagSwLdj6+5mmAfPMi1ncMQy5otAp...
2025-09-06 16:36:33,710 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: //0ri78tsP7aZdNKty32zhusndcvX7XF2s59qbnjogU2X1u7Ll69dYXrJlsb52Vfm/9jyYrFS+3MzWwW2jgvt3Zabm63aNu+Nd9f...
2025-09-06 16:36:33,712 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: o4CpPqiDQjqWUSTuH8OmB+OwudY43M2kESB6UYrLDZoyvYJJJ9NpRCajhEIuJBLyC3IzOaWkwoJMIiEvIzVBJGL+9S+jUMyqrFbR...
2025-09-06 16:36:33,714 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: wcovKIyLSwkLC3/+7Dl4JCk5hcUGAF9Bq6SXlxFIRCoA9yKRQqGo5fPFUijNrxGLZTyeGNAAvlBaW9cC+wG4EqlIWV1dB+A+jy1h...
2025-09-06 16:36:33,716 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: 5AHYgRsDsFIAmB4KbxAcZ+T/rP+1FkB+2f2frb0IrIPgUfDKDJU/siDD/QC4WrS4gJB9HbUCH55uIZU/KgLbY5QVrIDp/inMIYXD...
2025-09-06 16:36:33,718 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: 9OMkYAWTnwAHAOh/YhSmA0F5EvgCYUgopiP6CO9tHJmAR98BboAigN4/7X/++uXbZllrbW1DUUFJfGyCp7u3o72Tu6t7oH9QQlxq...
2025-09-06 16:36:33,721 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: xvJaEroSXcOUc40dTkOHi9vEzy3MRVNxNAlLadejOcxaBqWSTKwg4aqoxAYWDS/inCzLW/Pzj+vX/7R586Z6bG0DDp1fVp6VfXzv...
2025-09-06 16:36:33,723 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: cfkZ0TmpEdkp4dmpYbmp4dnJEZmJoSkXgy7F+12I8bmEkMA3OtQjJNDNx8fFxcXO1cPBxdXB1c0Bfpj8/d3Cw30iIn0jYwKDgtyH...
2025-09-06 16:36:33,725 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: WJiamMMgkQD9m5uQTAwNEaObGAb7e0WEBvr7eLg42tlbmQP0B9yPLUDmQAaMrMxMn9pY2Vtb2FjAJLH2b2ZqYwrEAJf/rUyRM1ia...
2025-09-06 16:36:33,727 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: l8Hnvx5+/uuJ1/889uLz+Y3DV5/tPPts6zHqA959erj9dG994f3u8892Hr/dmttZntt683BvbXbr9X3Q2Chc/PUk6gdAxT9DKPH3...
2025-09-06 16:36:33,730 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: Of88nV9ZObD86NDKk4Og/pH15wrE3JNlZA2ESoQfHX7yeLUVwNzS8sGHi3ADhxcX5x8+OPjg/t67d3bfubXt2pUdN65uv3oZPpmZ...
2025-09-06 16:36:33,732 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: AfTxdNKeTjoLaQf8cwsjnyZyaWsibkrE1B73iebag0f2HT1xtLYBSPb40WNH4Pt37MSxdkbPEGFTBwIqj1cXClmTcWsypg/4VE7H...
2025-09-06 16:36:33,735 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: oPI/OwU1ffyWl9OBz9DLBQAA7U5jAL/u4dQ8nCbmA/DKnwHABQDAbvkEVZzp5wL1tQgQ38KGV3hISGlEFB8FYSs9CkhA7p+EFcdY...
2025-09-06 16:36:33,737 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: KIJjAIDVBF38k93XkduriYON9KEpc6iP7VhyDxylp4bEniF+sJG7r45taWLbIv9gcb3IsTbV0V1ZeJPnbPJtNVVwAiQg8w/k/j72...
2025-09-06 16:36:33,739 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: IU8LAwHOK9qzihIL/WtaONVhVgEnOUEKVx7lFPAQBMAJluiojvKys4oa9ANw/GlZe1xQnRTUZyXtaVkFEH9cBu5X4tw/HAwCAPi+...
2025-09-06 16:36:33,742 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: lvALpYIimYQkFZZIJSUiYRGW9au4qnJh1SmFulysKJOUVqmr6sobWuvq2+pr22rqtPVapzYw3t+qqxcKC5UiWpmcqRCTWfRj6ekJ...
2025-09-06 16:36:33,745 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: olG7dBj9ADKUiGB4jhjAdA92ArB7ccif2llN8dfSfZUFkRZ2tJUbbmZh0KdNBIRhzq8bcUgQ6Lfyos3sWBsHZTlWPuBL0nsAuBwZ...
2025-09-06 16:36:33,747 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: n4yOM6fMNMTZREiz6uMBhka5jpe3FhCuBXhrfuGliOJSVHExKr8ak18KSjZCooth8bpPuOHjXwwL14PcjRB/MyRaIxxg1cvHVH4s...
2025-09-06 16:36:33,750 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: 8dnTxdD8nPlX7M/pUqZ9OsuEQMWE+IvAGUDeivHUIAGCJeChRx8uqbj+ZIf6RswsXUu0rIZbD7O9H+x6/vunUx9+sPVvP5z4+ZIB...
2025-09-06 16:36:33,752 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: 5bbgwhuXquE8rqo4ztqIUTwMqU91uaLr5AmC8qxt90TVif/O9Dx9Gnn/5XH9Yyeq/3uWAAE+tSzsn1l7MVFAr8QTThxHERjG+5EC...
2025-09-06 16:36:33,755 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: IsykecTb6OTC5A+cDITX6eu5yScoiRFoKy+/0V8ys3xJC6cAL9Ag47qibq4Am/QQQbDuFFcsRIN5bcSViph2hf4IcJGh5CJ2ISfs...
2025-09-06 16:36:33,758 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: MdYfhsAQxuvC4y/EP7HJupho+a0CfTHM3xAbb0hMNMYnXugygf5F+3pdbLI2Sh9wTXyyngRgpC4yUvvCH0xXsSAP1AXVpmYbUrON...
2025-09-06 16:36:33,761 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: cK2WHpQTf6hCRlD59evEB8ro7YgV3LhZcfNGVW1N2as3yl9/uertV2rq365xTgieJAYexroPg5qHsV5gcTRzaY+DOvgODfyCVUJ3...
2025-09-06 16:36:33,763 - __main__ - INFO - [req_1757201758] Received chunk from img-gen service: KZJXnJNXnFVUnNXUnNfUXVQTB2i4htF98U1j43V9/TWj6Lqh6aqh6Zqh8bqh4aqh7oqu5io9bhbdskpugwOIbzbDA3C7RXGP277u...
2025-09-06 16:36:33,772 - __main__ - INFO - [req_1757201758] Parsed img-gen chunk data: image_data
2025-09-06 16:36:33,772 - __main__ - INFO - [req_1757201758] Received base64 image data (3109768 chars)
2025-09-06 16:36:33,773 - __main__ - INFO - [req_1757201758] Preparing final response
2025-09-06 16:36:33,773 - __main__ - INFO - [req_1757201758] Final response includes: designer_data, generated_image, summary
2025-09-06 16:36:33,779 - __main__ - INFO - [req_1757201758] Streaming request completed successfully
2025-09-06 16:38:27,536 - __main__ - INFO - Health check endpoint accessed
2025-09-06 16:38:46,920 - __main__ - INFO - [req_1757201926] Starting streaming design endpoint request
2025-09-06 16:38:46,921 - __main__ - INFO - [req_1757201926] Reading image data before streaming
2025-09-06 16:38:46,923 - __main__ - INFO - [req_1757201926] Successfully read 2822905 bytes of image data
2025-09-06 16:38:47,025 - __main__ - INFO - [req_1757201926] Starting designer service streaming
2025-09-06 16:38:47,026 - __main__ - INFO - [req_1757201926] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 16:38:47,128 - __main__ - INFO - [req_1757201926] Creating BytesIO for designer service
2025-09-06 16:38:47,128 - __main__ - INFO - [req_1757201926] Created files dict for designer service
2025-09-06 16:38:47,128 - __main__ - INFO - [req_1757201926] Initiating HTTP streaming request to designer service
2025-09-06 16:38:47,145 - __main__ - INFO - [req_1757201926] Created httpx.AsyncClient with 120s timeout
2025-09-06 16:38:47,163 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 16:38:47,164 - __main__ - INFO - [req_1757201926] Designer service response status: 200
2025-09-06 16:38:47,164 - __main__ - INFO - [req_1757201926] Starting to process designer service streaming response
2025-09-06 16:38:47,164 - __main__ - INFO - [req_1757201926] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 16:38:47,164 - __main__ - INFO - [req_1757201926] Parsed designer chunk data: analyzing_image
2025-09-06 16:38:51,294 - __main__ - INFO - [req_1757201926] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Office/Event Space", "...
2025-09-06 16:38:51,294 - __main__ - INFO - [req_1757201926] Parsed designer chunk data: image_analyzed
2025-09-06 16:38:51,397 - __main__ - INFO - [req_1757201926] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 16:38:51,397 - __main__ - INFO - [req_1757201926] Parsed designer chunk data: critiquing_design
2025-09-06 16:38:57,135 - __main__ - INFO - [req_1757201926] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Excellent natural...
2025-09-06 16:38:57,135 - __main__ - INFO - [req_1757201926] Parsed designer chunk data: design_critiqued
2025-09-06 16:38:57,237 - __main__ - INFO - [req_1757201926] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 16:38:57,237 - __main__ - INFO - [req_1757201926] Parsed designer chunk data: parsing_preferences
2025-09-06 16:38:58,153 - __main__ - INFO - [req_1757201926] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 5000, "budge...
2025-09-06 16:38:58,153 - __main__ - INFO - [req_1757201926] Parsed designer chunk data: preferences_parsed
2025-09-06 16:38:58,255 - __main__ - INFO - [req_1757201926] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 16:38:58,256 - __main__ - INFO - [req_1757201926] Parsed designer chunk data: finding_products
2025-09-06 16:39:25,431 - __main__ - INFO - [req_1757201926] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Office/Event Space", ...
2025-09-06 16:39:25,432 - __main__ - INFO - [req_1757201926] Parsed designer chunk data: completed
2025-09-06 16:39:25,432 - __main__ - INFO - [req_1757201926] Designer service completed successfully
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Extracting product thumbnails from designer data
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Found 7 product recommendations
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Product 1: ChooChoo Bathroom Floor Cabinet, Modern Bathroom Storage Cabinet with 4 Doors and Adjustable Shelves, Freestanding Cupboard for Living Room, White -> https://m.media-amazon.com/images/I/61gkbDKZi7L._AC_UL320_.jpg
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Product 2: VASAGLE Solid Wood Coat Rack and Stand, Free Standing Hall Coat Tree with 10 Hooks for Hats, Bags, Purses, for Entryway, Hallway, Rubberwood, Caramel Brown URCR03WN -> https://m.media-amazon.com/images/I/61PFnXL3WOL._AC_UL320_.jpg
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Product 3: flybold Artificial Fake Snake Plants - Faux Indoor Plant - Modern Decor Artificial House Plants - Large Faux Sansevieria Plant with 28 Tall Leaves - Includes White Pot and Tripod - Green - 36in -> https://m.media-amazon.com/images/I/515EUGbQDjL._AC_UL320_.jpg
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Product 4: Large Abstract Beige Framed Canvas Wall Art Set, Neutral Textures Wall Decor, Warm Minimalist Shapes Wall Painting, Modern Neutral Art Prints for Living Room, Bedroom, Office - 16"X24"X3 -> https://m.media-amazon.com/images/I/71U4pFI7oRL._AC_UL320_.jpg
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Product 5: Decorative Throw Pillow Covers, Modern Abstract Brown Geometric Pattern, Set of 2，18x18 Pillows Linen Pillowcase，Modern Decorative Square Pillowcases for Sofa Couch Bedroom Living Room Car -> https://m.media-amazon.com/images/I/51i3t5moHRL._AC_UL320_.jpg
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Product 6: AOSKY Cordless Roller Shades Blackout Blinds for Windows Room Darkening Rolled Up Shades with Spring System, UV Protection Window Shades Door Blinds for Home and Office (35" W x 72" H, White) -> https://m.media-amazon.com/images/I/51y9jtzkqJL._AC_UL320_.jpg
2025-09-06 16:39:25,535 - __main__ - INFO - [req_1757201926] Product 7: ReaLife Rugs Machine Washable Area Rug - Living Room Bedroom Bathroom Kitchen Entryway Office - Padded Low Pile Stain Resistant Premium - Modern Geometric Contemporary - Miles - Beige 5' x 7' -> https://m.media-amazon.com/images/I/81fn-AXD0KL._AC_UL320_.jpg
2025-09-06 16:39:25,536 - __main__ - INFO - [req_1757201926] Extracted 7 product thumbnails
2025-09-06 16:39:25,536 - __main__ - INFO - [req_1757201926] Starting image generation streaming
2025-09-06 16:39:25,536 - __main__ - INFO - [req_1757201926] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 16:39:25,637 - __main__ - INFO - [req_1757201926] Preparing image data for img-gen service
2025-09-06 16:39:25,638 - __main__ - INFO - [req_1757201926] Prepared form data for img-gen service with 7 products
2025-09-06 16:39:25,638 - __main__ - INFO - [req_1757201926] Initiating HTTP streaming request to img-gen service
2025-09-06 16:39:25,649 - __main__ - INFO - [req_1757201926] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 16:39:25,672 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 16:39:25,672 - __main__ - INFO - [req_1757201926] Image generation service response status: 200
2025-09-06 16:39:25,672 - __main__ - INFO - [req_1757201926] Starting to process img-gen service streaming response
2025-09-06 16:39:25,673 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757201965", "message": "Starting image processing......
2025-09-06 16:39:25,673 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: started
2025-09-06 16:39:25,775 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 16:39:25,775 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: parsing
2025-09-06 16:39:25,877 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 16:39:25,878 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: loading_room
2025-09-06 16:39:26,145 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 7 product images..."}

...
2025-09-06 16:39:26,145 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: downloading
2025-09-06 16:39:26,246 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/7..."}

...
2025-09-06 16:39:26,246 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: downloading
2025-09-06 16:39:26,533 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/7..."}

...
2025-09-06 16:39:26,533 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: downloading
2025-09-06 16:39:26,753 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/7..."}

...
2025-09-06 16:39:26,754 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: downloading
2025-09-06 16:39:27,032 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/7..."}

...
2025-09-06 16:39:27,032 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: downloading
2025-09-06 16:39:27,494 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/7..."}

...
2025-09-06 16:39:27,494 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: downloading
2025-09-06 16:39:27,984 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/7..."}

...
2025-09-06 16:39:27,985 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: downloading
2025-09-06 16:39:28,188 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/7..."}

...
2025-09-06 16:39:28,189 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: downloading
2025-09-06 16:39:28,673 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 16:39:28,673 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: creating_montage
2025-09-06 16:39:28,800 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 16:39:28,800 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: generating
2025-09-06 16:39:39,747 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 16:39:39,748 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: processing_result
2025-09-06 16:39:39,857 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757201965", "processing_time": 14...
2025-09-06 16:39:39,857 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: completed
2025-09-06 16:39:39,857 - __main__ - INFO - [req_1757201926] Image generation completed successfully
2025-09-06 16:39:39,959 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42kT9...
2025-09-06 16:39:39,959 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: efxS/uXP/q//YtXXt3/1mej/W+uLQP8vDPoURwFrg1vydM3XX1qv36j/ef7CuE8Kgb5WsZOHzyVeEfHP3cfCzVPu5jn38oWTAI+f...
2025-09-06 16:39:39,960 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: 3L+pRqwAWTrMn5wmmnRBFRie4xZBuX0J6BOI3G587xFhlZ+S/RWQqLBvNeBZ8jO0ZxVcyGX+RG+uDNszcNO5/JK+z4baVdW5S5mH...
2025-09-06 16:39:39,961 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: QukLIzlMbUhrLzP1CylSCIBsbCHclwigNFu9tko5FTkGZT9bOfxoJeQq4CdR7K/OS2xRObuFY5tFfbtsBA+p5bXlDGlJKkJqhKtH...
2025-09-06 16:39:39,961 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: JbgHOoI+Mh3kMfTuLiJXDnSBhSFZ2RB07X7bptO4old8Nig+qkVvjrYh75EdvNwnArD+vw83/qwSvRHv/Awxz8FLpeiVQvRavPML...
2025-09-06 16:39:39,962 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: 8ObHPWYYoCe2v+HxC+zOM7vjxGo/JtBvtZ/qTbvhqJjwfSZnKFYshbKp2rDXrpww6VbMkYQ0VzDk8qZwRMaKmSRmK+H+Q7ePZ7Ls...
2025-09-06 16:39:39,963 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: IutzLggAy3teSzhhIQb8RABKYtjPJ3DDF8t14AGAW6AkojzBDYghvFVQD/xa5ul+WaT6zDjwB8oiNADQPhGD0lyk+ogSAPb10gkv...
2025-09-06 16:39:39,964 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: gejH9HQVIwKAJWz6Nf38MF7G5k+JfMmsVG9bbWcOx4XFciqX71zdfL65/3p9t3Gn2LqTb55efLi537y5+Xp799XquCzWXK1BqNL0...
2025-09-06 16:39:39,965 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: pFPrB5ntSkmPYf+pNXesosfTqvnizHpz476+ddPxatVQK+svapYrQH8rof9axXx+Zrm6tFfLhlJBj46tsrFSMVZK2HIQFG2iXyyv...
2025-09-06 16:39:39,966 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: R5/c6PqdcAO1EwEY9wemo5H5cHgOkfneUQ+SfEYCrAICbg5P+0JjvgCaOFNEt+gj0GtF54DL4RCY4an5lFgHCMEQDKsuYjQ50JNX...
2025-09-06 16:39:39,968 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: GnUFhkJWVwBOIx4VHqYv1zD8iFD70HFiViHkjUxG4rP0ObtDo/RET2DQ5X9J78fnH3eBDMDBvOF64URjwACBdafz5Td+/7+yTf5u...
2025-09-06 16:39:39,970 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: 6rw/MuvwjXtC057AlD8660eB8ZzDO25xDrkDk07vBHE2pbpLiTH/HZtn3BOc8UfmvOEZh3ucCB6xOMLTbPnoc/qmOIN/OZaEziea...
2025-09-06 16:39:39,972 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: Lw5Pock5QlgQUQV4A/aPno6On+4fne8hCOh8D1YBXIMP7HNr2OHTvSNwgPExVgQi++lKRQAd+yei9d87PhtIn8ARSAK6Ak6e9s+f...
2025-09-06 16:39:39,974 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: RQDu/7x39svuZ19wPPzZ4It3ogtf+tzkYjQ6648vBmOFyy9H0tQLAoDx/8nFJ+cY9r85PUeGz4nu3sI8/kIC+M8/lmdEgYNAT4Wt...
2025-09-06 16:39:39,976 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: PrQ9Sgbi10JA/PLIlwD09Q6KvYQDAPrHwQEU7mMPANnPdS3f1am/lvLKIwX9msqvgv7bWshlarbo1o1l78TtYT/BvZnxm1zOPAhA...
2025-09-06 16:39:39,978 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: EBNA7Z9B/wJGA1pMeXJzPjK/UPLP54V/thQWXvVnuL+QHREAbC1iHAAEwE45vnboeaDeoRq/jgN9GHQSyodhv+DkY6CMXr1diOgy...
2025-09-06 16:39:39,980 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: 4glaytrqrwrbyqWiWrm4TiZtkEsblLJm4ACA/tVqvlrFtwABsGqAAJiMUpmwSi1v0ijRBKyVNagldVpFo7L1TMlnT1364PGyIweb...
2025-09-06 16:39:39,983 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: WGGr1Yp1OpFGPaiU8QCCy4ADDHXIMAWoGwhAX1s5pgC1nu1vO9PfVo49APXHqkuJAJzZ3VJ1sLVyd/vZD2v2Pl23/6n2U291nPmg...
2025-09-06 16:39:39,985 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: MdffKImHdGV1lQkAEwyohrjzuCVKxHCf+ABKf2srM40NKHkg6K/yaB/tftLSgLmHoB/FOs/++U2ZJ1RLu0eRX6FIDIH4wHut5els...
2025-09-06 16:39:39,987 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: Lxp2R/tIntQzPtLHmMb0xNBYqn88iRGf4yP9cAYIxvQYmmtTQxikc+tWYiw1OJ7qX7F65TfffNfZ1gRvTU8OEMfoA9owOUrZoMAZ...
2025-09-06 16:39:39,989 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: k8d0eOQ6KroI32OsTuCbBD8U6s+xPgb/pLqZQfNj3Ms7g8uFwJ8xqg/DZP32jDlYmOJjZj8+o+8fFyRAo+Mz5gHOE4DXb43MoH+u...
2025-09-06 16:39:39,992 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: 01cjTl+PPB0UeQY5QOQpgv6/C4o7dx3X99dv/ngtHtYP1+N/unHzfOjtC+F3L4fevgjoP/jmL6EJF0NuXohNvvHpNx/8+cmnXLZ5...
2025-09-06 16:39:39,994 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: ontsildMkkd8mldSpndylm9Kll9ajn9arn9GfiCJHJaUE7ht1871WzcZWJgYWFhA/D/hAViTABltNdqJjnoY+m8FJ8BuQ3MzEztr...
2025-09-06 16:39:39,996 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: Ef9w4EXPgmpRbVhZ0SzOL88ursgWVPNzKrl8RTanlM8rwe87r1pYhG1xbmVevgS+XsIETMB9aORVEvGghAFAodgE/ZsBoO84gByb...
2025-09-06 16:39:39,999 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: fEymRRtpkELNym7M6rExqoBWEMx7NaJUyQvX6fS6rR43/HqdNiwt+Nw2t9PICo/hwlxOAuueUGA/HCf0b/GTvRhwf5Doze3bnjur...
2025-09-06 16:39:40,001 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: cNwH22QERf+J8FgsND4Rob5H3BlJhlxAAK6eb75+qWvwhvvaZffVy50jt68Evb3jY0AAfv7vf/z4X39P/PJz8r//60Y85LzZb7/d...
2025-09-06 16:39:40,003 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: AyIBmwHCQEbAcGxiDLsmA0j8qRzIhp0AZh1I/6EiwIhSH+2gRTeI3GCIZoYSCkEgPshdIf+HPM8I9n+N0dIAu2XMTJiDvt9iHCQn...
2025-09-06 16:39:40,006 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: FC6DUZhJ42ZQOemIAGQLuVl8Tq6ElycvyJUVcjUinlbM00kKtGKuVligFxUbpEUGqciuE9r1JcAEEAfQySrNfJtWWGYoMgM3kFWZ...
2025-09-06 16:39:40,008 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: Dpr8D+D+flxjgCHg7q5uSP6CXqKh/oFgENjw5HsOBR1GB9AbIjq6d/fu2NjY8NAInU4ngwsQVv/YDDQY/0WDJGAqzgEjBl2AkPwn...
2025-09-06 16:39:40,011 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: l90ql9DXsGpncdZ8zl33BXf9DN6GmZLmOdLmueJNM+jLP1gz65kfP3p4wZv3z3n1ntmv3jPrlbtmv3z70q+e4WxcZFMyAm5t2GeJ...
2025-09-06 16:39:40,013 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: HhjV4GkYE4SdYkAAsCMM5/gN5TEA+sZyXDHQIdb3abF12AsQXxp2igI2KRqCfdp4UBnxATqXBV3KsEuD3MCtJFE/shBWGstipBUY...
2025-09-06 16:39:40,015 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: YppeSdHKS7TSMj3WgTGtaAPApQCXEZcCAFsDAfBYhGSaHJiAwG9TlAeUFUTxj2oflxIT/QMSNAE7cUo+gAURqNiJIAEgehuXNOhU...
2025-09-06 16:39:40,018 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: uNgN8wEXut4D6iA33BZ1YpTA04fFByEy0N+6MhbogSx/T3erZ2WegB6i81ZvF0YGupt9nej9sREBRJGGne1BR5vfNjXcpROQTVJ6...
2025-09-06 16:39:40,020 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: P43QNk3tMkqdeqEZ9ohyDDLwaUxWCgGwJHEZRRRcJh6bgS/N+O67g//9v3//+NPFHy9Z+g9YB1jqtvqBnp4A+i9dumAJ3H4C/UA/...
2025-09-06 16:39:40,022 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: lQmN7Lb68tmzR4tvXz16t/r45ZPFJw+miUCJ+08fzDy+P7E0PfRgBmVdc+O982O9s7j2r4arfWFcNzOsmhyAKxYT00e0kiEgAF1A...
2025-09-06 16:39:40,025 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: 0AmRMeG+BbmcV69ePn0MJdCP7t3CPXfoO7Zx7+Y60IC71+7cWLu1uXR7a+XG1YXb1xYd/orNyzNb6/YbV2aur1nR2Fg2XVnUX1ky...
2025-09-06 16:39:40,027 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: +bx+eUxeHC0tSn379nR2qq+8JPtP799NjXYlxj75/s3LsaHO6HCfg50VlYIj4lNWzKqdDfPmhkmrFmiVgnWbbmPFuLtpsplVVrN8...
2025-09-06 16:39:40,030 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: zFKnCQAAz6HjW9Uci5ptVtNXlDSDgqKTkdQSglKE04iJCsEyn4FlU8eYpFEGcQz6/+AG8PPdSzMds+Mt2OHG2dHmqYHapvKsj955...
2025-09-06 16:39:40,032 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: v/zdb3/91q9/+qtf/uTtP7z10Qd//vyT92IiL9UXQwYAarsu93Z1emRNJjj+JjK5frMBbGSEA4F+ngsGVDsAGKDy20pg/0BVVlh1...
2025-09-06 16:39:40,034 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: cXpaS4e7y6VCcjjk8rntUgF9tL9xeW4g5DXvxALg9K4u9Ar4eEApX+ztyIXUvvaSuaku25ZmLx5VSHmYpWE2dclklIUi7g2NYH1l...
2025-09-06 16:39:40,037 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: OEYtZcoFFDZ1AT87PDbQ0t1a2VJf2tlS3dPVNNzf1d/XOTrcOzM9tDA3PjczNjc7MjczMtDX1tZU09ZcXVNZkJEUey/Q+2nYPQAt...
2025-09-06 16:39:40,039 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: 87qtVrPKs2v5v+J1u0w2q9LncURQ/c+SHTUASAK+hdiKb8llUcm4i07UHAx4YLeqLGbZSmgpGvR4kNO/wGpSABiEg0sOm9ZqkocC...
2025-09-06 16:39:40,042 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: Pg+TvB+mhTzLDLfPCLfPirADWogHBvB+SPVFTsiKsAcASEOTUDQnzQp7Ds+eh5/Dy8wwW4wxjrIvjH9dGv+mLPE9vJ6CmJdZ4c8y...
2025-09-06 16:39:40,044 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: LpQ3ZyeHvi5M9ssMewHotizhTSV23yJKrqE7oqkXcHOKQ23KR1hpTv8CKL8uxQkdunTcAgQAyAASAJT7fyEicT5W0/CxMvFDGfVd...
2025-09-06 16:39:40,047 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: krxLkhDiZ0e/KEn0KE7wQtlP8pviJI/C+FfoJ07zK4z3ghMwMDTNF8vCUvwK4jzhzIpMVPxXZgRXpPuXp/qWp2J7ACB7OAfoBDwt...
2025-09-06 16:39:40,049 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: dtvR/i5QgKX52aGetpWFiZ2NRTjg+vJsdWlhbAive3Nz/vnT1enRwfevN4D7v96iyv/r7SWc+fPN+cXJ4ddP159vLv/H375+vrn4...
2025-09-06 16:39:40,052 - __main__ - INFO - [req_1757201926] Received chunk from img-gen service: oe1wWLvdr9nuVW31ag5Hm7d7GztrKa9CH1QUpc5PDY8P9izPDU8Nd0yNdo8OdrY21ZsMTRNjvauLE5urs6uL0/3QljU8OdTVZdMP...
2025-09-06 16:39:40,060 - __main__ - INFO - [req_1757201926] Parsed img-gen chunk data: image_data
2025-09-06 16:39:40,060 - __main__ - INFO - [req_1757201926] Received base64 image data (3070632 chars)
2025-09-06 16:39:40,060 - __main__ - INFO - [req_1757201926] Preparing final response
2025-09-06 16:39:40,060 - __main__ - INFO - [req_1757201926] Final response includes: designer_data, generated_image, summary
2025-09-06 16:39:40,066 - __main__ - INFO - [req_1757201926] Streaming request completed successfully
2025-09-06 16:59:40,778 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:59:40,778 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:59:40,780 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:59:40,780 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 16:59:50,972 - __main__ - INFO - Setting up CORS middleware
2025-09-06 16:59:50,973 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 16:59:50,974 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 16:59:50,974 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 17:00:54,277 - __main__ - INFO - Health check endpoint accessed
2025-09-06 17:01:18,123 - __main__ - INFO - [req_1757203278] Starting streaming design endpoint request
2025-09-06 17:01:18,124 - __main__ - INFO - [req_1757203278] Reading image data before streaming
2025-09-06 17:01:18,125 - __main__ - INFO - [req_1757203278] Successfully read 2822905 bytes of image data
2025-09-06 17:01:18,228 - __main__ - INFO - [req_1757203278] Starting designer service streaming
2025-09-06 17:01:18,229 - __main__ - INFO - [req_1757203278] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 17:01:18,331 - __main__ - INFO - [req_1757203278] Creating BytesIO for designer service
2025-09-06 17:01:18,331 - __main__ - INFO - [req_1757203278] Created files dict for designer service
2025-09-06 17:01:18,331 - __main__ - INFO - [req_1757203278] Initiating HTTP streaming request to designer service
2025-09-06 17:01:18,378 - __main__ - INFO - [req_1757203278] Created httpx.AsyncClient with 120s timeout
2025-09-06 17:01:18,392 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 17:01:18,392 - __main__ - INFO - [req_1757203278] Designer service response status: 200
2025-09-06 17:01:18,393 - __main__ - INFO - [req_1757203278] Starting to process designer service streaming response
2025-09-06 17:01:18,393 - __main__ - INFO - [req_1757203278] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 17:01:18,393 - __main__ - INFO - [req_1757203278] Parsed designer chunk data: analyzing_image
2025-09-06 17:01:22,407 - __main__ - INFO - [req_1757203278] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Office/Event Space", "...
2025-09-06 17:01:22,407 - __main__ - INFO - [req_1757203278] Parsed designer chunk data: image_analyzed
2025-09-06 17:01:22,509 - __main__ - INFO - [req_1757203278] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 17:01:22,509 - __main__ - INFO - [req_1757203278] Parsed designer chunk data: critiquing_design
2025-09-06 17:01:26,910 - __main__ - INFO - [req_1757203278] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Bright natural li...
2025-09-06 17:01:26,911 - __main__ - INFO - [req_1757203278] Parsed designer chunk data: design_critiqued
2025-09-06 17:01:27,013 - __main__ - INFO - [req_1757203278] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 17:01:27,014 - __main__ - INFO - [req_1757203278] Parsed designer chunk data: parsing_preferences
2025-09-06 17:01:27,828 - __main__ - INFO - [req_1757203278] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 2800, "budge...
2025-09-06 17:01:27,828 - __main__ - INFO - [req_1757203278] Parsed designer chunk data: preferences_parsed
2025-09-06 17:01:27,930 - __main__ - INFO - [req_1757203278] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 17:01:27,930 - __main__ - INFO - [req_1757203278] Parsed designer chunk data: finding_products
2025-09-06 17:01:56,703 - __main__ - INFO - [req_1757203278] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Office/Event Space", ...
2025-09-06 17:01:56,703 - __main__ - INFO - [req_1757203278] Parsed designer chunk data: completed
2025-09-06 17:01:56,703 - __main__ - INFO - [req_1757203278] Designer service completed successfully
2025-09-06 17:01:56,807 - __main__ - INFO - [req_1757203278] Extracting product thumbnails from designer data
2025-09-06 17:01:56,807 - __main__ - INFO - [req_1757203278] Found 8 product recommendations
2025-09-06 17:01:56,807 - __main__ - INFO - [req_1757203278] Product 1: 【Upgraded】 Dimmable Floor Lamp, 1000 Lumens LED Edison Bulb Included, Arc Floor Lamps for Living Room Modern Standing Lamp with Linen Shade, Tall Lamp for Bedroom Office Dining Room- Black -> https://m.media-amazon.com/images/I/619pHvEWo2L._AC_UL320_.jpg
2025-09-06 17:01:56,807 - __main__ - INFO - [req_1757203278] Product 2: Rovaurx Rattan Storage Cabinet with Doors, Modern Accent Bathroom Floor Cabinet, Sideboard Buffet for Living Room, Entryway, Dining Room and Kitchen, Natural BMGZ108M -> https://m.media-amazon.com/images/I/71IAMb3TjcL._AC_UL320_.jpg
2025-09-06 17:01:56,807 - __main__ - INFO - [req_1757203278] Product 3: Pipishell Bamboo Stackable End Tables, Wood Living Room Nightstand, Bedside Tables for Bedroom Storage, Set of 2 -> https://m.media-amazon.com/images/I/71lBrspjhyL._AC_UL320_.jpg
2025-09-06 17:01:56,808 - __main__ - INFO - [req_1757203278] Product 4: VINGLI 10 Pack Folding Chairs with Padded Seats, Metal Frame with Pu Leather Seat & Back, Capacity 350 lbs, Black -> https://m.media-amazon.com/images/I/71uokUXrW-L._AC_UL320_.jpg
2025-09-06 17:01:56,809 - __main__ - INFO - [req_1757203278] Product 5: Decorative Throw Pillow Covers, Modern Abstract Brown Geometric Pattern, Set of 2，18x18 Pillows Linen Pillowcase，Modern Decorative Square Pillowcases for Sofa Couch Bedroom Living Room Car -> https://m.media-amazon.com/images/I/51i3t5moHRL._AC_UL320_.jpg
2025-09-06 17:01:56,809 - __main__ - INFO - [req_1757203278] Product 6: Faux Pampas Grass, 9 PCS 37''/3.1FT Tall Fluffy Fake Pompas Floral, Large Artificial Pompous Grass Branches for Floor Vase Fillers, Boho Farmhouse Room Wedding Decor (Mixed Color) -> https://m.media-amazon.com/images/I/91qUoL9Bo8L._AC_UL320_.jpg
2025-09-06 17:01:56,809 - __main__ - INFO - [req_1757203278] Product 7: Livalaya Boho Macrame Woven Wall Hanging Beige 16 in x 36 in Modern Bohemian Tapestry wall Art Decor for House, Apartment, Dorm, Bedroom, Nursery, Party Decorations, Wedding, Wall Ornament -> https://m.media-amazon.com/images/I/81s4jPa+heL._AC_UL320_.jpg
2025-09-06 17:01:56,809 - __main__ - INFO - [req_1757203278] Product 8: SIGNFORD Extra Large Framed Canvas Print Wall Art Cloudy Brown Watercolor Abstract Neutral Tone Illustrations Modern Art Relax/Calm Warm for Living Room, Bedroom, Office - 60"x30" -> https://m.media-amazon.com/images/I/716VC5JOqPL._AC_UL320_.jpg
2025-09-06 17:01:56,810 - __main__ - INFO - [req_1757203278] Extracted 8 product thumbnails
2025-09-06 17:01:56,810 - __main__ - INFO - [req_1757203278] Starting image generation streaming
2025-09-06 17:01:56,810 - __main__ - INFO - [req_1757203278] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 17:01:56,911 - __main__ - INFO - [req_1757203278] Preparing image data for img-gen service
2025-09-06 17:01:56,912 - __main__ - INFO - [req_1757203278] Prepared form data for img-gen service with 8 products
2025-09-06 17:01:56,912 - __main__ - INFO - [req_1757203278] Initiating HTTP streaming request to img-gen service
2025-09-06 17:01:56,926 - __main__ - INFO - [req_1757203278] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 17:01:56,958 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 17:01:56,958 - __main__ - INFO - [req_1757203278] Image generation service response status: 200
2025-09-06 17:01:56,958 - __main__ - INFO - [req_1757203278] Starting to process img-gen service streaming response
2025-09-06 17:01:56,958 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757203316", "message": "Starting image processing......
2025-09-06 17:01:56,958 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: started
2025-09-06 17:01:57,060 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 17:01:57,060 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: parsing
2025-09-06 17:01:57,162 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 17:01:57,163 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: loading_room
2025-09-06 17:01:57,435 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 8 product images..."}

...
2025-09-06 17:01:57,435 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:57,537 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/8..."}

...
2025-09-06 17:01:57,537 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:57,740 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/8..."}

...
2025-09-06 17:01:57,740 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:57,916 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/8..."}

...
2025-09-06 17:01:57,917 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:58,180 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/8..."}

...
2025-09-06 17:01:58,180 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:58,361 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/8..."}

...
2025-09-06 17:01:58,361 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:58,713 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/8..."}

...
2025-09-06 17:01:58,713 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:58,900 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/8..."}

...
2025-09-06 17:01:58,900 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:59,309 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 8/8..."}

...
2025-09-06 17:01:59,309 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: downloading
2025-09-06 17:01:59,596 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 17:01:59,597 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: creating_montage
2025-09-06 17:01:59,725 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 17:01:59,725 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: generating
2025-09-06 17:02:08,960 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 17:02:08,960 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: processing_result
2025-09-06 17:02:09,068 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757203316", "processing_time": 12...
2025-09-06 17:02:09,068 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: completed
2025-09-06 17:02:09,068 - __main__ - INFO - [req_1757203278] Image generation completed successfully
2025-09-06 17:02:09,170 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42kT9...
2025-09-06 17:02:09,171 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: OHhA+UaD4qJ8BhfoCFdZje+UyIuYogDQ3+m6X98q47NgIXdaxf29xQBgsK96wzEaMz5sOPC3G2DUBhCD0VlkNA7jJFQb9lodwNQi...
2025-09-06 17:02:09,172 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: HXm5vuekr3eADRyjnmPYswqI7zsZUc1/PHRNj6SLk5AImw+ckhV4T499DAIae86ngfMTdv0ynv84cMnNgrKwR0jtI0LqE5GLfq/P...
2025-09-06 17:02:09,173 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: UilQtSdAnxDhnrGoSgr3jLFnQxNj2o9MCH4YAEqSAMJAh4CGxcDCfJ/N0kgQCu5bTPP41FvNC1YLRf8e4NfgXlzqBgaRCO75vZte...
2025-09-06 17:02:09,175 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: DqmUMuA/cDjWg75Dj3MzGNinw0bCmHNIphSlmql15mqdu5otx9mZs9lwFAumZEpJgJtwebvtLBaMxBwiISTEE/ILRyRN2r/tISqS...
2025-09-06 17:02:09,177 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: +sFawHL816ichJiLc/a/oAEJMdSfvcr3hUH2s1ZHlgNxoxl7fxMiYGfBaJ5DgeSlAEEbhIN5LgRIEAuxr3eWEEUBcAUgw5R70Pgh...
2025-09-06 17:02:09,179 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: jcvxGlFdRMvtb932t/aDV2AaIrrHP83Cm0VO5af/GETmp0V2pySJdYYFQPnQLFYbouje8nrfhoP0v2IKcf4i1D9EZ4hOAAz1uQIs...
2025-09-06 17:02:09,180 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: g9BS4kiaIRIbDkcMwdAA+siSlmRyLJkZazQcBP3nl/2E/heXA/V5dxXeDw8CoBpOdPpWHYWSLV+25UpWTPqxTWoZC9OSiUjCGImN...
2025-09-06 17:02:09,182 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: AzdmilVnlR/WGtME1mvNaTxsTPPKAPZU60QMvM1Zf3s+7A+N6fQf2F0DM4FxQs/I4w9pwrGJEGHflCGdNWcLViSB1txFuIQR/Vlv...
2025-09-06 17:02:09,183 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: OP9JUS71Gfq/LF6vGLD6CLP5M84pgo7/ckom7udPSnwRkQkVrpcRTpVhPGb2l0+mxSogKwkM6EXfT1ebYl8vdEpnrFPi40WhBJj0...
2025-09-06 17:02:09,185 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: lDbmRHo8SqwgNc7UYoxhvTEcG4zEhwnlp3PmGFYDzHR9KCR1wmOlsjOXt+dLjnzRgbTQKAFugv7mZGpMhP4RMAqE+qfxcMRx0gel...
2025-09-06 17:02:09,188 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: rM8Q/RfkfEu9vExfNa8yyN/E+Q+/KwQyC5lSsA+QPdC/8oEtrePdeVc4ZO4vKBPYUS/BO20A+tWQfkHkk98eNRlBcmyNGIWPCoR2...
2025-09-06 17:02:09,190 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: KRhm//Ts0mxwoON82BXSuDOjVESwPn7E/rG8Sz48qUn/8jn7GVMuZowE6i3GokkYRWLvaOEgS75B7RDEP6gNxo/Ygw+YMqHM4vsE...
2025-09-06 17:02:09,193 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: x6YdazZtW/v4mscfevTBx594ZPXqx1evfvSp1Y9u3bR6y+bVB/Zv27FtwxMrn1i1cuXKJx7dsWvj3gO7PHy/JTRJf1UA64kWaYni...
2025-09-06 17:02:09,195 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: USA0TN4A4hio44fnUlcAqoyIRdBeQYhIgm9yED8qblaQvggNAH3+W2RRmByEr9IbDWLoEN0QhJ9VuNMq15SbXHyzW2BpodLAVqG1...
2025-09-06 17:02:09,197 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: vAcQKau8A4EKCHW/iQi2CnFRB4ZiAfyRxSH9okeSIAODInI0Od6HSi8YfxENRKA/Md6XoD9ZnDaAZ4k6TvVj/E84fgq1AJks0EfK...
2025-09-06 17:02:09,200 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: e00Z4+s21WvaJF+3yT4zpvi6T/P3mO7rNoW+BNz3nA71iL9nCIFRP4+wQN/IsICY8MCoUP8oQqtIqQ9OjotIiAqeGROcGB2cGBVI...
2025-09-06 17:02:09,202 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: zStzA4+XRs6dPkQEQN5Qvro48cPKuLKhLDLcny7Sbz091rm2PK7TVAcFeh0+tOu/vl8kGpOTmRITHVZdefnvPyw/Wpn7P/+19tfP...
2025-09-06 17:02:09,205 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: 6obYAl92LNbvZDy8yOJlWqRnYrBrYqALcYDkYLfkEI+kYI/EILeUUM/UMM9TScDr+JZYP7o5PR6L8TsR638k2vcoaIDP4Rjv04Ty...
2025-09-06 17:02:09,207 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: ec9KayoKhSXZaK5FtT0ibzIQyOYWolIfXbm0bNT/FKJoh0fLwSAgBnCAPEFJvoCRLyzNFzIKRWUFglJYZQ1stBSLAPpzS+rYjAZ+...
2025-09-06 17:02:09,210 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: 1d6Xq/2vOAb06+XuF8a62PpysfHtcvvrxdY3+sZX2urt+cotIgDU1duzpVvK/N3pHIL+txS05u5Op7+cTt9Rpu6Ox+6OR+6Oh+7I...
2025-09-06 17:02:09,212 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: GNu/Rlp+Ud7DxX4ATPYE5sDaWiJ9YWtc5jIGBxFAv4M0A9X/pOcLqQU6AYiLgEscw8Q0vEoqxoAGrO3z6EP9HfrWdhZP3Exhe+Zu...
2025-09-06 17:02:09,214 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: yGYSeq+YptLwxpLwltKollJ0HO2ENxYFNxaHNpdHNKP94tCGwqD6gqD6wuCWkrBG2A8UFATWFwcLitAIEaCnioMbSkLrioLri0Nr...
2025-09-06 17:02:09,216 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: Dw1VAd49CSBjc71wCdEDdMgZfBLWyxT/AyyUgAmHSLLPatvDpNvBujXmf91PDw+gYw+WohGRs/4As/EZJp7Tf4/Z/qAKiBkEPf6p...
2025-09-06 17:02:09,219 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: s+/A7uOnT0QmxWeXFlUQm+roLUQRh66Vs40ascsidFiFTitNIyXyO27cfzo4Nj35y//mGNS4DiqBRwNgnauRKD2uG/ee/vBsTOUw...
2025-09-06 17:02:09,221 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: ZhLudCo06oxYqAsLk6lpZ8LPvTqlWl4IOmeS4CWOmYnAYioIdD/MPsqElmABQGAx7V9MOmcmPZlp90zCOTPlSk/bU5PQDWAqbktN...
2025-09-06 17:02:09,224 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: +nN+TtrHjttGQAxyAf5kVDiDSTIetrinxC9vTjgYpG0kYWeknHAOYvqUk5FyMZZBHzwh7WJl3CzC3J92jmc8nDQdGpR1s5L2cTg/...
2025-09-06 17:02:09,226 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: mkEpQJMmAW34ddSYn0f8Ffb/22ii/Re5AlA1GEEDiFygEaN+/m0kQQAKd+xYu3Xbmt17Nh89sf/8tXNXy27erq68SwQBVdPJzQJW...
2025-09-06 17:02:09,228 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: Akp4fh6Ie40/ZxcuhkOv+ikZ0KPQfmdCLpiQCiZha694RswdlXAmJPwpgFJA9wvZ44CmpLwZEWdcDp1qJmUABjiTUv6UQgSL5mX8...
2025-09-06 17:02:09,231 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: ltdQlVNfXvpjub+5vrRNWtXVUtvXWdPfWdXbJh7oqRvsbRgZbBwbkY8ONY8/VkyOt81MdDflD4vjx2VJMUEOdF+L3iLKznj2+/57...
2025-09-06 17:02:09,233 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: PLVQ6rbLXBal167wO8Uuq9BhkLktCq8NKH6Je5cBLGKXWeoyA9EP1D8IGcAAp1HsNIrshhmDimtUAQCYMWg4Og1bqxpXiCfkEpZC...
2025-09-06 17:02:09,235 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: peie+MP7xT++X/whr9xMG7Kby5nyUjwXj+dii6vJxVJ6MeHYtlFBANat9BOf+GjFFFvLRkrL8fVloP/I6lJiPR8rr4QLmXgpm97K...
2025-09-06 17:02:09,238 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: sFKzRmpCS0Ll/noKXEtyVjpszBjJKay7N2sAKU9O6/EJbXdaT0zrURZmyoBPIhNPQlJLiAyD9G8PqzrjajzwQM5MyZhJKSMxoe4M...
2025-09-06 17:02:09,240 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: W1I++YJfsRTQLgd1KZ8q4RDPuWVACRIO6ef1sb+dOv52Yj+a6fNPchNORcwq9hu5YYswbBaFzMKIWRC1imM2cXBKEDAJAU87xrj2...
2025-09-06 17:02:09,242 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: k20AxkXVPqBeSdgqDpn4gQVOYIEHON45QV/GiWTxEjG7D3gO7mjVNWWYElBa3NJS39xaAz+voHV4b3k0bJZFbco1qzxo4EfMoqAJ...
2025-09-06 17:02:09,245 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: zzYCrB9rUw83Kwc/GiY6TBNU6zTdjvFETFJ8RjONt5sn2nFCYIaiH2sxjrUZx9sM4+gSNk9T8F3MUOyz1EDbMTAf9yIDD14pXFEJ...
2025-09-06 17:02:09,247 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: DnZ+XOn4vn3/8+a9D6v9nzfuvw/2X7jajhes74N975f7r5f7f9p5OPNAxeGxxQKWRIg5iQjy2EwJnyMV8u398t9eDtwEu96j0aIf...
2025-09-06 17:02:09,250 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: +d3R8snW/NXZfKeu+Wxu+GRufDPXvRhlz6b6H+6OG1X1q7Huq6P1u7v9KyEAX91AL5teEKB3XOi74JoH4IkZ4IvOBxo626JCePf6...
2025-09-06 17:02:09,252 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: uhIE9ATr19SRRFEc9UcHbX0DblaPTmJ0C+CaxnLCBMobmsqJGQATgTCCk3ADHL9vqsDM0EZqNqCSUvU0kGIBEs9PIX707xKyQchA...
2025-09-06 17:02:09,254 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: GOiggDsoENBZnD4O5u+i+Q+6f6L9P9DIHiarb5BO7QMQj15PqK/tI+w7UxP5iP77KAO0H34+hA8sIfCldRPz+sR0PtHeA1QBgDs+...
2025-09-06 17:02:09,257 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: gQao4fzwlMNlITSgQJMO4ZzQ6Fi00PocW7SBeUWXuKwwi85mUtLZ1CxOUkEWuyQ3rSibBbAAUzXoCRmclMaKrMnuZu8syn4Cc+KA...
2025-09-06 17:02:09,260 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: 47Izk9UjTL9RGjBI7TMc5yzHhe6fUreG75tDO6DgvDSEpb0y/xzwDRFg+uCcJKCH7+X5tfDVEgDlPhTli9AXyCABIuTXSYDGOKc5...
2025-09-06 17:02:09,262 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: 3asrzqwtuNtQfG9e0f1m6+Fne49IwZ/q5RoQgKHnUdXbjbHXWPs49Ap1w/A68gzVQcC+gAsJn4Tk0LLd+hVPgvKbALRa4schJQ4o...
2025-09-06 17:02:09,265 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: EyI0oKWzq6mrt7WPmIGiXxCu+rcVksVI0FhHT3cb/mmgc3Ckp6cPCwWwT1dXy8AgMRvtJUohIgrCeAHiOlqA5r29uJbfP4g6HGzb...
2025-09-06 17:02:09,268 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: KyMvNm8+25h8ujH1ND31NDV5nphYt2msijYhm0wjV2OgNZfW2d4ol0ssVpNGq1Go5Z3dbQIBl0+wMiqlDgZYQhmMcQFUoqwB4yqL...
2025-09-06 17:02:09,270 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: cFTBiPFks0rU/yxZVhZMy069Z1RWKgBQmsdm0nhsVnERj8um06kFcDHTKHlWdU3GZQUCEHcY0ovGpFOXWcK0hJTTsOKykuoCVXJe...
2025-09-06 17:02:09,273 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: ouMnSBpTMolqn0Tg89CJS6dR4+4I99lsAv2pSi+cNgVwz6CAO4p/SFUWJb9hkT35urfVFF1hcyhMf18pQLEOqtaEcBji6KXMxCRl...
2025-09-06 17:02:09,276 - __main__ - INFO - [req_1757203278] Received chunk from img-gen service: KkL5XE1gP2CE/X/AuONHC8RJzL4fMBE9pjPdD5l3PPD93A/o9vxa4s+E+OlyHYah+CcmcBy10BU+CCKEeN+PHLGDoIGY9oFfv0vo...
2025-09-06 17:02:09,285 - __main__ - INFO - [req_1757203278] Parsed img-gen chunk data: image_data
2025-09-06 17:02:09,285 - __main__ - INFO - [req_1757203278] Received base64 image data (3092864 chars)
2025-09-06 17:02:09,285 - __main__ - INFO - [req_1757203278] Preparing final response
2025-09-06 17:02:09,285 - __main__ - INFO - [req_1757203278] Final response includes: designer_data, generated_image, summary
2025-09-06 17:02:09,291 - __main__ - INFO - [req_1757203278] Streaming request completed successfully
2025-09-06 17:23:38,696 - __main__ - INFO - Setting up CORS middleware
2025-09-06 17:23:38,696 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 17:23:38,698 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 17:23:38,698 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 17:23:55,452 - __main__ - INFO - Health check endpoint accessed
2025-09-06 17:24:29,333 - __main__ - INFO - [req_1757204669] Starting streaming design endpoint request
2025-09-06 17:24:29,334 - __main__ - INFO - [req_1757204669] Reading image data before streaming
2025-09-06 17:24:29,334 - __main__ - INFO - [req_1757204669] Successfully read 647128 bytes of image data
2025-09-06 17:24:29,441 - __main__ - INFO - [req_1757204669] Starting designer service streaming
2025-09-06 17:24:29,441 - __main__ - INFO - [req_1757204669] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 17:24:29,543 - __main__ - INFO - [req_1757204669] Creating BytesIO for designer service
2025-09-06 17:24:29,543 - __main__ - INFO - [req_1757204669] Created files dict for designer service
2025-09-06 17:24:29,543 - __main__ - INFO - [req_1757204669] Initiating HTTP streaming request to designer service
2025-09-06 17:24:29,591 - __main__ - INFO - [req_1757204669] Created httpx.AsyncClient with 120s timeout
2025-09-06 17:24:29,602 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 17:24:29,602 - __main__ - INFO - [req_1757204669] Designer service response status: 200
2025-09-06 17:24:29,602 - __main__ - INFO - [req_1757204669] Starting to process designer service streaming response
2025-09-06 17:24:29,602 - __main__ - INFO - [req_1757204669] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 17:24:29,602 - __main__ - INFO - [req_1757204669] Parsed designer chunk data: analyzing_image
2025-09-06 17:24:32,797 - __main__ - INFO - [req_1757204669] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Living room/Bedroom (D...
2025-09-06 17:24:32,797 - __main__ - INFO - [req_1757204669] Parsed designer chunk data: image_analyzed
2025-09-06 17:24:32,899 - __main__ - INFO - [req_1757204669] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 17:24:32,899 - __main__ - INFO - [req_1757204669] Parsed designer chunk data: critiquing_design
2025-09-06 17:24:37,711 - __main__ - INFO - [req_1757204669] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Excellent natural...
2025-09-06 17:24:37,711 - __main__ - INFO - [req_1757204669] Parsed designer chunk data: design_critiqued
2025-09-06 17:24:37,814 - __main__ - INFO - [req_1757204669] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 17:24:37,814 - __main__ - INFO - [req_1757204669] Parsed designer chunk data: parsing_preferences
2025-09-06 17:24:38,522 - __main__ - INFO - [req_1757204669] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 3400, "budge...
2025-09-06 17:24:38,522 - __main__ - INFO - [req_1757204669] Parsed designer chunk data: preferences_parsed
2025-09-06 17:24:38,624 - __main__ - INFO - [req_1757204669] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 17:24:38,625 - __main__ - INFO - [req_1757204669] Parsed designer chunk data: finding_products
2025-09-06 17:25:09,493 - __main__ - INFO - [req_1757204669] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Living room/Bedroom (...
2025-09-06 17:25:09,493 - __main__ - INFO - [req_1757204669] Parsed designer chunk data: completed
2025-09-06 17:25:09,493 - __main__ - INFO - [req_1757204669] Designer service completed successfully
2025-09-06 17:25:09,596 - __main__ - INFO - [req_1757204669] Extracting product thumbnails from designer data
2025-09-06 17:25:09,596 - __main__ - INFO - [req_1757204669] Found 8 product recommendations
2025-09-06 17:25:09,597 - __main__ - INFO - [req_1757204669] Product 1: Brightech Sky LED Torchiere Super Bright Floor Lamp - Contemporary, High Lumen Light for Living Rooms and Offices - Dimmable, Indoor Pole Uplight for Bedroom Reading - White -> https://m.media-amazon.com/images/I/51UcdAApynL._AC_UL320_.jpg
2025-09-06 17:25:09,597 - __main__ - INFO - [req_1757204669] Product 2: AMADA HOMEFURNISHING Floating Shelves, Wall Shelves for Bathroom/Living Room/Bedroom/Kitchen Decor, White Shelves with Invisible Brackets Set of 3 - AMFS08 -> https://m.media-amazon.com/images/I/617Jcb+JQsL._AC_UL320_.jpg
2025-09-06 17:25:09,597 - __main__ - INFO - [req_1757204669] Product 3: EXCEFUR Modern Coffee Table, Industrial Wood and Metal Center Table, Cocktail Tea Tables for Living Room, Rustic Brown -> https://m.media-amazon.com/images/I/81TT9OSTMCL._AC_UL320_.jpg
2025-09-06 17:25:09,597 - __main__ - INFO - [req_1757204669] Product 4: 108” Modular Sectional Sofa, Cloud Sectional Couch with Deep Seat, Modern Modular L-Shape Sofa Couch with Chaise,Upholstered Couches for Living Room Bedroom (Grey, Left Facing Chaise) -> https://m.media-amazon.com/images/I/917Lk1BqEML._AC_UL320_.jpg
2025-09-06 17:25:09,597 - __main__ - INFO - [req_1757204669] Product 5: Dried Pampas Grass Decor, 100 Stems Pampas Grass Contains Bunny Tails Dried Flowers, Reed Grass Bouquet for Wedding Boho Flowers Home Table Decor, Rustic Farmhouse Party (17", White and Brown) -> https://m.media-amazon.com/images/I/7173mks7XtL._AC_UL320_.jpg
2025-09-06 17:25:09,598 - __main__ - INFO - [req_1757204669] Product 6: Topfinel Grey Couch Pillow Covers for Living Room 45x45 cm Set of 4,Mid Century Modern White Neutral Corduroy Corn Throw Pillows,Rustic Square Bench Chair Cushion(18 Inch/Dark Gray) -> https://m.media-amazon.com/images/I/81uV8D8rJyL._AC_UL320_.jpg
2025-09-06 17:25:09,598 - __main__ - INFO - [req_1757204669] Product 7: Modern Abstract Area Rug Hand Carved Contemporary Geometric Vibrant Colors Carpet for Living Room Bedroom Design PR1001 (Grey, 5' x 7') -> https://m.media-amazon.com/images/I/81DxR37tVIL._AC_UL320_.jpg
2025-09-06 17:25:09,598 - __main__ - INFO - [req_1757204669] Product 8: XLSJERST Extra Large Canvas Wall Art - Modern Abstract Abstract Wall Art for Living Room Wall Decor Blue and White Picture Artwork for Living Room Office Bedroom Home Decoration -> https://m.media-amazon.com/images/I/81rBbjoVH0L._AC_UL320_.jpg
2025-09-06 17:25:09,598 - __main__ - INFO - [req_1757204669] Extracted 8 product thumbnails
2025-09-06 17:25:09,598 - __main__ - INFO - [req_1757204669] Starting image generation streaming
2025-09-06 17:25:09,598 - __main__ - INFO - [req_1757204669] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 17:25:09,700 - __main__ - INFO - [req_1757204669] Preparing image data for img-gen service
2025-09-06 17:25:09,700 - __main__ - INFO - [req_1757204669] Prepared form data for img-gen service with 8 products
2025-09-06 17:25:09,700 - __main__ - INFO - [req_1757204669] Initiating HTTP streaming request to img-gen service
2025-09-06 17:25:09,716 - __main__ - INFO - [req_1757204669] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 17:25:09,731 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 17:25:09,732 - __main__ - INFO - [req_1757204669] Image generation service response status: 200
2025-09-06 17:25:09,732 - __main__ - INFO - [req_1757204669] Starting to process img-gen service streaming response
2025-09-06 17:25:09,732 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757204709", "message": "Starting image processing......
2025-09-06 17:25:09,732 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: started
2025-09-06 17:25:09,834 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 17:25:09,835 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: parsing
2025-09-06 17:25:09,937 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 17:25:09,937 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: loading_room
2025-09-06 17:25:10,061 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 8 product images..."}

...
2025-09-06 17:25:10,061 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:10,163 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/8..."}

...
2025-09-06 17:25:10,163 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:10,467 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/8..."}

...
2025-09-06 17:25:10,467 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:10,658 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/8..."}

...
2025-09-06 17:25:10,658 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:10,930 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/8..."}

...
2025-09-06 17:25:10,931 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:11,116 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/8..."}

...
2025-09-06 17:25:11,116 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:11,309 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/8..."}

...
2025-09-06 17:25:11,309 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:11,519 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/8..."}

...
2025-09-06 17:25:11,519 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:11,839 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 8/8..."}

...
2025-09-06 17:25:11,839 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: downloading
2025-09-06 17:25:12,123 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 17:25:12,123 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: creating_montage
2025-09-06 17:25:12,256 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 17:25:12,256 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: generating
2025-09-06 17:25:22,199 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 17:25:22,199 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: processing_result
2025-09-06 17:25:22,307 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757204709", "processing_time": 12...
2025-09-06 17:25:22,308 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: completed
2025-09-06 17:25:22,308 - __main__ - INFO - [req_1757204669] Image generation completed successfully
2025-09-06 17:25:22,411 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42nT9...
2025-09-06 17:25:22,411 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: wFBlAe4z3gvMfoZ8SQOAJcKPRYCR68/ePxr8SgGTpUO4ckh6T9ggAeBgW6MAIP6j3X03fo60H/xROdhVmu8RVL/hzwzwPUcBjP0i...
2025-09-06 17:25:22,412 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 6TQqVps4p4YnYmqdpNvtJF2XxSx3Owzf7BWOsyN7ZzWPj+r8o84/aADfWY7RlUO3g3r9dPLhA1250OHoy1n9K5DLibzuGfAlHdQI...
2025-09-06 17:25:22,413 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: p1RgcqhvaB635ulSCI+N863LxaC80PyxCXf0hI8mXWj0j4aexE/D7ojDowN4yYY24G8Qf3OCiB5L6alxoFIXL0yDoVnX+nqlA9wn...
2025-09-06 17:25:22,414 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: Pju7PgsE4PT6JNyeXB4hCOjiSNm16gNmI5g5AfZAAMKxZ3mgPBAJuruxCdDP20ADdqgF2jQpoKURsGBEVQDU5ISXxYBK+uE9pRn+...
2025-09-06 17:25:22,415 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: PMHbrhRMvk36ATboCV5zVuB1qICWQQBoBlhe5/h/Y3lpHX3MJADWCaAcYBEcYIluYISB2gYAvdGzs/MzLARAGKiVVCASFKG3Y+Oj...
2025-09-06 17:25:22,416 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 3kJ/+X/88x+n54gArM3fURIgPDo9GXoVXKKeWlLof4ar6VNLdBWeMCNdcBhmPozm1x6zhF3JnMT3hrmEoGRtrTCGZhE8K2E2bVkQ...
2025-09-06 17:25:22,417 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: NCoFZgYB+lcrNAqMBlrTKnUaTKAnqhIdCRHXo8wGNTZGI6w1IwkYMZEYSiADNrvZbgMmYAU4KBYvK+RS/ZoOzbg2I+5H2k1UCGTC...
2025-09-06 17:25:22,418 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: KAjgbn5MAPCaEHLztBJ2nCgFDBMATANwWC9y8ySRutluNTuIcN978x8bIe212EnTTyITwEL4gToc98NOTHDPD9as4uV/UieA0sIs...
2025-09-06 17:25:22,420 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: EwA3iCfSeCqD8AkwYhwgPzT4K51NC6Uin8tjYoJOZ8qz0zNLi7OLi3NL87NLc9UZqKpenq6CL15He7vJYhlXG27fe/i4ruVuU0/9...
2025-09-06 17:25:22,421 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: hNDfNzw4DFgrZYwjoattPL1f7c9aMw1zuu4swISh1NxaoDprS1akZp9Ma+YKxXyBiM3lwQQPlVptMBqtDp3VoTDbNHaXPRh1x1PR...
2025-09-06 17:25:22,423 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: j4V8nYh/HtT+sS0C/9gGg/4Q68MJAGTw6X5AALBkX+Tzg9nzowCwEw4AjUED0N6zZtsPLf+/EvIFg35Rsi90+vdhaD4Q8mE6n2A4...
2025-09-06 17:25:22,425 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 4yFRX9ueP0GS/uvzbkf/ovMPmfj3kll/xP0Bapo/GuhL5vjJejCyrewnIp8dDkBEQbgeBHpQGwxGaQDlDRqIthOQNGJSBIAPh5OK...
2025-09-06 17:25:22,428 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: gAA8Oz14/owIwPOzd2/Ocb179uH9s4/vAM2jDeBbzAO9chIA0v9cow/422t+PvCcswG8J0rA7f1fOfnAh/fMBnDNwkBp1//Ze6YF...
2025-09-06 17:25:22,430 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: Lzby31rnmh9b0j9q/YWzxWf/xARWGROAx0kCdFjhs05NvazOCw9K/FHoY5v6ryH6J6jPaACP6ecuXZrmr7FUH0Lv63gV4vy5Loid...
2025-09-06 17:25:22,432 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: Pr4+3j5MALw9pPkLRx9wgANeB9w83Nw93Q54uLkd2OfmtldnMuQQAYiPb2pr6enrHR49evbs6lk2AHDmDyF+4gCLp0/On1qlrzXP...
2025-09-06 17:25:22,435 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: vDd/tPuVF1+f+tKGeSf9D4VEnQm6GHDK79SpoFMeF04FhHod8z58wvf4Cd/T/hf8/S/6B9I678u2P7zkHF9BAAIcKb/C+vOMr/hq...
2025-09-06 17:25:22,437 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 6fIdHBLkF0Bo1wcwnk4Hbk4u7s7Obs4E7iENdCa2RxzQiq7lSxYvno8UpvnzF8xfvHjB0mWLrWyt8PpwwoaAmxs8Ru7eHh7eBKQx...
2025-09-06 17:25:22,439 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 1XRGAUmwtDTeYmxjR0DcjpA3bCHpdOPhKbp8gtIEoQmfEpYlxKPRultaEcSydHJyomMIwWv/gED6G0yNjXhC18eZ40UcnAC86K6C...
2025-09-06 17:25:22,442 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: ClAY0H+8b2mi/x0wWT9Q7ARh2QFJQU4IbAzaaBnYYp30iDQmymLrThkZAMSH/ZGjVIQAGlko/W+geRjAkCeiEhGwiKqjCVF41Iv8...
2025-09-06 17:25:22,444 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: YfIxR+VDQoNDAO5DgoLDZLw/LCwUGwHYLiU1OQncnxkAnKKYZpAcH0c5EBuak5Pi4iQsODaehAaUBn8bGhYbExsB7B8aju0ezqVw...
2025-09-06 17:25:22,447 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 0tDA8AQbn04xNdHS0tzWlgW9pqamuG5uampuZk4mYE4uYGpuYm5hamNlbWfrQJhvY0WlkK21PbAYsL+VmZWVBQ2jeAorS1trG8A0...
2025-09-06 17:25:22,449 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: aKxtb2no6WodHOxSKsUWk9btNLlclvF4mEiPWSGuzkuvzMkqzEhJTz6VdPpwSvKJotyM+srSvvaW/s62vs62oZ52UV+3SjKgkw8Z...
2025-09-06 17:25:22,451 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: yw8//PijKAxs/ZHBY/zHNqFdO6UawG4sAPr/un/TOwj/wAt27tq17+d9UugYxQBMIN7/24EDh0Ws8cGDXDpw8ABOCco2QhjmkBif...
2025-09-06 17:25:22,454 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: vdONHRonG7vH6zvHq1sHsA0cnG3sn2zQt3ZP1zaO1raOiAYsrh3MIy0UBGCBOcDC0i5B/+WVnaX13cW13SUOFFpe3V1c3pmZW5+Z...
2025-09-06 17:25:22,456 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: +BBbpH47dvK32753CBHSOrSvoR8+bfr0Q82Eqje7IDc/I41oAD1EUmpacn19zeLcrNNmdzucu1vb3758hXDfbnOYLHaj2WYwmXR6...
2025-09-06 17:25:22,459 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: /qubayubm+s7BO4XF5cW5mlaXllaW5pfWZhbWl4i0kD0YGdtdXtiZKI4J9eiibNoNWaaDKYn9R31zb3iKIWnp5eLKxHSYDEGqWJj...
2025-09-06 17:25:22,461 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 8/DKrftH1+5cunb78vW7R1dvH165CdPla9gPQDkAl7f3L20A+dk62Ny5tLOP0WCrmAi2u7VzAF+TNSIAGzt7WO/f3Fld38FW4I2d...
2025-09-06 17:25:22,463 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: If6xdoWcvRFfR9AZdZuarXqXUautraA3ubSkWE8A1eahEfnK1UvXb+ANvPT+pXPnLly6dIXOd6WlpTLObRNRbJgqKixUKOR05NCI...
2025-09-06 17:25:22,466 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: za/MLq2NTZE2TM4uDo1PDY/P9PWPVNU00JN0dLazd0BfUY4P1eVrt/94+vLZ60+PX3x4zPmfz89loP+Z+Hu+eM1ZIPWbkz+vmQv2...
2025-09-06 17:25:22,468 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 84R6p65DQkTXHqp8q+ou7LFScfWSt0MTcEREpLclN1jVCXgD9ckXJB1fNRWEMR4kgmmi4VKdK3obpeAXMuB9rJqzVNP2rOQEZdp3...
2025-09-06 17:25:22,471 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 9vR0d/T19vR2dbW2NXV1dQwPDY4MDw0M9g8NDuB/HFZwgIiXbub4OJAaznDgDB3OyfyR09JJUEAGWPtVmCeVeSUM/CwqAS/Ah0vG...
2025-09-06 17:25:22,473 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: ZquViUBmkwnrFAWZtsEKLCbz1s4WHtBiNlnM5o3NDYtp1+V0bm/tPHr8DNwohIdeQFhYZHZObkpKOj4rELTqGo7FNjQ1twO/NrUW...
2025-09-06 17:25:22,475 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 7HVqbAJcHJ+cGRufHOof6u7oam9tGxwYmZtdXL93b/3+g4cPnjx98v2DB4/wEARg7e49UA4QkvX7D5eWVxYXl5eXVvFXnjx+9tuv...
2025-09-06 17:25:22,478 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: rxe/l/hgpSUl//p///rmm2///S8K/P/9r2+I/tk9fBNY/yYIwb+//fc//y3lA7cA/b+98e0///nPWzdvYfs1NTRS9FJbj13y72//...
2025-09-06 17:25:22,480 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: 4rHEYHF4YmqmMFBMpjLCE1KZbBjJpTE5FzmFgcF+nz9oBTd1wHgAqwB0R1x3csj5ZLI5vy9khvPXKZ9s5OYI/TKbHVjo8HWbehub...
2025-09-06 17:25:22,483 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: gOQHr8Kkf3R4QQT1DH1bzP+BB/f44pTlyjwbUBOdan2Yxv9zLQIp/ic62kdWj+72kPB9D3P9iyPM78/lppQACqWjC2EsEALp7fBU...
2025-09-06 17:25:22,485 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: JQDxPrn+4gBvJwovE5H/wwkA2Q8zOpGow+bdIkX/ANwtAdN1+n0NzkY1L78tMdSfxV6w8LKst8yaXih/GAxaZgxoHrE/tATkSrr+...
2025-09-06 17:25:22,488 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: iG9u5s3L57/9+uTbbx5/8eCrf37xxT+/+urzbx4/+P77b96+fhWLRgzCQ9uztFIslmZmZt+8fvnHH7+/eP7UPolGYgDxnebaOmOW...
2025-09-06 17:25:22,490 - __main__ - INFO - [req_1757204669] Received chunk from img-gen service: I7Q3t1rutfzD+9uh8dc4wEan0ZbcfwslrZ1NRQxtqEpsa3MpBOpsdVR9sAlGA1FQe8eD9YbmtxHvgyXA3u7WzvYmIzthArY/bu9s...
2025-09-06 17:25:22,497 - __main__ - INFO - [req_1757204669] Parsed img-gen chunk data: image_data
2025-09-06 17:25:22,497 - __main__ - INFO - [req_1757204669] Received base64 image data (2578216 chars)
2025-09-06 17:25:22,497 - __main__ - INFO - [req_1757204669] Preparing final response
2025-09-06 17:25:22,497 - __main__ - INFO - [req_1757204669] Final response includes: designer_data, generated_image, summary
2025-09-06 17:25:22,502 - __main__ - INFO - [req_1757204669] Streaming request completed successfully
2025-09-06 17:33:41,352 - __main__ - INFO - Health check endpoint accessed
2025-09-06 17:34:15,604 - __main__ - INFO - Health check endpoint accessed
2025-09-06 17:34:20,234 - __main__ - INFO - Health check endpoint accessed
2025-09-06 17:34:57,975 - __main__ - INFO - [req_1757205297] Starting streaming design endpoint request
2025-09-06 17:34:57,976 - __main__ - INFO - [req_1757205297] Reading image data before streaming
2025-09-06 17:34:57,976 - __main__ - INFO - [req_1757205297] Successfully read 647128 bytes of image data
2025-09-06 17:34:58,078 - __main__ - INFO - [req_1757205297] Starting designer service streaming
2025-09-06 17:34:58,079 - __main__ - INFO - [req_1757205297] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 17:34:58,180 - __main__ - INFO - [req_1757205297] Creating BytesIO for designer service
2025-09-06 17:34:58,181 - __main__ - INFO - [req_1757205297] Created files dict for designer service
2025-09-06 17:34:58,181 - __main__ - INFO - [req_1757205297] Initiating HTTP streaming request to designer service
2025-09-06 17:34:58,195 - __main__ - INFO - [req_1757205297] Created httpx.AsyncClient with 120s timeout
2025-09-06 17:34:58,213 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 17:34:58,213 - __main__ - INFO - [req_1757205297] Designer service response status: 200
2025-09-06 17:34:58,213 - __main__ - INFO - [req_1757205297] Starting to process designer service streaming response
2025-09-06 17:34:58,213 - __main__ - INFO - [req_1757205297] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 17:34:58,213 - __main__ - INFO - [req_1757205297] Parsed designer chunk data: analyzing_image
2025-09-06 17:35:01,074 - __main__ - INFO - [req_1757205297] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Living Room/Sitting Ro...
2025-09-06 17:35:01,074 - __main__ - INFO - [req_1757205297] Parsed designer chunk data: image_analyzed
2025-09-06 17:35:01,176 - __main__ - INFO - [req_1757205297] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 17:35:01,177 - __main__ - INFO - [req_1757205297] Parsed designer chunk data: critiquing_design
2025-09-06 17:35:06,013 - __main__ - INFO - [req_1757205297] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Abundant natural ...
2025-09-06 17:35:06,013 - __main__ - INFO - [req_1757205297] Parsed designer chunk data: design_critiqued
2025-09-06 17:35:06,115 - __main__ - INFO - [req_1757205297] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 17:35:06,115 - __main__ - INFO - [req_1757205297] Parsed designer chunk data: parsing_preferences
2025-09-06 17:35:06,904 - __main__ - INFO - [req_1757205297] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 1000, "budge...
2025-09-06 17:35:06,905 - __main__ - INFO - [req_1757205297] Parsed designer chunk data: preferences_parsed
2025-09-06 17:35:07,007 - __main__ - INFO - [req_1757205297] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 17:35:07,007 - __main__ - INFO - [req_1757205297] Parsed designer chunk data: finding_products
2025-09-06 17:35:33,850 - __main__ - INFO - [req_1757205297] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Living Room/Sitting R...
2025-09-06 17:35:33,851 - __main__ - INFO - [req_1757205297] Parsed designer chunk data: completed
2025-09-06 17:35:33,851 - __main__ - INFO - [req_1757205297] Designer service completed successfully
2025-09-06 17:35:33,954 - __main__ - INFO - [req_1757205297] Extracting product thumbnails from designer data
2025-09-06 17:35:33,954 - __main__ - INFO - [req_1757205297] Found 7 product recommendations
2025-09-06 17:35:33,954 - __main__ - INFO - [req_1757205297] Product 1: Brightech Sky LED Torchiere Super Bright Floor Lamp - Contemporary, High Lumen Light for Living Rooms and Offices - Dimmable, Indoor Pole Uplight for Bedroom Reading - White -> https://m.media-amazon.com/images/I/51UcdAApynL._AC_UL320_.jpg
2025-09-06 17:35:33,954 - __main__ - INFO - [req_1757205297] Product 2: AMADA HOMEFURNISHING Floating Shelves, Wall Shelves for Bathroom/Living Room/Bedroom/Kitchen Decor, White Shelves with Invisible Brackets Set of 3 - AMFS08 -> https://m.media-amazon.com/images/I/617Jcb+JQsL._AC_UL320_.jpg
2025-09-06 17:35:33,954 - __main__ - INFO - [req_1757205297] Product 3: TYBOATLE Linen Fabric Modern Small Loveseat Sofa Couch for Living Room, 51" W Little Upholstered 2-Seater Mini Love Seats w/Iron Legs for Small Space, Apartment, Bedroom, Dorm, Office (Dark Grey) -> https://m.media-amazon.com/images/I/81QodspZDjL._AC_UL320_.jpg
2025-09-06 17:35:33,954 - __main__ - INFO - [req_1757205297] Product 4: FIRMINANA Small Oval Coffee Table Mid Century Modern for Living Room Center Minimalist Display Coffe Table,Nature Wood,18.9" D x 33.47" W 15.75" H -> https://m.media-amazon.com/images/I/61VgUiuXwLL._AC_UL320_.jpg
2025-09-06 17:35:33,955 - __main__ - INFO - [req_1757205297] Product 5: Emvency Set of 4 Throw Pillow Covers Modern Abstract Stripe Simple Geometric Acrylic Bold Decorative Pillow Cases Home Decor Square 18x18 Inches Pillowcases(Grey Green) -> https://m.media-amazon.com/images/I/81COI4oo6pL._AC_UL320_.jpg
2025-09-06 17:35:33,955 - __main__ - INFO - [req_1757205297] Product 6: Induslyfe Large Framed Boho Canvas Wall Art Set of 3, Mid Century Modern room Decor, Minimalist Geometric Abstract Boho Bathroom wall art Canvas Prints Ready To Hang Bedroom decor (Sage Green, -> https://m.media-amazon.com/images/I/81eOho8m-WL._AC_UL320_.jpg
2025-09-06 17:35:33,955 - __main__ - INFO - [req_1757205297] Product 7: Chicrug Shag Geometric Modern Area Rug for Bedroom, 5x7 Feet Memory Foam Indoor Carpet, Fluffy Rug for Living Room Bedside Room Decor for Family Girls Kids Nursery Play Mat, Dark Grey/White -> https://m.media-amazon.com/images/I/81Wb-9E0IZL._AC_UL320_.jpg
2025-09-06 17:35:33,955 - __main__ - INFO - [req_1757205297] Extracted 7 product thumbnails
2025-09-06 17:35:33,955 - __main__ - INFO - [req_1757205297] Starting image generation streaming
2025-09-06 17:35:33,955 - __main__ - INFO - [req_1757205297] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 17:35:34,057 - __main__ - INFO - [req_1757205297] Preparing image data for img-gen service
2025-09-06 17:35:34,057 - __main__ - INFO - [req_1757205297] Prepared form data for img-gen service with 7 products
2025-09-06 17:35:34,058 - __main__ - INFO - [req_1757205297] Initiating HTTP streaming request to img-gen service
2025-09-06 17:35:34,074 - __main__ - INFO - [req_1757205297] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 17:35:34,088 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 17:35:34,088 - __main__ - INFO - [req_1757205297] Image generation service response status: 200
2025-09-06 17:35:34,088 - __main__ - INFO - [req_1757205297] Starting to process img-gen service streaming response
2025-09-06 17:35:34,088 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757205334", "message": "Starting image processing......
2025-09-06 17:35:34,088 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: started
2025-09-06 17:35:34,190 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 17:35:34,190 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: parsing
2025-09-06 17:35:34,293 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 17:35:34,293 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: loading_room
2025-09-06 17:35:34,396 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 7 product images..."}

...
2025-09-06 17:35:34,396 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: downloading
2025-09-06 17:35:34,498 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/7..."}

...
2025-09-06 17:35:34,499 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: downloading
2025-09-06 17:35:34,721 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/7..."}

...
2025-09-06 17:35:34,721 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: downloading
2025-09-06 17:35:34,985 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/7..."}

...
2025-09-06 17:35:34,985 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: downloading
2025-09-06 17:35:35,164 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/7..."}

...
2025-09-06 17:35:35,164 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: downloading
2025-09-06 17:35:35,409 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/7..."}

...
2025-09-06 17:35:35,409 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: downloading
2025-09-06 17:35:35,655 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/7..."}

...
2025-09-06 17:35:35,655 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: downloading
2025-09-06 17:35:35,915 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/7..."}

...
2025-09-06 17:35:35,915 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: downloading
2025-09-06 17:35:36,172 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 17:35:36,173 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: creating_montage
2025-09-06 17:35:36,298 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 17:35:36,298 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: generating
2025-09-06 17:35:45,079 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 17:35:45,079 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: processing_result
2025-09-06 17:35:45,184 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757205334", "processing_time": 10...
2025-09-06 17:35:45,184 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: completed
2025-09-06 17:35:45,184 - __main__ - INFO - [req_1757205297] Image generation completed successfully
2025-09-06 17:35:45,287 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42oT9...
2025-09-06 17:35:45,288 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: LRTMaoAn1AMYBSj/C9R/tf+N8W8LjkBA/+D8mLePjQFk+PMkVYA1/D3/i4lgxg7CEOD19RU1wDuA/rvSviwS+M3YPu9K/np/6bTI...
2025-09-06 17:35:45,289 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: b/Fv9faCpp8bGn8xLUi4398RXP1f4htTRP4z4oDvWWhABAGoKVEBvqiy3iXrFaJ/jltw8A23wli3tk/6MdpJrfVdqv+zRP+ODGoa...
2025-09-06 17:35:45,290 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: fVHqcvEv2brTiieydWX07kLN/f5oHjNvC/6bPW0t1VU33cyWMN03T6ZnJs9J0OUz+6Vnpj5oPKnqBQbgOs1gwByeouMeNJ7Wabm8...
2025-09-06 17:35:45,291 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: K4Din9V51QAvhSII6iDmgcLyuyz0D3UQlT9UBDEVFJJajP9nkwl4Tk4AT/15TziA5y0E+uXx/6xjQGciCGh2JorA5oIAzGb1/8w0...
2025-09-06 17:35:45,293 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: 9/4/76d+sfeXj8r24fj/11wC4Js582dKQv8PZR/wNBq/PkzNFJGgfJya1tQ/xD+K/IcfQOif4Z5zc1NzPw/7XemF6J65qcD9M6H/...
2025-09-06 17:35:45,294 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: sw94Zk5VAED/87nqK/J/ZkvlXyz9nSVJyPbf2XzAAUgJiPhz729BABz/D5V/aeS/vBBFv7wJy+9czvpEuKdKAFT0u8yRf8LrUAEt...
2025-09-06 17:35:45,295 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: j1Ws8W//ZfkncICfP//vwUHgAIEY/J+DwAoO/ueA9xwc/s/J6c+z88OLq9NM7iZfzFYQ/C8Rzh0+Kzp0e33A9073Dh9ObQZtoPCO...
2025-09-06 17:35:45,297 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: fV5Sw8V6ezES+mv2jMl3i1N/5vlUoxT8Vig6BO6vl6X4x2+r4WlC/3oNa1Uf/CPUOE8dDoMKuEUs2wW5hFu3edi1paTGN613Uo7p...
2025-09-06 17:35:45,298 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: BNzLVt0+Tf7pRxCQVgFoG0Ak0q9OXyEMA6r2IQHwNMBh/T6K/vu1fss4AEOBoOOPGQEYiMP7Gwuy//9XH3DM1EExuO5U/zMAxzB6...
2025-09-06 17:35:45,299 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: +p9tF5jq/gXHU/SPi8j+RxvA51TU/bIITLiB1gIkNQDwSmIOgI3/9FSN+DRhoOmf/2UASLe9v19AAHQCAM6AE4h/GP1ptvzNxr+s...
2025-09-06 17:35:45,300 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: pVgzVuuWdsvdbXu7LV+lYo8l7+F9JlKGWEIby+gSWUM6YwxHHxMZvT98a7AdGWynRtvl5c3K5c2ayXIcjmpSGRNwlWLF2sYKYV+z...
2025-09-06 17:35:45,302 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: MbBFCAKiQjA6IUrAL3JpEE0AJtv/d6YBU9PM+4uVXgT3pyj6c3oaKQFVgAlCoJlJA8DsDCMAtylAL9hm/zQRAKb5mWYEgPjALN0k...
2025-09-06 17:35:45,304 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: KZy9LMLXfZH6HIATbm6v7R5u7uxvAAFY3VxcXluA920Jm4CBL07pzNLuWareCdfa4VIzkC55I2mL0yfnQ9pkzhWIWnxBXaHGR5JW...
2025-09-06 17:35:45,307 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: FuYCOVxOODNsMeBJl4PqwOxUvusB6I8GAOQAGATKWIHL53L7mP6HEQDWB8yKwKxmq9lktaC11zisH9ZphwYHBjUqDW4bAPpXatWa...
2025-09-06 17:35:45,310 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: z6/ucw7w4/ePFAkUqoByFWJ///F7TAEiFdO3iP9zLmYSLqHrAAjATz/9BN8AZbvq6xtfzy8tDY+NpHszZqfF7LQ6PE43xoC6Af27...
2025-09-06 17:35:45,313 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: BCBNAYQQSJoLiJDQhw+CY4EH96WF/AcvrPn/oRsAvkU/02L/zyH+gIcht3l0H4VJIgGInvJ9diA8YtLw6NHf//6PX359HBgaKgMC...
2025-09-06 17:35:45,315 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: KXvABoKfYb+//fLLyPAosKxvSQVgbGKyu6enGef1FfIORWtHJ8kBQAsgOeD1dnmbok2KMFoka5OhL1AbqQAoMU2Tgf5UAsQYgCoJ...
2025-09-06 17:35:45,318 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: LkaH+R0N9Az0DjoZHHAiMOBk4NHzJy4lXo65HRN3N5ZAf+zDhLhHcTFY9Y+NIbiPxX4cj7kVFc0dwDF3ouPuxBANiLsfQzclPYyP...
2025-09-06 17:35:45,321 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: 0XZkYGhsEAQAHKBvaLQXEqChrt7egqLc5MePCKOGRYbewgYgJj4O0J83ADABp2dmFJVg9VfX0NTcJghADwgA3cLgEBuLsQEQ6F8k...
2025-09-06 17:35:45,323 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: 2lum53nPLjbyPdUW4Y2MoFcbk/4XmgN9CCj7WaV6r5ec/uft2sbg/9Uak/5zuZ9w503W3nUK8VR7AF4w++8rdqEW+agPMkZzBIAp...
2025-09-06 17:35:45,326 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: fWjo8dBwNMYnG00A9McjotBPMzySG+xERoYzKB8dE4nHo+BqOGJUoB8xkVGUR43+mJGk3omMjImChUO6aFYVG5sACD8RiGgCUBfU...
2025-09-06 17:35:45,329 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: pzA7pwiIPxsnAoIF+ucI7s8ryUE/bqkcmOXnXsrNK83KKc7OK8krKJPzvHxck5svN5Xk51/OL7gC9IwQT8Tn5xD6A/0XoxMXm4FC...
2025-09-06 17:35:45,331 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: GcIBDIfgBkHeUbNmQDQm77HZ06ctmDcnesO6gzu3n/32a8H3job6Lo+r0yOAvCPgcVeVl9ZU3R0cHPC6XbdLS5rranr9nQ/6+wa6...
2025-09-06 17:35:45,334 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: HCAYT0JxCRBCRQCA9IEEIA3gUjB8Bm0AAv8HghkgSHzSgKDAS5cuSUevlbUla4Ckvp+lQTbW3NJkyXVMZuWsLM6QQUCf9TQhK7Ax...
2025-09-06 17:35:45,336 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: 0oAmcNSPip9xtlLAVwJY+dcI5gSNjYzTUJ+J/DHEB13AQtwnWX7HR0c4B2BLAwj6uSl4iARCI8zeNuRs4R1gwLtvgGt6cJcMAcgL...
2025-09-06 17:35:45,339 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: BfxES6uJBtEZpLSYXkufexxysJP0zZcUldGPjQ5ivUY9NNI/M3uSQCoP7HEeHQd/1zCppuNfvJ2qtqq+sa5R01DXUEsMmH7H+LOh...
2025-09-06 17:35:45,342 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: YQbA2D+cAH5G9gTog35xBTiA8n08rk/X/ZAJBfivYAgSG8qXkABB/+MkGoAZAzYEs/3X5rbbpDNYqoK5FgD1wDYzUoCgCLIwDTAx...
2025-09-06 17:35:45,344 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: AgDv4ClMN48Pcd+zMwhw2fYUOV+nJ9BVn53Bup9V3bQMAuXo1YsA4PBANe+Fuc9VAfv7PFODjFN+Ah0en50eHTH4Z2YPXhFPOhT5...
2025-09-06 17:35:45,347 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: HPV5PU7F9gDtR0j5kHbSM+EfuE9y+IARFCLAfaRPAf9hbXCmhyMmR9CKfw6QNPtFguViLQ07Syp8ZdU+Y5VX3xSzDtQFZloTgw1R...
2025-09-06 17:35:45,349 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: WT1u5gZw6zpxI92T3kK0e7Rln8/X0tK8d7j7H//xry9fv11d3fb39/l8ASxguBqbG9ZWV+m0n52cb65vtrY2WR1Wjvz3ekOheqIz...
2025-09-06 17:35:45,352 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: 6aKXcTvc7Wlvbx0ZHhoaHAqFgucXp7SS33//RpeJZDKZZ1Ogg+Pjg+1t5v3nskm2r8jnjk+Od/f26eL1+eXpU6Xy+vr56HC/va2l...
2025-09-06 17:35:45,354 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: Lpy4WkF7sdIoWjm2+dnj3+ZIDY8fc6ni6efGVNcFAEtBiwngPZWfZj7VakOvrG+uMQvG41IuV8kmbFXNWtM5kiweLkAuBwC4f31d...
2025-09-06 17:35:45,357 - __main__ - INFO - [req_1757205297] Received chunk from img-gen service: Znr20YP7I8PDBOEJCQBo/w+2jSFdZQmD7aPsX7JfRIVPOCMI0wIyemAoJJUwIDLNeECJYUVhK5GNaXcX+/1wGpWEGC6g3XIU4g+y...
2025-09-06 17:35:45,364 - __main__ - INFO - [req_1757205297] Parsed img-gen chunk data: image_data
2025-09-06 17:35:45,364 - __main__ - INFO - [req_1757205297] Received base64 image data (2209720 chars)
2025-09-06 17:35:45,364 - __main__ - INFO - [req_1757205297] Preparing final response
2025-09-06 17:35:45,364 - __main__ - INFO - [req_1757205297] Final response includes: designer_data, generated_image, summary
2025-09-06 17:35:45,368 - __main__ - INFO - [req_1757205297] Streaming request completed successfully
2025-09-06 18:05:15,394 - __main__ - INFO - Setting up CORS middleware
2025-09-06 18:05:15,394 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 18:05:15,395 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 18:05:15,395 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 18:06:17,321 - __main__ - INFO - Health check endpoint accessed
2025-09-06 18:06:36,397 - __main__ - INFO - [req_1757207196] Starting streaming design endpoint request
2025-09-06 18:06:36,398 - __main__ - INFO - [req_1757207196] Reading image data before streaming
2025-09-06 18:06:36,398 - __main__ - INFO - [req_1757207196] Successfully read 647128 bytes of image data
2025-09-06 18:06:36,509 - __main__ - INFO - [req_1757207196] Starting designer service streaming
2025-09-06 18:06:36,510 - __main__ - INFO - [req_1757207196] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 18:06:36,611 - __main__ - INFO - [req_1757207196] Creating BytesIO for designer service
2025-09-06 18:06:36,611 - __main__ - INFO - [req_1757207196] Created files dict for designer service
2025-09-06 18:06:36,612 - __main__ - INFO - [req_1757207196] Initiating HTTP streaming request to designer service
2025-09-06 18:06:36,653 - __main__ - INFO - [req_1757207196] Created httpx.AsyncClient with 120s timeout
2025-09-06 18:06:36,666 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 18:06:36,666 - __main__ - INFO - [req_1757207196] Designer service response status: 200
2025-09-06 18:06:36,666 - __main__ - INFO - [req_1757207196] Starting to process designer service streaming response
2025-09-06 18:06:36,666 - __main__ - INFO - [req_1757207196] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 18:06:36,666 - __main__ - INFO - [req_1757207196] Parsed designer chunk data: analyzing_image
2025-09-06 18:06:40,211 - __main__ - INFO - [req_1757207196] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Living Room / Sitting ...
2025-09-06 18:06:40,211 - __main__ - INFO - [req_1757207196] Parsed designer chunk data: image_analyzed
2025-09-06 18:06:40,313 - __main__ - INFO - [req_1757207196] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 18:06:40,313 - __main__ - INFO - [req_1757207196] Parsed designer chunk data: critiquing_design
2025-09-06 18:06:45,190 - __main__ - INFO - [req_1757207196] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Excellent natural...
2025-09-06 18:06:45,190 - __main__ - INFO - [req_1757207196] Parsed designer chunk data: design_critiqued
2025-09-06 18:06:45,292 - __main__ - INFO - [req_1757207196] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 18:06:45,293 - __main__ - INFO - [req_1757207196] Parsed designer chunk data: parsing_preferences
2025-09-06 18:06:46,356 - __main__ - INFO - [req_1757207196] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 1300, "budge...
2025-09-06 18:06:46,356 - __main__ - INFO - [req_1757207196] Parsed designer chunk data: preferences_parsed
2025-09-06 18:06:46,458 - __main__ - INFO - [req_1757207196] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 18:06:46,458 - __main__ - INFO - [req_1757207196] Parsed designer chunk data: finding_products
2025-09-06 18:07:17,973 - __main__ - INFO - [req_1757207196] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Living Room / Sitting...
2025-09-06 18:07:17,974 - __main__ - INFO - [req_1757207196] Parsed designer chunk data: completed
2025-09-06 18:07:17,974 - __main__ - INFO - [req_1757207196] Designer service completed successfully
2025-09-06 18:07:18,076 - __main__ - INFO - [req_1757207196] Extracting product thumbnails from designer data
2025-09-06 18:07:18,077 - __main__ - INFO - [req_1757207196] Found 8 product recommendations
2025-09-06 18:07:18,077 - __main__ - INFO - [req_1757207196] Product 1: Vintage Floor Lamp with 350°Adjustable Swing Arm, 61” Mid-Century Modern Floor Lamp, Standing Pole Lamp with Pull Chain Switch, Antique Reading Lamp for Living Room, Bedroom, Office, Brown CE13LD05 -> https://m.media-amazon.com/images/I/71jeOXJxIhL._AC_UL320_.jpg
2025-09-06 18:07:18,077 - __main__ - INFO - [req_1757207196] Product 2: BAMEOS Floating Shelves,31 in W White Wall Mounted Wooden Shelves with Invisible Brackets Set of 2, Hanging Wall Shelves Decoration for Bedroom, Bathroom, Living Room and Kitchen -> https://m.media-amazon.com/images/I/61RwszoqgxL._AC_UL320_.jpg
2025-09-06 18:07:18,077 - __main__ - INFO - [req_1757207196] Product 3: mopio Ensley Coffee Table, Mid Century Modern Table with Storage, Farmhouse Wood Coffee Table for Living Room Fluted (Walnut) -> https://m.media-amazon.com/images/I/61e8TM-br0L._AC_UL320_.jpg
2025-09-06 18:07:18,077 - __main__ - INFO - [req_1757207196] Product 4: Mid Century Pillow Covers 18 x 18 Set of 4 Midcentury Modern Throw Pillow Cover Teal Grid Pillowcase Atomic Stars Bursts Orange Pillow Cases Home Decor Cushion Covers -> https://m.media-amazon.com/images/I/71+EMbAWM1L._AC_UL320_.jpg
2025-09-06 18:07:18,077 - __main__ - INFO - [req_1757207196] Product 5: AKWISH Midcentury Modern Framed Wall Art for Living Room Set of 3 Mid Century Modern Abstract Canvas Painting Print Boho Color Blocks Home Decor Colorful Minimalist Pictures for Bedroom 12"x16"x3 -> https://m.media-amazon.com/images/I/71FrP+rLxIL._AC_UL320_.jpg
2025-09-06 18:07:18,078 - __main__ - INFO - [req_1757207196] Product 6: RoomTalks Mid Century Modern Washable Rug, Boho Cute Aesthetic 5x7 Area Rugs for Bedroom Dining Living Room Kitchen, Abstract Tropical Leaves Non Slip Thin Indoor Entryway Rug Accent Floor Carpet -> https://m.media-amazon.com/images/I/91knwX36tPL._AC_UL320_.jpg
2025-09-06 18:07:18,078 - __main__ - INFO - [req_1757207196] Product 7: Framed Wall Art Canvas Set Mid Century Boho Pictures Modern Abstract Geometric Wall Decor Minimalist Black Beige Bohemian Canvas Painting Artwork for Living Room Bedroom Office 20"x28"x3 Natural -> https://m.media-amazon.com/images/I/81NU7gZ99OL._AC_UL320_.jpg
2025-09-06 18:07:18,078 - __main__ - INFO - [req_1757207196] Product 8: Yecaye Cord Hider, One-Cord 125in Cable Concealer, Cord Covers for Wires on Wall - Easy Install Cable Management Kit for 2 Small Wires, Cables Raceway Home Office, W0.59in H0.4in, White -> https://m.media-amazon.com/images/I/71S7MS+pQAL._AC_UY218_.jpg
2025-09-06 18:07:18,078 - __main__ - INFO - [req_1757207196] Extracted 8 product thumbnails
2025-09-06 18:07:18,078 - __main__ - INFO - [req_1757207196] Starting image generation streaming
2025-09-06 18:07:18,078 - __main__ - INFO - [req_1757207196] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 18:07:18,180 - __main__ - INFO - [req_1757207196] Preparing image data for img-gen service
2025-09-06 18:07:18,181 - __main__ - INFO - [req_1757207196] Prepared form data for img-gen service with 8 products
2025-09-06 18:07:18,181 - __main__ - INFO - [req_1757207196] Initiating HTTP streaming request to img-gen service
2025-09-06 18:07:18,195 - __main__ - INFO - [req_1757207196] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 18:07:18,219 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 18:07:18,219 - __main__ - INFO - [req_1757207196] Image generation service response status: 200
2025-09-06 18:07:18,219 - __main__ - INFO - [req_1757207196] Starting to process img-gen service streaming response
2025-09-06 18:07:18,220 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757207238", "message": "Starting image processing......
2025-09-06 18:07:18,220 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: started
2025-09-06 18:07:18,321 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 18:07:18,321 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: parsing
2025-09-06 18:07:18,423 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 18:07:18,423 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: loading_room
2025-09-06 18:07:18,553 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 8 product images..."}

...
2025-09-06 18:07:18,554 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:18,656 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/8..."}

...
2025-09-06 18:07:18,656 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:19,084 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/8..."}

...
2025-09-06 18:07:19,085 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:19,347 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/8..."}

...
2025-09-06 18:07:19,348 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:19,620 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/8..."}

...
2025-09-06 18:07:19,620 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:19,937 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/8..."}

...
2025-09-06 18:07:19,937 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:20,236 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/8..."}

...
2025-09-06 18:07:20,236 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:20,518 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/8..."}

...
2025-09-06 18:07:20,518 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:20,824 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 8/8..."}

...
2025-09-06 18:07:20,824 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: downloading
2025-09-06 18:07:21,068 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 18:07:21,068 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: creating_montage
2025-09-06 18:07:21,197 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 18:07:21,197 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: generating
2025-09-06 18:07:32,658 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 18:07:32,661 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: processing_result
2025-09-06 18:07:32,764 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757207238", "processing_time": 14...
2025-09-06 18:07:32,764 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: completed
2025-09-06 18:07:32,764 - __main__ - INFO - [req_1757207196] Image generation completed successfully
2025-09-06 18:07:32,866 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42nz9...
2025-09-06 18:07:32,866 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: fhKA8B2wCuj95P1NpwBZBRhqgAeH+4j+wQSGkAXUBwcwYn8o/kESaHQCSOgvK7D1giVmAHKA0ZGBMdP/qAJMPoFBJX7CFsw9APQ/...
2025-09-06 18:07:32,867 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: t+yu33mFeC6ZyMdSfWpm9jUDgI3YQQMEqRcsdzm1Cmg0FxsrkvoAQJspthHH//qRIBzvMhikZBofaOpDHPPzfmnFNUKKfGb2swjD...
2025-09-06 18:07:32,867 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 97//4d//9u/89l/5L/7Kv/0//21CYEdAFCcJs9YB6CvVUNsbyispUr1OSowp8D0zguo5KKYIlCwFawYNwKdthBCfY0Tl5AgOtkOc...
2025-09-06 18:07:32,868 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: k0QCwGTS8JccCIBUPQk5gDlGGBDChQAlOgD6Ae63ofaBnKwTyACvJfHv8AXdON0X7heg7w8Lk36SAbtP2iACMBAHYEuXz/7zR9oA...
2025-09-06 18:07:32,869 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: +22v+RHWd3iXZABMYAfxl7uWAbrB3t8tTs191A9awKT52STi3/nOOR+SQGNf3edTK/TlgP8gpvyRmAfz/ov7fgnAGFBdRzdxLvIR...
2025-09-06 18:07:32,870 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: AT92CJ+VDOgBbRDQL4hZmADTg88Zk1MpM3K2t+JXi2igO5YbMYtIQ4oDRX76ml9ef0oTpL79nKIffvfl/Olr7OCso2/AVlZSUl5S...
2025-09-06 18:07:32,870 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: +hcZys/QIQA+nwYCUKRMAMcCDPeni+U0Uwfh2sBgkYCtDRRwLTgXy+VjoAWiecmEOxECkImkkqFEPJiIBeOxQByynP2RiDcc9gSD...
2025-09-06 18:07:32,871 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: jXsyMQ+6mI250rDcqbgb5GnUmYphcgg7Englw85EyAHp9UF7FK942AEdCCErIopk1JmOwqvlM6FSIV4pZYrFHDfka8fwgxgAL3RS...
2025-09-06 18:07:32,873 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: pNVP0qonOe3znH4YHnWw8vrhgnEkr0fOdc8LAMoDEG8cQeYAzyum52U9wgEMgAA8K+meVMDRAO7wHCEJwxXjCMoKitqnRe3jouEp...
2025-09-06 18:07:32,875 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: ADj0bSOgtw7tOwAMANJ//549e+G/nRAAALt2bttFmoHu2LFtw4Y169a+tmH961u3bnxz08bt2zbW1ZcKRAx4b+PyaG/tX7th7f/Y...
2025-09-06 18:07:32,877 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: cb8Bqj5kKi/8iFeTFw9Zyysy1SpeXdzNYReIhJUA4yrKs0UCbPyXlWXyeOXRkBsgfmFhWjjk0KgFGZm73E5dIuoCJiAUVjXEvQJ+...
2025-09-06 18:07:32,878 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: /1X7+k+GoxqzskklrIm4xFZRpaWDp2ooaK/I85glRklDQNfC+9V/Fxf8i736V8I3/kv9T/9K/fp/smb+XcdLf6NP/y+O7P+qev1v...
2025-09-06 18:07:32,880 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 6pUnjW9stLz1tPXNJ53vbjC//mPbmz92vPMj89sbXHlbPBW/MOx/vq+hKL/h4LtN7W80d73awnqmBIM789syCsDCm5HfmQWC/k7Q...
2025-09-06 18:07:32,882 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: AsARAJ1CoFc2GkkIZFa3WLUtVp3EZpTb6QTAhhW8SoeJR+SI/vHqJPWOi1b+RAB0LhsbuGfgHj4K6B/hvsOqdiAHQBeBg/A9G44A...
2025-09-06 18:07:32,884 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: FstwhPxZ8ORRIENjo8PALiYmxr5wljaJz5Ks/yxCfBT5nEkmDy4l8Z8FApB0AmkABvyfYouzcBnSgJNMF0QEgDP+ovT/1PGTJ4+y...
2025-09-06 18:07:32,887 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 7R/pv+sY/a8b28j7TevW8SjwOhAAxIHxBPDoKNv/j/EMwAhxAOXzg+MoWwANi/5HLwbCGuXWAHcFhkZGBjEGzPofNvYZFLNPuamo...
2025-09-06 18:07:32,889 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: TtAEL38tgLHRykIEr8vGpobmZqb5+bk8fgOn+5cSAJQAtbIAL87In2T9bAhA7v4sKWyDG3BYn/Q80iuYKyzp9L9HJ8Sk/GntYOmI...
2025-09-06 18:07:32,892 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: /SWTUFwP+EYaIaAKn9+I9EVv2adaZA9RKMoBoAICQCdcs/+nuL950/CHLD7hr4tle9ERFf/NTVAE65tEYV6NnLi/tYXEG0zw08ru...
2025-09-06 18:07:32,894 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: h4nfIU1hHVHs3rmkIZgA+k4qE+peEtO5xC2AvKKTsRkQRy+5WSxNiAH9GFJE2rvao/E+bdTS0BUdcXTGxE44SIEj3C3NHa1R40Q7...
2025-09-06 18:07:32,897 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: SPoPS6nTKIAAqLH8S6FSy0j6L6tNAKQKRP+43wpYS4JCD0r/FI+hM5OVAKADGNE/QESAi+gBGOMWpgCN8Pi4/T/A4w1Q3uPA4FDf...
2025-09-06 18:07:32,900 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 3f2N2qAT4/z9TgT6gRaTt0nvdeq9KPsxAKzvtCkB8ffYNJ0ImhWdFgU8nGz2q4h5QNVtgptqt1nttig6zHJYQAB6LLpuk8YNINus...
2025-09-06 18:07:32,902 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 32OXgOkGBIikh7jYtvrgehwACPkxuBeHUZBlAogHxA9vleYmdOkhpX1S76dSfgdQavTwISJ+uwuWG8B6E/bjUNJD6/qI7+EkVvp9...
2025-09-06 18:07:32,904 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: F3GETfLBBld/1N7kULlkrIhF2huxtXn0cE7QLPdg2b62waFpchpgGzJLbWpOAEC2RdHoVAeM4qBJ4jOIvTpR0CKPOLAPELYowgDr...
2025-09-06 18:07:32,907 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: sRKgcMikiFhUJKtLFzTKnSqBUZwjY6cDOUm99GXcl/8d88V/X/rTf3/zx/+69Kf/uvTnP8R9+ce0K19np8bLWJl6IcsGOFspCJrk...
2025-09-06 18:07:32,909 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: LGTzOAx4QyYmhuBRQ/evjQ7fJM6Ns2gEAZcOj1IrRGqlSCUTaBQiBQL9iGzIJXzgaWTi9MzU/ZH7NybGbk9P3qcjqwMBGAg8i1Yr...
2025-09-06 18:07:32,912 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 4rVjo67xqCcRtk8mA6lYIOx1ZJKhqTRyyJlMNJ0ITkSDs5PJWZT4R2YmojMT8YloYB7Va+Mzk3jXLUwlPi7N+Nw2ZkMtva4q7HOs...
2025-09-06 18:07:32,914 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: lVKemJ+W/P5F4vtfBFmJUn56rl5R4syvrSxtaqge7O8YH+kbHu4aHeoaH+kZ6u/o723t625qaaysqSg06+XCnJRPCa8S3vzy9tVP...
2025-09-06 18:07:32,917 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 7qXpXu436KGnP7zO40QtOpYmOz9i8N/xmR6H2kabTL0Vqm5zYR+BfkvRkLkAXtuyglFzIXJ7DB+GjdkY51vyR03Zo6ascVPupDlv...
2025-09-06 18:07:32,919 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: lnlCvXKnKKGaXb60+e4LOSDfb9eYoV2+kD5v3ktjV9dMlb3izHZp1MXF7IvuF6eBNBJAH6UWPmII8WFBxFZ1LVdK9kJKg9Rc42iq...
2025-09-06 18:07:32,922 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: +qzs/CEwN1Ppt0JTZZfVjw0SOrwCPg+He0LT72X0z+k6yNhhxb9C+QGW+HMwK7JZfV6Xn5M9fVzr6/HgHjzEi94uAuLB0EA47IvH...
2025-09-06 18:07:32,924 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: DQXaxAk7G9vbXAUwEUgYw3ZlG3uDbQqEYAjepq9XbsAhsE2HAFuBK/V6hSHocADvwAFcqdRpFWhoTiilPl2tE+YSoN2PA8Lgv4nZ...
2025-09-06 18:07:32,927 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 4OcIH1xgmwygrkh+Hrus5N3crtc9qVNZQNvGCrb36lvbOAWXBPazaq2KgXzFXgZtD9QX7bA7YIvz/5GwB5lC28z739ziXwF/XKNx...
2025-09-06 18:07:32,929 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 4Isrxh8Zo2gSSkp+g36xS7pHHZ0Hsf5FkOvYoxtXrno6leoJg/kmx/yBMDQazgpauN1gWE6nj6ZeTZ4F4i+kknILAaKNWAFmFKOn...
2025-09-06 18:07:32,932 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: KX+I/E84lSDRC8b/Dpq8TOhfJmDpXBy6Y0VOegm9wkdiAFT96jJA0qcn1u2fnBisnyj5J1YEuRfYLl6iME+1aRFwZ2TuzyJFzSme...
2025-09-06 18:07:32,934 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: zi/yMYMe1LiFK0f6KOqHpQHEI7+dkL2Zgw/gLc4c7X/pw0IUZANAeAASfHfvrwhDXbqgZsOsgxDSwPoXORU0D/sbnuWfB23wrsAH...
2025-09-06 18:07:32,937 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: 1SU3Nu9IOxPVvYkMsEtBN86WLuaQJgJglQ6gKiA+1U0Vbn7wZfZD9yUXBNwLzDWC6H9kmRNFLLI3tFg6lp633EDcUzVEI3sz+Ed3...
2025-09-06 18:07:32,939 - __main__ - INFO - [req_1757207196] Received chunk from img-gen service: Kwl1tk7pos0U/YC5n8jzOip2CssBHLzXkenJBrbiz+UCCKBPSneAr0fXAWnR54rugo2iglPdv8Fjza+EhNJvsGN0F/UtazUA8P9u...
2025-09-06 18:07:32,947 - __main__ - INFO - [req_1757207196] Parsed img-gen chunk data: image_data
2025-09-06 18:07:32,947 - __main__ - INFO - [req_1757207196] Received base64 image data (2425348 chars)
2025-09-06 18:07:32,947 - __main__ - INFO - [req_1757207196] Preparing final response
2025-09-06 18:07:32,947 - __main__ - INFO - [req_1757207196] Final response includes: designer_data, generated_image, summary
2025-09-06 18:07:32,952 - __main__ - INFO - [req_1757207196] Streaming request completed successfully
2025-09-06 18:10:11,394 - __main__ - INFO - Health check endpoint accessed
2025-09-06 18:10:30,133 - __main__ - INFO - [req_1757207430] Starting streaming design endpoint request
2025-09-06 18:10:30,134 - __main__ - INFO - [req_1757207430] Reading image data before streaming
2025-09-06 18:10:30,135 - __main__ - INFO - [req_1757207430] Successfully read 647128 bytes of image data
2025-09-06 18:10:30,237 - __main__ - INFO - [req_1757207430] Starting designer service streaming
2025-09-06 18:10:30,237 - __main__ - INFO - [req_1757207430] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 18:10:30,339 - __main__ - INFO - [req_1757207430] Creating BytesIO for designer service
2025-09-06 18:10:30,339 - __main__ - INFO - [req_1757207430] Created files dict for designer service
2025-09-06 18:10:30,339 - __main__ - INFO - [req_1757207430] Initiating HTTP streaming request to designer service
2025-09-06 18:10:30,353 - __main__ - INFO - [req_1757207430] Created httpx.AsyncClient with 120s timeout
2025-09-06 18:10:30,368 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 18:10:30,369 - __main__ - INFO - [req_1757207430] Designer service response status: 200
2025-09-06 18:10:30,369 - __main__ - INFO - [req_1757207430] Starting to process designer service streaming response
2025-09-06 18:10:30,369 - __main__ - INFO - [req_1757207430] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 18:10:30,369 - __main__ - INFO - [req_1757207430] Parsed designer chunk data: analyzing_image
2025-09-06 18:10:34,297 - __main__ - INFO - [req_1757207430] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Living room or bedroom...
2025-09-06 18:10:34,297 - __main__ - INFO - [req_1757207430] Parsed designer chunk data: image_analyzed
2025-09-06 18:10:34,400 - __main__ - INFO - [req_1757207430] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 18:10:34,400 - __main__ - INFO - [req_1757207430] Parsed designer chunk data: critiquing_design
2025-09-06 18:10:39,000 - __main__ - INFO - [req_1757207430] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Excellent natural...
2025-09-06 18:10:39,001 - __main__ - INFO - [req_1757207430] Parsed designer chunk data: design_critiqued
2025-09-06 18:10:39,103 - __main__ - INFO - [req_1757207430] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 18:10:39,103 - __main__ - INFO - [req_1757207430] Parsed designer chunk data: parsing_preferences
2025-09-06 18:10:40,132 - __main__ - INFO - [req_1757207430] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 1200, "budge...
2025-09-06 18:10:40,132 - __main__ - INFO - [req_1757207430] Parsed designer chunk data: preferences_parsed
2025-09-06 18:10:40,234 - __main__ - INFO - [req_1757207430] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 18:10:40,235 - __main__ - INFO - [req_1757207430] Parsed designer chunk data: finding_products
2025-09-06 18:11:06,246 - __main__ - INFO - [req_1757207430] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Living room or bedroo...
2025-09-06 18:11:06,246 - __main__ - INFO - [req_1757207430] Parsed designer chunk data: completed
2025-09-06 18:11:06,247 - __main__ - INFO - [req_1757207430] Designer service completed successfully
2025-09-06 18:11:06,349 - __main__ - INFO - [req_1757207430] Extracting product thumbnails from designer data
2025-09-06 18:11:06,350 - __main__ - INFO - [req_1757207430] Found 6 product recommendations
2025-09-06 18:11:06,350 - __main__ - INFO - [req_1757207430] Product 1: 3-Light Gold Semi Flush Mount Ceiling Light,Modern Sputnik Chandelier,Mid Century Industrial Vintage Metal Chandelier for Bedroom Kitchen Dining Room MCL03-GD -> https://m.media-amazon.com/images/I/41iWHdxlLUL._AC_UL320_.jpg
2025-09-06 18:11:06,350 - __main__ - INFO - [req_1757207430] Product 2: Small Solid Wood end Table with 1 Drawers, Mid-Century Modern Night Stand/nightstands,Side Table with Storage (Caramel) -> https://m.media-amazon.com/images/I/71FGm1MptpL._AC_UL320_.jpg
2025-09-06 18:11:06,350 - __main__ - INFO - [req_1757207430] Product 3: mopio Ensley Coffee Table, Mid Century Modern Table with Storage, Farmhouse Wood Coffee Table for Living Room Fluted (Walnut) -> https://m.media-amazon.com/images/I/61e8TM-br0L._AC_UL320_.jpg
2025-09-06 18:11:06,351 - __main__ - INFO - [req_1757207430] Product 4: LINSY Small Loveseat Sofa, 2 Seater Mid Century Modern Couch, 57" Mini Couch with Srorage, Removable Table and Pillow, Couches for Small Spaces Living Room Bedroom Dorm (Gray, Left) -> https://m.media-amazon.com/images/I/81d5zozRcBL._AC_UL320_.jpg
2025-09-06 18:11:06,351 - __main__ - INFO - [req_1757207430] Product 5: Blulu 4 Pcs Cast Iron Starburst Wall Decor Mid Century Modern Decor Retro 8 Pointed Atomic Stars Metal Wall Art Elegance Accents Easy Install Finish Hangings for Home Office Room(Retro) -> https://m.media-amazon.com/images/I/617E2bEqHNL._AC_UL320_.jpg
2025-09-06 18:11:06,351 - __main__ - INFO - [req_1757207430] Product 6: Mid Century Modern Area Rug 5x7 ft for Bedroom Living Room - Geometric Carpet for Room Decor, Abstract Printed Floor Rugs for Home Decorative, Soft & Non-Slip & Washable Indoor Mat -> https://m.media-amazon.com/images/I/81Wjs+7P+nL._AC_UL320_.jpg
2025-09-06 18:11:06,351 - __main__ - INFO - [req_1757207430] Extracted 6 product thumbnails
2025-09-06 18:11:06,351 - __main__ - INFO - [req_1757207430] Starting image generation streaming
2025-09-06 18:11:06,351 - __main__ - INFO - [req_1757207430] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 18:11:06,452 - __main__ - INFO - [req_1757207430] Preparing image data for img-gen service
2025-09-06 18:11:06,453 - __main__ - INFO - [req_1757207430] Prepared form data for img-gen service with 6 products
2025-09-06 18:11:06,453 - __main__ - INFO - [req_1757207430] Initiating HTTP streaming request to img-gen service
2025-09-06 18:11:06,466 - __main__ - INFO - [req_1757207430] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 18:11:06,477 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 18:11:06,478 - __main__ - INFO - [req_1757207430] Image generation service response status: 200
2025-09-06 18:11:06,478 - __main__ - INFO - [req_1757207430] Starting to process img-gen service streaming response
2025-09-06 18:11:06,478 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757207466", "message": "Starting image processing......
2025-09-06 18:11:06,478 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: started
2025-09-06 18:11:06,580 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 18:11:06,580 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: parsing
2025-09-06 18:11:06,682 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 18:11:06,682 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: loading_room
2025-09-06 18:11:06,785 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 6 product images..."}

...
2025-09-06 18:11:06,785 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: downloading
2025-09-06 18:11:06,887 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/6..."}

...
2025-09-06 18:11:06,888 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: downloading
2025-09-06 18:11:07,323 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/6..."}

...
2025-09-06 18:11:07,323 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: downloading
2025-09-06 18:11:07,727 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/6..."}

...
2025-09-06 18:11:07,727 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: downloading
2025-09-06 18:11:08,088 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/6..."}

...
2025-09-06 18:11:08,088 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: downloading
2025-09-06 18:11:08,406 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/6..."}

...
2025-09-06 18:11:08,407 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: downloading
2025-09-06 18:11:09,013 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/6..."}

...
2025-09-06 18:11:09,013 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: downloading
2025-09-06 18:11:09,378 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 18:11:09,378 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: creating_montage
2025-09-06 18:11:09,493 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 18:11:09,494 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: generating
2025-09-06 18:11:22,994 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 18:11:22,994 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: processing_result
2025-09-06 18:11:23,104 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757207466", "processing_time": 16...
2025-09-06 18:11:23,104 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: completed
2025-09-06 18:11:23,104 - __main__ - INFO - [req_1757207430] Image generation completed successfully
2025-09-06 18:11:23,207 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABOAAAANACAIAAAANYoVHAAAgAElEQVR42nT9...
2025-09-06 18:11:23,207 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: o8LEi4QkiqjIRiKCou+UgIq03kuok+lwROotQ1MN7FU0vWRjqN1ORLVUpHaFUlVQBTi7uxCDdG4M1RNOvS4ZVM4YlHYH6LTXVaFa...
2025-09-06 18:11:23,208 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: IiilRQUyW1pSYCOm0ngEvTRUZMXSglCQmVKGS70C3vxQHg6VUvOCOY91u7xSMs3NzssnpjJKquVGMOjimHumSbMlRJqZm8FMaWZW...
2025-09-06 18:11:23,209 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: O3X6tIBKQLXtUzJqvxqStHpKWXVADUn9elXVMSpNv1RQlTgdtMdp6+Urr3L8Wvp0wE68tpc9QAMw9GL1FNW+qO11300He60xaMS3...
2025-09-06 18:11:23,210 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: iNpPRFcjaLhwWWLUm9VFBxVMIpI6LC8GqTpKGo+p+HPI5meeDNyrNMqvAtyKtEtgNR+LMyZhPyweMxxYDdZXbCAnM9qeMqD2Paw6...
2025-09-06 18:11:23,210 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: 5E5fwQmMI5zLnU+veOebx408TDOrjKGKTPrweBs/Vs3DOqbK7ZkHsfjK8fggmurDHQuTbqzkKXxjd0Kt99ex75eOaB73Svu38mOU...
2025-09-06 18:11:23,211 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: qn0DTwYc3QKmrvIAqZJO8SJ9vHD/Imu6rUHUDQqnG5pCtQDqtnZo8OLm1tLm5tL8/GBqolEavjPy6T9erX11uL+4u7em5t693Y39...
2025-09-06 18:11:23,212 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: VSqHlXIu6UQ1tx7J+LXFp3YAlYBarrXOHq/G9hJQqaA6qUgeq6A6gCq+DhIpNjzi77XNxV4Lol5XQLnUFRBS9elUqs0V4ACGGCck...
2025-09-06 18:11:23,213 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: nV0cP3EkNzcDjJqXkZefVVCUo85eEN5rK7Y7SXlzWahu1NrR2T509VpBYYHd6Rqfubd4///TZSdfQmkksXFi8dn44tNxcB0URYWm...
2025-09-06 18:11:23,214 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: 66vWPHiFnJRK86gsEYoFJtFPkgEqyaergKYoosJCPzb8I3J/L+tEhV8AZNTVxUUA1FUE1PnlWYzzZU0zc5OwpmcnpmYwy3d8Uj4x...
2025-09-06 18:11:23,216 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: 4gBGWHyaiiQmmUlEVsXjTLixgOYlMhvMoJHoYvpUfLn1dBoXCU0zzHypmOk1FTLVpmIFIkC5hGzLHwRUQptUFCX7FdMF3aRyxtar...
2025-09-06 18:11:23,218 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: Do+S4bR2jyKWNCcLbi5qcgpKb9jOhWyugMGfsEXzbKLozte4XNWLHhCKWX1hYyhpTZe9xbo/VXDxUU2h6io22VKLLTU94bQ5FNPl...
2025-09-06 18:11:23,220 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: CCRTCqvg7O122EhekEwRULssoLZ6XE5vH5VSdPZ2MLOX0GkXdVQcQx3cJaKCxRcnTocdiqnk4BDKY7ockXZZoy9B0xEbgDSadIcT...
2025-09-06 18:11:23,222 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: s8FIzls6dTApvm7m5qLp1MX4eB1ApAQd3UxyL9THoKDqoZ5etNECoRJ89Xg8kNbr9tBGGR8dOnX5wO7rDfjR7gueXpcPI3x9PoqO...
2025-09-06 18:11:23,224 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: kyrNCBuUxxRoRt8CHkMt1ri0mEi1BFWl6mKJikQqVgt0WloCm67QLEupuCovn1DeRYCaEhe2773fvflv/xD1v/8v78v/t+2Hf5ef...
2025-09-06 18:11:23,227 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: tGlEgEl47Ykl/caYiAp8jfaQ1Sy+0WYRpmoaLc9emD+1PiSU9GLv1NUjxQeUJMXZ8KmcGAAqxdLE2PgEbskooybFxyXHx3v+3mRW...
2025-09-06 18:11:23,231 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: +2BUgOWjB4uPHywIoD4VTH3kaaeaO122dZmHBqhs7l1h8e/SE6NTeHEf3puXOy9dPJ2WmhSfGB2XFA1Alb8fsBhERelgIyy+oTqC...
2025-09-06 18:11:23,233 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: yivfmreDSImjHZ3tHV2d7Z18sYsVvj2dAqjt3b7a3k7P+tujzb1dljhVXr2s3UiXyKg9tPh2WZGvEOk1RVPQKeVTdfbiygVUmnuv...
2025-09-06 18:11:23,236 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: LL7bNm3curFwR0H/wKn9xw5W1lXKJ+GogEM6ORufDfjGAtMj/umRwPRwYHLIPzUMEzKejoR8I2HfWGQGCC0XYf/4bGBCTzQ4GQ/P...
2025-09-06 18:11:23,239 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: tQwV1EmbScUYql+Nvn5G7vq1JYZjqz6f6aJ08+pj/AE0DUCs36gWc60CqFRQufST4WsKi0JTDUiLaoJluu+0b3rWBlCNVKctS8lN...
2025-09-06 18:11:23,242 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: Ff6tPYyqgUlQUCsq7B5Ua/S0vNLaVxGVS7ORqtTfa8pRQbM4Xl1tM6o20DDFt7aqQrtnaq0qVGIq3L9WJ42ZRMWq0aXu3M+NpOpB...
2025-09-06 18:11:23,244 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: AqfudcyOfv2ZoKyWgXRz9CvMl/JNUCju+vL66JeYI0USkqDvN5yxxGZggCUCe9noq25eFQQdBZFif4QXjn/OVaifS4XMlQuAzysD...
2025-09-06 18:11:23,247 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: sovHAd9AF4OpWadvbmyp7R2wD3zaY7GZbd22zII0ryD3jJyUmMTQgHCf9ILkgBjf0MQA71A3T383ryAv7xD3XYd2egZ6BkUFeoW4...
2025-09-06 18:11:23,250 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: Et2OnCTC3/IyxPeq4fUt0Wg0ogOVvQC0WQpQKUOsEQJ9y2H1JUplNASGVTCmgiw5GqiKL8XMQ42QNhHnW8d9K/WMJBWi7ZThRLSt...
2025-09-06 18:11:23,253 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: E0KblAhJMqotJq3FqLUitxZdo06n2eshUHGHIoF0NjVM7Dc7tXT58s3P7/7mP37/zcMHd7+4R3+3HFCVHMxAoh7KpXMgN2QhYxCX...
2025-09-06 18:11:23,255 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: cPXK+etXL9y4dunWjcu3b10tLrxVXlZYW1sha6pta5V1tsvkXSh+QnyHIgfxaju4lB03YZuEkOpOvkfO4NqlUHaLbtVcKRVSYZ6a...
2025-09-06 18:11:23,258 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: opY1KnEutFOMagUNEXxa+bPxmmTkC+dehQxN7QpJO4U3klBQsZVVgRLf8ori0rKi0vIipMugvreopLSoCBa+eUUlANTCoryCPMJU...
2025-09-06 18:11:23,260 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: 59rpRSHK8RhREfC4kvnvC/gwTskzq256uQEEYp7GTq/yELGIBXQ6k0ZnUGl0ShWGV+XNKhnEpOYGuaKOZVWpXFaHcOAGKfGqnJC1...
2025-09-06 18:11:23,263 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: aFRBPCU0WGFutemtDqPZZhCtK2abUficQXaMo5hxxfV9uZa09fWgsmvX4d6tbHA6edAUrO/0ESkbd32Vp1yayhZfu1BQfUZfSB2Y...
2025-09-06 18:11:23,266 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: 4Mnjm/fuLVy/MX/j+syVq9NLl6eWLs9evXb93v17T54/f/vpw+ou8d7OwT8Pv/7f4em/9k7/B25ecOnfdLp58F8bB9+9ht6Df3Km...
2025-09-06 18:11:23,268 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: onNpzTGPdgrab5+dpyPD37u04lhediytuFavudc2fGvXRucXRubmRmbn+kITXW5PeWUZWDEpuiid5z+JDKGjxgp1LFkIE4L8mJMY...
2025-09-06 18:11:23,271 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: jRCW64ZgxFUPWhWIRLJoUJBjNVknVcLgMT0PQ6MqM9GplW5iGIGJl85Pp5ITnfYiXAoKLd18wCLrHWzs6K4xtTa1d/Y5nDOrayOT...
2025-09-06 18:11:23,274 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: 8AfcLrfD7rBaLAilBoNGo1VodQilarWccClcE0tkKJkKpBJ+bqAUDb1AnlzJNzoVI52KxLgIlAJ5csQEX3NDpzkcpTb4GMNLPL2C...
2025-09-06 18:11:23,276 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: b3+iyfbu+Y+r+19xDzMX+vt/YONbcnAU+BPQ8V9vJJASo/7P12Tx6X8oZulv5lUkgf7nKwmtb8w8Kkqs/3n+5a9nPMPfjNyKRl/S...
2025-09-06 18:11:23,279 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: UUVM3BteW4muEvSuRVdWw8tgYDogQmgS9HYRw8eJgb2R8GIYqulCEOmss77FKeJS79yMd3ZyfnpsemJofLhvpK93uG9gqL+7v9vZ...
2025-09-06 18:11:23,281 - __main__ - INFO - [req_1757207430] Received chunk from img-gen service: vvnhfwlQ3/70P4+f/3T/4Zv7j9/ef/zm/pO3BGBfff+Utp+8+OkZkSqz5WugKSMo+28xbsrJupBV595dZs63vz2D//bv85JSOh6+...
2025-09-06 18:11:23,289 - __main__ - INFO - [req_1757207430] Parsed img-gen chunk data: image_data
2025-09-06 18:11:23,289 - __main__ - INFO - [req_1757207430] Received base64 image data (2356712 chars)
2025-09-06 18:11:23,289 - __main__ - INFO - [req_1757207430] Preparing final response
2025-09-06 18:11:23,289 - __main__ - INFO - [req_1757207430] Final response includes: designer_data, generated_image, summary
2025-09-06 18:11:23,293 - __main__ - INFO - [req_1757207430] Streaming request completed successfully
2025-09-06 18:18:34,092 - __main__ - INFO - Setting up CORS middleware
2025-09-06 18:18:34,092 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 18:18:34,094 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 18:18:34,094 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 18:19:33,087 - __main__ - INFO - Setting up CORS middleware
2025-09-06 18:19:33,087 - __main__ - INFO - CORS middleware configured successfully
2025-09-06 18:19:33,088 - __main__ - INFO - Starting FastAPI backend server
2025-09-06 18:19:33,088 - __main__ - INFO - Server configuration: host=0.0.0.0, port=8000
2025-09-06 18:20:18,874 - __main__ - INFO - Health check endpoint accessed
2025-09-06 18:21:00,259 - __main__ - INFO - [req_1757208060] Starting streaming design endpoint request
2025-09-06 18:21:00,260 - __main__ - INFO - [req_1757208060] Reading image data before streaming
2025-09-06 18:21:00,261 - __main__ - INFO - [req_1757208060] Successfully read 647128 bytes of image data
2025-09-06 18:21:00,371 - __main__ - INFO - [req_1757208060] Starting designer service streaming
2025-09-06 18:21:00,372 - __main__ - INFO - [req_1757208060] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 18:21:00,474 - __main__ - INFO - [req_1757208060] Creating BytesIO for designer service
2025-09-06 18:21:00,474 - __main__ - INFO - [req_1757208060] Created files dict for designer service
2025-09-06 18:21:00,474 - __main__ - INFO - [req_1757208060] Initiating HTTP streaming request to designer service
2025-09-06 18:21:00,524 - __main__ - INFO - [req_1757208060] Created httpx.AsyncClient with 120s timeout
2025-09-06 18:21:00,532 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 18:21:00,532 - __main__ - INFO - [req_1757208060] Designer service response status: 200
2025-09-06 18:21:00,532 - __main__ - INFO - [req_1757208060] Starting to process designer service streaming response
2025-09-06 18:21:00,532 - __main__ - INFO - [req_1757208060] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 18:21:00,532 - __main__ - INFO - [req_1757208060] Parsed designer chunk data: analyzing_image
2025-09-06 18:21:03,866 - __main__ - INFO - [req_1757208060] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Living Room/Sitting Ro...
2025-09-06 18:21:03,867 - __main__ - INFO - [req_1757208060] Parsed designer chunk data: image_analyzed
2025-09-06 18:21:03,968 - __main__ - INFO - [req_1757208060] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 18:21:03,969 - __main__ - INFO - [req_1757208060] Parsed designer chunk data: critiquing_design
2025-09-06 18:21:08,952 - __main__ - INFO - [req_1757208060] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Excellent natural...
2025-09-06 18:21:08,952 - __main__ - INFO - [req_1757208060] Parsed designer chunk data: design_critiqued
2025-09-06 18:21:09,054 - __main__ - INFO - [req_1757208060] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 18:21:09,055 - __main__ - INFO - [req_1757208060] Parsed designer chunk data: parsing_preferences
2025-09-06 18:21:09,811 - __main__ - INFO - [req_1757208060] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 2200, "budge...
2025-09-06 18:21:09,811 - __main__ - INFO - [req_1757208060] Parsed designer chunk data: preferences_parsed
2025-09-06 18:21:09,912 - __main__ - INFO - [req_1757208060] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 18:21:09,913 - __main__ - INFO - [req_1757208060] Parsed designer chunk data: finding_products
2025-09-06 18:21:50,139 - __main__ - INFO - [req_1757208060] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Living Room/Sitting R...
2025-09-06 18:21:50,140 - __main__ - INFO - [req_1757208060] Parsed designer chunk data: completed
2025-09-06 18:21:50,140 - __main__ - INFO - [req_1757208060] Designer service completed successfully
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Extracting product thumbnails from designer data
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Found 8 product recommendations
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Product 1: Brightech Sky LED Torchiere Super Bright Floor Lamp - Contemporary, High Lumen Light for Living Rooms and Offices - Dimmable, Indoor Pole Uplight for Bedroom Reading - White -> https://m.media-amazon.com/images/I/51UcdAApynL._AC_UL320_.jpg
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Product 2: Goodpick Extra Large Wicker Storage Basket, 83L Woven Blanket Storage for Living Room, Round Woven Basket for Clothes, Large Jute Basket, Big Laundry Basket for Pillow, 21.7 x 13.8 inches -> https://m.media-amazon.com/images/I/91f7bA058jL._AC_UL320_.jpg
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Product 3: LITTLE TREE Farmhouse Coffee Table, 47 Inches Wooden Rectangular Accent Center Tables with Thick Base, Modern Low Cocktail Tea Furniture for Living Room (Rustic Brown) -> https://m.media-amazon.com/images/I/91B0qqArZrL._AC_UL320_.jpg
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Product 4: LIKIMIO 118" Modern L-Shaped Modular Sectional Sofa for Living Room, Corduroy Upholstery Green, Oversized 3-Seater Couch with Deep Seat and Movable Ottoman – No Assembly -> https://m.media-amazon.com/images/I/81RXVc78hsL._AC_UL320_.jpg
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Product 5: Boho Curtains for Living Room Lace Curtains 84 Inches Long 2 Panel, Rod Pocket Vintage Tassel Bohemian Decor Geometry Striped Light Filtering Crochet Semi Sheer Curtain Drapes for Bedroom,Beige -> https://m.media-amazon.com/images/I/81K18uZEHqL._AC_UL320_.jpg
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Product 6: Gray Boho Throw Pillow Cover 18x18 Grey Decorative Accent Pillow for Couch Square Woven Textured Pillowcase Modern Farmhouse Pillow for Bed Bohemian Pillow Cover (Pack of 1) -> https://m.media-amazon.com/images/I/91DxWTBT0dL._AC_UL320_.jpg
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Product 7: guzhiou large macrame wall hanging - Boho Tapestry Macrame Wall Decor Art- Chic Bohemian Handmade Woven Tapestry Home Decoration for Bedroom Living Room Apartment Wedding Party - 43"x32" (Wood bead) -> https://m.media-amazon.com/images/I/81qMgmJ4pcL._AC_UL320_.jpg
2025-09-06 18:21:50,243 - __main__ - INFO - [req_1757208060] Product 8: Gertmenian Indoor Boho Area Rug - 8x10 Large, Non Slip, Super Strong, Ideal for High Traffic Areas in Bedroom, Living Room, Kitchen - Cullen, Cream/Multi, 28548 -> https://m.media-amazon.com/images/I/91EoOVlgH7L._AC_UL320_.jpg
2025-09-06 18:21:50,244 - __main__ - INFO - [req_1757208060] Extracted 8 product thumbnails
2025-09-06 18:21:50,244 - __main__ - INFO - [req_1757208060] Starting image generation streaming
2025-09-06 18:21:50,244 - __main__ - INFO - [req_1757208060] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 18:21:50,345 - __main__ - INFO - [req_1757208060] Preparing image data for img-gen service
2025-09-06 18:21:50,346 - __main__ - INFO - [req_1757208060] Prepared form data for img-gen service with 8 products
2025-09-06 18:21:50,346 - __main__ - INFO - [req_1757208060] Initiating HTTP streaming request to img-gen service
2025-09-06 18:21:50,359 - __main__ - INFO - [req_1757208060] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 18:21:50,383 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 18:21:50,383 - __main__ - INFO - [req_1757208060] Image generation service response status: 200
2025-09-06 18:21:50,383 - __main__ - INFO - [req_1757208060] Starting to process img-gen service streaming response
2025-09-06 18:21:50,384 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757208110", "message": "Starting image processing......
2025-09-06 18:21:50,384 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: started
2025-09-06 18:21:50,485 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 18:21:50,485 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: parsing
2025-09-06 18:21:50,587 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 18:21:50,588 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: loading_room
2025-09-06 18:21:50,713 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 8 product images..."}

...
2025-09-06 18:21:50,713 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:50,815 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/8..."}

...
2025-09-06 18:21:50,815 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:51,226 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/8..."}

...
2025-09-06 18:21:51,227 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:51,550 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/8..."}

...
2025-09-06 18:21:51,550 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:51,821 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/8..."}

...
2025-09-06 18:21:51,821 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:52,174 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/8..."}

...
2025-09-06 18:21:52,174 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:52,484 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/8..."}

...
2025-09-06 18:21:52,485 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:52,841 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/8..."}

...
2025-09-06 18:21:52,842 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:53,186 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 8/8..."}

...
2025-09-06 18:21:53,186 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: downloading
2025-09-06 18:21:53,511 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 18:21:53,511 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: creating_montage
2025-09-06 18:21:53,638 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 18:21:53,638 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: generating
2025-09-06 18:22:07,608 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 18:22:07,608 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: processing_result
2025-09-06 18:22:07,720 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757208110", "processing_time": 17...
2025-09-06 18:22:07,720 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: completed
2025-09-06 18:22:07,720 - __main__ - INFO - [req_1757208060] Image generation completed successfully
2025-09-06 18:22:07,822 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42nT9...
2025-09-06 18:22:07,823 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: oJw37zmcm7oXpp8V8/axGK+6qXtr9Ahq0KxaQl6S+Mn+N2Wbmfy02OYX7geaN/Sv3n+VdCAUBu162Rj/nAyYn0bDTD8B8eXvKc8f...
2025-09-06 18:22:07,823 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: YE0NwIvqfmhRcgMghXopdzYuXP0HwP4jO1xzJkAm+WiQ/57PoxuDjxYcUBEN9vH4Vs7Syn/KE3fQ+pmZ9fiR2UHvkchbiPWfs3NX...
2025-09-06 18:22:07,824 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: ujfztY18Wi2wdcB0vvrG8Y3M7QmIHg179+zr0eIXTPe5tbjbyu/YrD9B9vVcpZgf9e0J+bR6hd3Ey8VBya39Sg2QGUpB06pXyrkI...
2025-09-06 18:22:07,824 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: gSD0ZwRQ6psBpOVHXgc14gMeADnYA6AVYDr+txIASwkcK/SnToDin5EEAekGABFAEi0ymloE0IY6gEdE/xskAJtjGedv++jPMXsA...
2025-09-06 18:22:07,825 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: +hH1g5ZjrPbay+pzlz+9KHx+KTGg0P9gaETsrUPB/722A9BPiB+rHG4ChlzVQAuYvFG5HAZKNm0iAL7fc7MUICsb//Nbmi4C40I4...
2025-09-06 18:22:07,826 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: /57yZ3RA3BkkxI8yd5IA1aUAUfwld8QKDoDEYExF/6SfUbt+JytCc89Zwb1Mz6l7Sf91EB9Q+8SUWAvcVwFNCCEQvf3EVHViapTb...
2025-09-06 18:22:07,827 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: gLPR0vKjteUHRIO9/cptftnja+0PdPT62lAGczR2EQHwoAMw0msd7DYN9Zhnxv2Tw9658eD0qH9pum8nPPtue3F7c36dCMDCWGhl...
2025-09-06 18:22:07,828 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: JmA9k/fkdJ/95TICwP60CYjv0a6gSycAu7t8B2Bnx7Cxg0Vga8ABdsybRss2LJT9oEmXbwIQATChXIc5o1gR2O6yCEyXAJEPGF7E...
2025-09-06 18:22:07,830 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: lirWcnzIbXbozIye89rcvN3h1ttc+ljaH8/4vbyV85vsLp3C+IHz6b2CNZT2e4J2p98aSngtrNbqtfx58tub09/+PP1ZoT9Rm1Um...
2025-09-06 18:22:07,832 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: O30Fpe0Ly37QPRGigLAfAKeCehUPgCAqQZ+KJcCL9T8K6CeJQCLuACbNvj6S/e/1K4E/nzkA0ADfggzg8b/sC2DNj4T+w+g/oER/...
2025-09-06 18:22:07,834 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: az+xuOmdXnVNL3umF72tWe/0nGcG8ah518KKb207sbQRRGyhOc/NL7vml4XZZefcqnNm2dZaNLeXLPNrwuyaUJtnG4v2XNOQrlKp...
2025-09-06 18:22:07,836 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: YaiwsUAY4FodQP+mtBc9AHDM+NqaIp3N8d72zKmjbUNnjp440tLdlu5sz3R1ZgD6w+jpyh0/2jY6empmenxpaW55eQGOqC1ewhjQ...
2025-09-06 18:22:07,838 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: f/PzUO5fgMN/QP9wcCFQVEhJAKwCChgCABQAtD80+hMIQPEsAaCWX3pDg/8B+peVMvZfuCLWx0Obv/AKTIBcK6vYDQCc8vLKsqLS...
2025-09-06 18:22:07,840 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: zi2aAxA3MBH/3MU392EbQCl86CUA6HzIM/cIK5jDqiHwD5C33r0zjwgAxH3enUWHwv2kAPj2LDYEz0IAKFynb9+Yvn1r5sG96729...
2025-09-06 18:22:07,843 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: efDE5j2Hnth94Bc79/77/qObLjy1Lzbmfak4lBf3ESfuA7U8UikLlUtC5bIIpSwMUn30XJ0ujuB7nSrWoOWSm0S73GGWWI2EDIhM...
2025-09-06 18:22:07,845 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: GR8fG84rKVpZWyYEAJI3H3xPm303RP+bgoAehx7++hsO8CuT4fPjpijPHx5DiCej8qfon5IBePL4Owb348uHVOeDXWCMVxjavr59...
2025-09-06 18:22:07,848 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: aewDwmtVlOZYSrIs5fnuXKdep0y3GuVKabJamqxTZqhlKcgB0kAIJEtXK7j9F6zAggEAj0inEmvVIrzP0KHxV4dLAIMGCYBKzLE+...
2025-09-06 18:22:07,850 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: QPG/88GN7Q+ub74Pe/+b75Pmh4F+tuBkg7b8UQgEDxGyc5R/m5+DzodXfaFF+BZbAPchKvTda1shPgDk4RoyAVAK4TDh+va7wBxA...
2025-09-06 18:22:07,852 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: nELMoRZoegil86N3Fq6ePtGX7ndlpnoz6PF/qifgA9CfnuoKUALgc/gIAfA6PR6Hy2EuKs4JNTdVVFWe/ub0KCUAC1fv30T0vwig...
2025-09-06 18:22:07,854 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: DzmI8k0Kh02Tb5Zb85WVlQUVZZbaKnurs9rVUtPcWOlx1Xrb6tqcde1eZ0eHq7fX19/X1d/XOdDXeeXy4KUrQyOXeg1mMY0Zn5Mb...
2025-09-06 18:22:07,856 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: geah9uqBtoqGYl5blayzTt1dr2mtlGIKmCCvXMJsq5S1VErrigWV6iJiAcSGVSIuUPHylbD4cCQSIF6+XEBTChlSPh0IgIjHEPEA...
2025-09-06 18:22:07,858 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: hwZf4hNAYYY/VT5ADAD+QVe8/S4BB/DxA8h7wcv7PHAAz2tnAalf87xw1f2cGxCASycJRgQOcOLkKZwAnDx+6Ojx/UeOHzh0dN/B...
2025-09-06 18:22:07,860 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: 5ufH5hUcLSpJLClNKiyKzy+MLylNLi5JLC5NKCxJgI8XBtxbVkUIoSarqhqtRA2MvAZgAHourSGHRs+lswuYnEImu4DByWfADpCY...
2025-09-06 18:22:07,863 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: 9xkQAA4/lcvF7mE2L0UoAWyXK5Cki/AkW6bIIdbhHJEkWyLNBiYgU+YqVPlaPUOtLdHoSrSw9CVaA1NnYOuNLKwc1jGNFN8ENIBC...
2025-09-06 18:22:07,866 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: Nvmb69w1Pmut11LvMYYcapdBbNeIjAq2Tkp3akTwV5zTKKn3W4d6mifHeocHWvu6artbvFYNh0fJ51LOmxSsWq8p7NZ7zUoPIQCw...
2025-09-06 18:22:07,868 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: emR2crAkM0rOSuClRWSnhYkpYSZxupwRzU0OEKQFw5GXFiJnxhuFaVJKhIoZnSel5ArSNQxggygFI1xKCYWPllAjKDEeyRFu8WHO...
2025-09-06 18:22:07,870 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: GFC0/4pOzkV80Y1AcssTXwMHOMP8n2u+8OZCcM3DvX8pLuwCuyF9YdcyKzCPdH5dkHR/Lp8YABDro7xHJgpCW7DwIfcTrcBCWXLo...
2025-09-06 18:22:07,873 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: yK9zeozOfQh2/gRbxAd8nB+S3e1YPk40L1uGtz3Dx57s+UROd0PfTkGatuxdRM3H2NL3sVUFH3SDXQtzM9PTM5NTpg2E1E9PTk9O...
2025-09-06 18:22:07,875 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: oAV68dtTKij2ALwBAgAcAIYAdi9s3j23effHO9s/3+FIUGwAeGoFdnR85ez0BpEBfPzS2RGXBDu9xO2/bwhxP0b2Ni5ub13cnsgA...
2025-09-06 18:22:07,877 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: JUQH+XxcBCAB7A8hoWKs+0ffxo1g6AwgD2J0DHKEBDwiDxSm87k8EPtwIQ2UmMCH3E8mkz7NYDCn0XemsQEAHUe3RdSCz+fD6ZAJ...
2025-09-06 18:22:07,879 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: bNxRSnpKSXc+7i7EPfBzGHWH/ejHw45IZjUfj4WsYb+1mkN014eIpUbMMMrYRgXPpBAo+Gwhh241qgNuWywcEAq4NAbVaLXarGa7...
2025-09-06 18:22:07,882 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: iRl2n81MPZ2beTYLLmGkz5O5mcdLc08Bpl+DOH56aXEKJnXOPV3AxuzTpdnJpTkwoLYHjvmp1YXptaWZteXp9ZWZjZXZ9dW59bU5...
2025-09-06 18:22:07,884 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: Js0GN9SSSyE7XW2gEp1/ra6QyNTVpP8Pmt9PNTyUjz1+WmWqkoSfrz+6flerEFSe9IDGYvi0SaUATV5C3nV59wgbzv5he/h8e/cZ...
2025-09-06 18:22:07,886 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: Y8C/m1ldeauHJtCsdooF16DHl4X8UDGtDQ9uRFBO0hrKAEULL+v2sglmXzPJZkws1YcIhknQ/OBmpqcIaxRACfAljEJGEC0jWJx2...
2025-09-06 18:22:07,889 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: OHrvYJPz5eYWI4Dunmbz9XJ1h3n/d4v1LSMDM1T5g75/dcMuE5zxk+KfNgDgBl4wAgCioAkg/tsFCoQgDxQKAZAAzBfzNewKkACA...
2025-09-06 18:22:07,891 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: BB2nxYtAr16cDbuTYXsyaPQamUYxWEy4shFHJRu+iPsqhfh02LpcTXrNYjkfr+ViAfvBox8+f/3op8c/ffP4h6/P956dvnz07tlD...
2025-09-06 18:22:07,894 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: oEQgziFxpSww7UsD6u8Zu1lwp28xzwcuWLxiQYrINMRMeVWeY/ucdg6I/M/kcq7jl3zIsb5ah4s5Vu0yZR+CH8P0ibzifUpuJi7y...
2025-09-06 18:22:07,896 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: xwRcomSvIZQ/avgKzSwWMqPTlXfV+4GA/yAT+h7yVclfKgdv1NIgsKTuHDo8pLo3J6nfqFfCaSAcUMUhxA1TOAlP6GZVfds+B/NV...
2025-09-06 18:22:07,899 - __main__ - INFO - [req_1757208060] Received chunk from img-gen service: c/QkCvltDDQjIezBKglbKb0FWKXLr80nv7mV6ub2DgnSDfJ7z+9XHrLe58GpfLCPlhhF8Fj6/92Dr6AxqwyZjg5D5cMxSAl4iDwB...
2025-09-06 18:22:07,906 - __main__ - INFO - [req_1757208060] Parsed img-gen chunk data: image_data
2025-09-06 18:22:07,906 - __main__ - INFO - [req_1757208060] Received base64 image data (2576848 chars)
2025-09-06 18:22:07,906 - __main__ - INFO - [req_1757208060] Preparing final response
2025-09-06 18:22:07,907 - __main__ - INFO - [req_1757208060] Final response includes: designer_data, generated_image, summary
2025-09-06 18:22:07,911 - __main__ - INFO - [req_1757208060] Streaming request completed successfully
2025-09-06 18:22:11,152 - __main__ - INFO - Root endpoint accessed
2025-09-06 18:25:08,468 - __main__ - INFO - Health check endpoint accessed
2025-09-06 18:25:25,179 - __main__ - INFO - [req_1757208325] Starting streaming design endpoint request
2025-09-06 18:25:25,179 - __main__ - INFO - [req_1757208325] Reading image data before streaming
2025-09-06 18:25:25,179 - __main__ - INFO - [req_1757208325] Successfully read 647128 bytes of image data
2025-09-06 18:25:25,281 - __main__ - INFO - [req_1757208325] Starting designer service streaming
2025-09-06 18:25:25,282 - __main__ - INFO - [req_1757208325] Designer service URL: http://localhost:8009/analyze-stream
2025-09-06 18:25:25,382 - __main__ - INFO - [req_1757208325] Creating BytesIO for designer service
2025-09-06 18:25:25,383 - __main__ - INFO - [req_1757208325] Created files dict for designer service
2025-09-06 18:25:25,383 - __main__ - INFO - [req_1757208325] Initiating HTTP streaming request to designer service
2025-09-06 18:25:25,399 - __main__ - INFO - [req_1757208325] Created httpx.AsyncClient with 120s timeout
2025-09-06 18:25:25,414 - httpx - INFO - HTTP Request: POST http://localhost:8009/analyze-stream "HTTP/1.1 200 OK"
2025-09-06 18:25:25,415 - __main__ - INFO - [req_1757208325] Designer service response status: 200
2025-09-06 18:25:25,415 - __main__ - INFO - [req_1757208325] Starting to process designer service streaming response
2025-09-06 18:25:25,415 - __main__ - INFO - [req_1757208325] Received chunk from designer service: data: {"status": "analyzing_image", "step": 1, "message": "Analyzing room image..."}

...
2025-09-06 18:25:25,415 - __main__ - INFO - [req_1757208325] Parsed designer chunk data: analyzing_image
2025-09-06 18:25:30,701 - __main__ - INFO - [req_1757208325] Received chunk from designer service: data: {"status": "image_analyzed", "step": 1, "room_analysis": {"room_type": "Living room/bedroom (d...
2025-09-06 18:25:30,702 - __main__ - INFO - [req_1757208325] Parsed designer chunk data: image_analyzed
2025-09-06 18:25:30,803 - __main__ - INFO - [req_1757208325] Received chunk from designer service: data: {"status": "critiquing_design", "step": 2, "message": "Generating design critique..."}

...
2025-09-06 18:25:30,804 - __main__ - INFO - [req_1757208325] Parsed designer chunk data: critiquing_design
2025-09-06 18:25:35,460 - __main__ - INFO - [req_1757208325] Received chunk from designer service: data: {"status": "design_critiqued", "step": 2, "design_critique": {"strengths": ["Excellent natural...
2025-09-06 18:25:35,460 - __main__ - INFO - [req_1757208325] Parsed designer chunk data: design_critiqued
2025-09-06 18:25:35,563 - __main__ - INFO - [req_1757208325] Received chunk from designer service: data: {"status": "parsing_preferences", "step": 3, "message": "Parsing user preferences..."}

...
2025-09-06 18:25:35,563 - __main__ - INFO - [req_1757208325] Parsed designer chunk data: parsing_preferences
2025-09-06 18:25:36,262 - __main__ - INFO - [req_1757208325] Received chunk from designer service: data: {"status": "preferences_parsed", "step": 3, "user_preferences": {"budget_amount": 1300, "budge...
2025-09-06 18:25:36,262 - __main__ - INFO - [req_1757208325] Parsed designer chunk data: preferences_parsed
2025-09-06 18:25:36,364 - __main__ - INFO - [req_1757208325] Received chunk from designer service: data: {"status": "finding_products", "step": 4, "message": "Finding product recommendations..."}

...
2025-09-06 18:25:36,365 - __main__ - INFO - [req_1757208325] Parsed designer chunk data: finding_products
2025-09-06 18:26:09,423 - __main__ - INFO - [req_1757208325] Received chunk from designer service: data: {"status": "completed", "success": true, "room_analysis": {"room_type": "Living room/bedroom (...
2025-09-06 18:26:09,424 - __main__ - INFO - [req_1757208325] Parsed designer chunk data: completed
2025-09-06 18:26:09,424 - __main__ - INFO - [req_1757208325] Designer service completed successfully
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Extracting product thumbnails from designer data
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Found 8 product recommendations
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Product 1: Joiedomi Clear Christmas String Lights Indoor,100 Count Mini Warm White Fairy Light,21.5FT Lighting Decor for Patio Dorm Classroom Bedroom Holiday Wedding Party Garland Birthday Festival,Green Wire -> https://m.media-amazon.com/images/I/81eirAl4SRL._AC_UL320_.jpg
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Product 2: Cotton Craft Solid Wood Accent End Table - Hand Carved Vintage Boho Folding Side Table - Small Spaces Entryway Farmhouse Living Room Bedside - No Tools Assembly -18x18 Round - Jaipur Antique Brown -> https://m.media-amazon.com/images/I/81NJ6mFCtqL._AC_UL320_.jpg
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Product 3: Studio Living® Lexington 75.6" Sofa, Mid-Century Modern, Pocket Coil Comfort, Easy Assembly, Velvet Fabric, Olive Green -> https://m.media-amazon.com/images/I/81ub9XdzAzL._AC_UL320_.jpg
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Product 4: Mkono Macrame Plant Hanger Indoor Hanging Planter Basket with Wood Beads Decorative Flower Pot Holder No Tassels for Indoor Outdoor Boho Home Decor 35 Inch, Ivory, Set of 1 (POTS NOT Included) -> https://m.media-amazon.com/images/I/61dWZkgeJ0L._AC_UL320_.jpg
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Product 5: Jartinle Set of 4 Retro Floral Mandala Compass Medallion Bohemian Pillow Covers Boho Decor Hippie Throw Pillows Decorative for Sofa Couch 18 x 18 -> https://m.media-amazon.com/images/I/71z12dzRg4L._AC_UL320_.jpg
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Product 6: guzhiou large macrame wall hanging - Boho Tapestry Macrame Wall Decor Art- Chic Bohemian Handmade Woven Tapestry Home Decoration for Bedroom Living Room Apartment Wedding Party - 43"x32" (Wood bead) -> https://m.media-amazon.com/images/I/81qMgmJ4pcL._AC_UL320_.jpg
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Product 7: 100% Blackout Shield Linen Blackout Curtains for Bedroom 84 Inches Long, Back Tab/Rod Pocket Living Room Drapes, Thermal Insulated Blackout Curtains 2 Panels Set, 50" W x 84" L, Cream -> https://m.media-amazon.com/images/I/7121kw+gfyL._AC_UL320_.jpg
2025-09-06 18:26:09,526 - __main__ - INFO - [req_1757208325] Product 8: Area Rug for Living Room 9x12: Large Washable Boho Moroccan Rugs Geometric Neutral Rug, Non-Slip Foldable Morden Farmhouse Indoor Floor Carpet for Bedroom Dining Table Home(Brown Green,9'x12') -> https://m.media-amazon.com/images/I/81bJJVv+Z+L._AC_UL320_.jpg
2025-09-06 18:26:09,527 - __main__ - INFO - [req_1757208325] Extracted 8 product thumbnails
2025-09-06 18:26:09,527 - __main__ - INFO - [req_1757208325] Starting image generation streaming
2025-09-06 18:26:09,527 - __main__ - INFO - [req_1757208325] Image generation service URL: http://localhost:8005/process-image-stream
2025-09-06 18:26:09,628 - __main__ - INFO - [req_1757208325] Preparing image data for img-gen service
2025-09-06 18:26:09,628 - __main__ - INFO - [req_1757208325] Prepared form data for img-gen service with 8 products
2025-09-06 18:26:09,628 - __main__ - INFO - [req_1757208325] Initiating HTTP streaming request to img-gen service
2025-09-06 18:26:09,639 - __main__ - INFO - [req_1757208325] Created httpx.AsyncClient with 180s timeout for image generation
2025-09-06 18:26:09,648 - httpx - INFO - HTTP Request: POST http://localhost:8005/process-image-stream "HTTP/1.1 200 OK"
2025-09-06 18:26:09,648 - __main__ - INFO - [req_1757208325] Image generation service response status: 200
2025-09-06 18:26:09,648 - __main__ - INFO - [req_1757208325] Starting to process img-gen service streaming response
2025-09-06 18:26:09,648 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "started", "request_id": "req_1757208369", "message": "Starting image processing......
2025-09-06 18:26:09,648 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: started
2025-09-06 18:26:09,749 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "parsing", "message": "Parsing product names and URLs..."}

...
2025-09-06 18:26:09,750 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: parsing
2025-09-06 18:26:09,852 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "loading_room", "message": "Loading room image..."}

...
2025-09-06 18:26:09,853 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: loading_room
2025-09-06 18:26:09,955 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading 8 product images..."}

...
2025-09-06 18:26:09,955 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:10,057 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 1/8..."}

...
2025-09-06 18:26:10,058 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:10,878 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 2/8..."}

...
2025-09-06 18:26:10,878 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:11,168 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 3/8..."}

...
2025-09-06 18:26:11,168 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:11,522 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 4/8..."}

...
2025-09-06 18:26:11,522 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:11,888 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 5/8..."}

...
2025-09-06 18:26:11,889 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:12,241 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 6/8..."}

...
2025-09-06 18:26:12,242 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:12,602 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 7/8..."}

...
2025-09-06 18:26:12,602 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:12,907 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "downloading", "message": "Downloading image 8/8..."}

...
2025-09-06 18:26:12,907 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: downloading
2025-09-06 18:26:13,367 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "creating_montage", "message": "Creating product montage..."}

...
2025-09-06 18:26:13,367 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: creating_montage
2025-09-06 18:26:13,500 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "generating", "message": "Generating image with AI..."}

...
2025-09-06 18:26:13,500 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: generating
2025-09-06 18:26:44,380 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "processing_result", "message": "Processing AI response..."}

...
2025-09-06 18:26:44,381 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: processing_result
2025-09-06 18:26:44,492 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "completed", "success": true, "request_id": "req_1757208369", "processing_time": 34...
2025-09-06 18:26:44,492 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: completed
2025-09-06 18:26:44,492 - __main__ - INFO - [req_1757208325] Image generation completed successfully
2025-09-06 18:26:44,595 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: data: {"status": "image_data", "data": "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAgAElEQVR42mz9...
2025-09-06 18:26:44,596 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: Xzzj8ewbivtdZYZLOOK+srXJxv+mK4NhALquIcD25qo7/zgFiBmQGAUY4WddVB9n/FsUAKN/fUkG4C5AbG7R739HiF9rIzJ/vOvP...
2025-09-06 18:26:44,598 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: mNmXa0KRQSIJmeASPrQKYaMEIGxkbqoxsvimECfqSRqEFqwRUJmAaBtkQqYIokwobSdoG0DVAPYDthzAle/Q/3lwCBwgnkUXLV+I...
2025-09-06 18:26:44,598 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: +q16fS9Gky1Ug74viIZBPcOu3+dKTEwMbUuaxPzqOT6hY+n7YLoARxG3OHmM05AM+lZAP5wQ8iratuoaNYwS8g4pC1EduXz5cKDo...
2025-09-06 18:26:44,600 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: yO8Jno78zYCrQ/a/fOjteH4O0m/jfaaumsBCikbOiTFS1y/NAP7ywaKEFMtO1Mq8oxB85JzKdMT6U3+qhsahHgDoZBRAT4Yu+Z7b...
2025-09-06 18:26:44,601 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: RzcLcoHSiDpYXAQBeD/56c3kx1eMAPqwujwTCS7GwyskAOuJKAjA0tzE1Oe3H9/8CRzg9Q+f3v+0tDCRTASEAKQE9yNMSY9QXDcA...
2025-09-06 18:26:44,602 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: RifhSIQmcklvOR9q1lILM0Ua8Ffg8fx8ea5ZmJkGApCZQf1P+fxc7eL5+srFGTgWF+r4yvP1pQutc3PVSimRTvlr1UyjnmUOUK4m...
2025-09-06 18:26:44,603 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: /mHLf/49g9WdDADUVd1JAeMOQB2H+6YjwBTKr5UIMHYBqlI2/2rkNy0KqmkQA1CtG0AoHzagGgdobmK5fxP7/MAdrxbSf6xGiQAT...
2025-09-06 18:26:44,605 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: IKw/NdLXIQBoAZsZ658c/jgy8H6o7y127ntg5B2SYkB7Z8f7p0Z7hzoegO+//cOr53/s6/puYRoxoMuzw4szw3NTg7MoE+ge6ntD...
2025-09-06 18:26:44,607 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: 34+0Pp4BsNptNADAmzj093v1Dwb/G+kPff92AngA1L/DAbO/JE78dWyGgPEEMD3+C0OBdDsQ3Su8CfqFE9j+d+LkL+j58dD9Pz7c...
2025-09-06 18:26:44,608 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: ewxohxvP5fkq35+I6XIwU0YyRTyRCmGMJ0p4LT693npitBlOzPp949Ep+IrcVvAZOrxWo/3I5tEHUCcjRgGo4GKITEYdQeuh4RgA...
2025-09-06 18:26:44,610 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: n9w/PHl4Zjja191/dHbfHjDH02G+hMmVFJp2+8P6QNQUR+3hlCkteumsL047/JETve2u2X3k8OnOzPf3dZ8cm+85IqYI4Q2gVl/S...
2025-09-06 18:26:44,612 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: 5rDfGvc7/HYT+FYhYBgVfIVw3IwpKvnIbLsC5H4m7plp5Zemy4VkIB12piKuWjHeqqa9FEIh8ljAGg05E0GnUck1G6UZ6LdjBWo4...
2025-09-06 18:26:44,613 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: wGOQ8CpNKizOsWmEFo2QyyzRK9mJkB10p0bW2JLyRwPmsEdnN8mjfovTLE1HcK097NX7HVq4JuQxZaLueNAWcBgKc+bVlOfZDbLe...
2025-09-06 18:26:44,615 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: vftxOW+vRtRl0wkAUg+SmtuI1+A2i9Nh21h/IeozxwOmbMzlsqAKqJByA7IHRFtM+4AkxAJWu16qEHSqxV0Bh8pplEQ8Bo2U7bOr...
2025-09-06 18:26:44,617 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: 3Q2g9Dx+R3cPr5vG/3wBjw8UgM/HDNDuLqoAQxtAF7+DJ8AYUD6vy2ozAxIIRUOj42O3bt1Y/Oyzw90dnPpjGfD+c4b+aQPw9BmH...
2025-09-06 18:26:44,619 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: PEQlB+YAryuRi4TiQcFQD8ruUdjTLcK/ZN1EALqH+rHMS4AAvRtlQoIBiWBQzO+TYOtNjxAH/xgDKkAnAPYA0At3DgITGGTdXqjt...
2025-09-06 18:26:44,621 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: iN9mmjeqRZ715WX5FNzUKPlwM+jSxf2rhiURf/ASb+CCZUUKBEA62auSo49WLedPjlxdM8yvGecnhy4r0RsgBvxtXpZZdUqAyE6g...
2025-09-06 18:26:44,623 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: Z2UczWEPABt/j2adED0A76AMWCSBHifo//bxd988eeTt40feOsnTAHprXs6JstK8SiQyF5WVFBAHKJFawIgAnCR2wQTgeHbWsezM...
2025-09-06 18:26:44,626 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: gC2S/seCkB9OAWLEz9MAFv80WMTGPzQ/9UwD2A/A3t8GaQLAwf88CmiSCAAHgAoC0MrQH8c4kGwAVpCBVm4AYBpAHABuYGz5s+7f...
2025-09-06 18:26:44,628 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: CUirpVUaDoADtPAcoNVXIIAz7T4aIDJDuUsYMZnsD5aSgrA6O6Sc0O6O7m42CXSIPoFOvuV76WEcLkngkghAZ0tXJ2EyDAHQxNXb...
2025-09-06 18:26:44,630 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: FhcX4vRRYSyWgMtDJJoIx+JoARRNrBEA2EaCoWgoEPYHQ/6m9taevp3tXV2Xr96AP9Ly8vLje3dfPbn74uEqLOw8PAZ4egf+HG8f...
2025-09-06 18:26:44,632 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: U31p6V0iABnpSTz4G8fhX2gCJCex5w8TgDgEvEZgACAphraJmAAOj40KiwoPiggNAAHgYc5gQnQQ6njDA9QP+h8/NgBFFIC3htX/...
2025-09-06 18:26:44,634 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: 7lYWHV1gzIAuxYSANCcAldE1uwxdCQIgZEIYHRYzBmKdXdyNFAuewPcEuD+H3J+1Q9d3rv9A/Izm0XbAHcQDxZAxavC3J2AFN6fM...
2025-09-06 18:26:44,636 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: wCJ26HGyiyvxRGYmkU7g9LOYns8mUhnsnsVnxWeBECve8J1EAHwB0fTs83jFVozwqcOLYnVAYAbyZrERNNexcbRVr1XrOSpGQy+r...
2025-09-06 18:26:44,639 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: nuPmuny0Y6d/DLbamZGJiaGxkaHx4UFhEwKwp2bGBYBPzcCXOzM9PjU1OoXU//HJiVkOE4QDwIEwOgb+sLQsVw5FMnjFxMTMFIL/...
2025-09-06 18:26:44,641 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: ibBaT1dHV1drd3fbQB/zA0AL1M9UQygEmCQCQBhaMEPIjAflzzQANFEAqUg6SwSA8wGbQnswIY1iYMRlCsR0aR7UPvSPR1fn041I...
2025-09-06 18:26:44,643 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: wu7h/sb21t7B/vLa2h7Siy1a45nWfHGi1p1qDEqd8fhUtbW3RwTjSK5UqPUqrfFQfrqxd7SHTAD5xubBGo2to9WNg6XVnYXlzaXV...
2025-09-06 18:26:44,646 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: Q/zcw/29wvw9OTTO2FBZVKCcFWC+XpF+ngzQDOA90YGyGH/PWKz7eYV5u0cHYpM8ojje78GZgQDPEG+3IKVrEO2/bsEAzTJmaPrL...
2025-09-06 18:26:44,648 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: FSAIiFgBXYNK6ZyUV1pSiNmGihIkPhH6L0ZFQGlxIUuAuOrolpCBKBSjXuN8dIEAQAiEBRGK/+j+L575z3Lh9OXzGPW/zASA89dz...
2025-09-06 18:26:44,650 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: OHTjpx8/I6hw7YUEAQjiCsQuffu+z8A1FjYk/v0D1IGxX6Ir2h8E2/K4cDltrC4tzk8Dx/T1dYoe4kYAnaHBgZnZqb6+3qbGpqrq...
2025-09-06 18:26:44,652 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: wYVprwElxyM4BhIhJryJM8Nc4pPE29y07zib0XQKzA0cOAHVCgIBzuAQSlif0DMheDpT6PBmVj/H55fpL19OCGGD7kIpl2Rj8DjI...
2025-09-06 18:26:44,655 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: 7mMqzntZmsfe570ozS/F8uqS4tySYhXRgKry0obaVx9b6t411zXUltdUlrxuqPz6qYWYwKf3jW2f37Sy9++baz+/q/v0ru5DS01z...
2025-09-06 18:26:44,657 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: irXIEQFgNbHpK1SARemliCClWUcsX8eRz8boubT+OebkxrcmA1fJ759IoPrz9/Xv3zc3NxncSN8yFFonf37P/fmT8H36kt46HmaB...
2025-09-06 18:26:44,659 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: QObmGoAbMK5AW6egDRjrqphM0FaLTk0UhuWAyRKJBIFXIS2lsAULGYr+WbgtAcGXCoVkKS/0KiJeSnjO5P76VspKwcPJEIgBQBtI...
2025-09-06 18:26:44,662 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: rqrEQQBwRtTK6VzKXy5GQQZoS8oc4pqeftDvqD9eB/gTgI8F0NdSHKcwVui0mYarcdTJ9AI72nMAbRgSb6Lk5gDo13utsmTWinyl...
2025-09-06 18:26:44,664 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: O/2s5/mU9zAH4AnYXUB2nwj/cvmA8sUEtoDWUp/Tj1ECnkm43+vmxRx+5AojWtgPMgDCQJTAL9oGBCvgvgJekhdw2ZjYWMEWeFyC...
2025-09-06 18:26:44,667 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: Yj8ecV2df7DfXTzFw9lUpFRIjYYNSRypqqKJfLmQtFnPL05+Pvn4/e3JJ+fdpe369PbsV7/bAoiZH3Z7rVoi4r46+/HjD/92ffSD...
2025-09-06 18:26:44,669 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: I5uJRGNAcJ1XFwDpHPBpYDRcO5xWn8+ZSkWur88+ffpwevL157//BLfH4vBmsiWQYcL5DKDT7nbggmSlnJNlrFmdasJ6qwpCDwBo...
2025-09-06 18:26:44,671 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: 6WG9mkuLCUaLLub95WKICUVYlwYkRD5sgJa04IBl4gCDLoCldDwa8OHyqS2TiVFroS+bh48YfGBDtC5tuLr8dHd/YTOr4fkE5gNg...
2025-09-06 18:26:44,674 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: lwOs/GF2gVpi4hjskQiGxBUdiLKCiEX2YSwHQj4W7ot1NaYIACfVqDAckdCklKBf0nVYqxOS7q2ohPNI8mZCgXtJ0cHNcmgpx2VG...
2025-09-06 18:26:44,676 - __main__ - INFO - [req_1757208325] Received chunk from img-gen service: KOD3pdNx+VH2nJ6kLsJnp0dnnuOA39tqV+Wjm89nBMEEA76tp99sv3j69u2b05P9o6PdaOw8HsOPbKmQHvVbH95fX18vF4thLptk...
2025-09-06 18:26:44,684 - __main__ - INFO - [req_1757208325] Parsed img-gen chunk data: image_data
2025-09-06 18:26:44,684 - __main__ - INFO - [req_1757208325] Received base64 image data (2696032 chars)
2025-09-06 18:26:44,684 - __main__ - INFO - [req_1757208325] Preparing final response
2025-09-06 18:26:44,684 - __main__ - INFO - [req_1757208325] Final response includes: designer_data, generated_image, summary
2025-09-06 18:26:44,689 - __main__ - INFO - [req_1757208325] Streaming request completed successfully
